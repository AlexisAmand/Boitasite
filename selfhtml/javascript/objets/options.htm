<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SELFHTML: JavaScript / R&eacute;f&eacute;rence objet / options</title>
<link rel="stylesheet" type="text/css" href="../../src/selfhtml.css">
<meta name="description"    content="Quels sont le r&ocirc;le et les propri&eacute;t&eacute;s de l'objet options en JavaScript.">
<meta name="keywords"       content="SELFHTML, JavaScript, objets, listes de choix, options, defaultSelected, length, selected, selectedIndex, text, value">
<meta name="author"         content="Stefan M&uuml;nz, selfhtml@teamone.de">
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta name="DC.Publisher"   content="Serge Fran&ccedil;ois, selfhtml@selfhtml.com.fr">
<meta name="DC.Date"        content="2003-01-27T08:00+00:00">
<meta name="DC.Identifier"  content="http://selfhtml.selfhtml.com.fr/javascript/objets/options.htm">
<meta name="DC.Language"    content="fr">
<meta name="DC.Rights"      content="../../editorial/copyright.htm">
<meta name="DC.Date.Create" content="2003-01-27T08:00+00:00">
<meta name="SELF.Version"   content="1">
<meta name="SELF.Pagetype"  content="Information">
<meta name="SELF.Path"      content="SELFHTML == ../../index.htm // JavaScript/DOM == ../index.htm // R&eacute;f&eacute;rence objet == index.htm">
<!-- Matomo -->
<script type="text/javascript">
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.boitasite.com/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#AA5522" vlink="#772200" alink="#000000">

<table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr>
<td bgcolor="#FFEEDD" class="nav"><a class="an" name="top"><img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"></a> <a href="../../index.htm"><b>SELFHTML</b></a>/<a href="../../navigation/index.htm" target="_parent">Aides &agrave; la navigation</a> <img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"> <a href="../index.htm"><b>JavaScript/DOM</b></a> <img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"> <a href="index.htm"><b>R&eacute;f&eacute;rence objet</b></a></td>
</tr>
</table><table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr>
<td bgcolor="#EEEEEE" class="doc" width="110"><img src="../../src/logo.gif" width="106" height="109" border="0" alt="SELFHTML"></td>
<td bgcolor="#EEEEEE" class="doc" valign="bottom" width="100%"><h2>options</h2>
<tr>
<td bgcolor="#EEEEEE" class="doc" valign="top" align="center">
<img src="../../src/docx.gif" width="30" height="20" vspace="6" border="0" alt="Page d'information: vue d'ensemble">
</td>
<td bgcolor="#FFFFFF" valign="top" nowrap>

<p><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#generalites"><b>options: g&eacute;n&eacute;ralit&eacute;s sur l'utilisation</b></a><br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#nouveaux_elements"><b>Ajouter des nouveaux &eacute;l&eacute;ments dans des listes de choix</b></a><br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#effacer_elements"><b>Effacer des &eacute;l&eacute;ments d'une liste de choix </b></a>
</p>

<h3>Propri&eacute;t&eacute;s:</h3>

<p>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#default_selected"><b>defaultSelected</b></a> (choix par d&eacute;faut)<br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#length"><b>length</b></a> (nombre de possibilit&eacute;s de choix)<br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#selected"><b>selected</b></a> (choix actuel)<br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#selected_index"><b>selectedIndex</b></a> (Index du choix actuel)<br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#text"><b>text</b></a> (texte du choix)<br>
<img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#value"><b>value</b></a> (valeur du choix)<br>
</p>



</td>
</tr><tr><td colspan="2" bgcolor="#EEEEEE" class="doc">&#160;<a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr>
</table>





<h2 class="Sh2"><a class="an" name="generalites">option: g&eacute;n&eacute;ralit&eacute;s sur l'utilisation</a></h2>

<p>Avec l'objet <code>options</code>, qui se situe sous l'objet  <img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information">&nbsp;<a href="elements.htm"><b>elements</b></a> dans la hi&eacute;rarchie des objets JavaScript, vous acc&eacute;dez aux <img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information">&nbsp;<a href="../../html/formulaires/choix.htm#listes"><b>listes de choix</b></a> d'un formulaire. Vous pouvez acc&eacute;der &agrave; chaque possibilit&eacute; de choix distincte de la liste de choix.</p>

<p>Les mani&egrave;res suivantes sont &agrave; votre disposition pour adresser les options d'une liste de choix avec JavaScript:</p>

<h3 class="xmp">Sch&eacute;ma 1 / exemple 1:</h3>
<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
document.forms[#].elements[#].options[#].propri�t�
document.forms[#].elements[#].propri�t�

document.forms[0].elements[0].options[4].text = &quot;ineptie&quot;;
document.forms[0].elements[0].selectedIndex = 2;</pre></td></tr></table>

<h3 class="xmp">Sch&eacute;ma 2 / exemple 2:</h3>
<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
document.nom_formulaire.nom_element.options[#].propri�t�
document.nom_formulaire.nom_element.options.propri�t�

document.formulaire_test.choix.options[4].text = &quot;ineptie&quot;;
document.formulaire_test.choix.selectedIndex = 2;</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>
<p>Les listes de choix sont des &eacute;l&eacute;ments tout &agrave; fait normaux du formulaire. Vous adressez donc des listes de choix comme tout autre &eacute;l&eacute;ment du formulaire:</p>
<ul>
<li>avec un num&eacute;ro d'index (comme dans le sch&eacute;ma 1 /exemple 1)<br>
Pour l'utilisation de num&eacute;ros d'index, mentionnez <code>document.forms</code> suivi, entre crochets, du num&eacute;ro d'ordre du formulaire que vous voulez adresser dans le fichier. Pensez que le compteur commence &agrave; 0, c'est &agrave; dire qu'il vous faut adresser le premier formulaire avec <code>forms[0]</code>, le deuxi&egrave;me avec <code>forms[1]</code> etc...   Pour compter, pr&eacute;vaut l'ordre dans lequel les commandes <code>&lt;form&gt;</code> sont not&eacute;es dans le fichier. Puis suit la mention <code>elements</code>, &agrave; la suite de laquelle vous notez &agrave; nouveau un num&eacute;ro d'index entre crochets. L&agrave; aussi, le compteur commence &agrave; 0, c'est &agrave; dire que le premier &eacute;l&eacute;ment d'un formulaire a le num&eacute;ro d'index 0, le deuxi&egrave;me le num&eacute;ro d'index 1 etc... Vous devez rechercher l&agrave; le num&eacute;ro d'index de la liste de choix d&eacute;sir&eacute;e.</li>
<li>avec le nom du formulaire (comme dans le sch&eacute;ma 2 /exemple 2<br>
Pour cela, mentionnez avec <code>document.nom_formulaire.nom_element</code> le nom du formulaire et de l'&eacute;l&eacute;ment que vous avez mentionn&eacute;s lors de la d&eacute;finition du formulaire et de la liste de choix dans les rep&egrave;res HTML correspondants dans l'attribut <code>&lt;form name=&gt;</code> et <code>&lt;select name=&gt;</code>.</li>
</ul>
<p>&Agrave; cela s'ajoute dans certains cas, pour les listes de choix, la mention <code>options</code> - pour les possibilit&eacute;s de choix distinctes d'une liste de choix. Il y a des propri&eacute;t&eacute;s d'objet pour <code>options</code>, pour lesquelles il vous faut mentionner cette mention suivie d'un num&eacute;ro d'index de l'option de choix d&eacute;sir&eacute;e. La premi&egrave;re possibilit&eacute; de choix sur la liste a le num&eacute;ro d'index 0, la deuxi&egrave;me le num&eacute;ro d'index 1 etc... Les autres propri&eacute;t&eacute;s d'objet n'ont pas besoin de la mention  <code>options</code>. Pour les exemples de cette page, il est &agrave; chaque fois montr&eacute; comment adresser exactement une propri&eacute;t&eacute; de l'objet <code>options</code>.</p>




<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie4.gif" width="30" height="30" border="0" alt="MS IE 4.0"> <a class="an" name="nouveaux_elements">Ajouter des nouveaux &eacute;l&eacute;ments dans des listes de choix</a></h2>


<p>Vous pouvez, dans un JavaScript, ajouter de nouveaux &eacute;l&eacute;ments dans une liste de choix ou remplacer des &eacute;l&eacute;ments existants par des nouveaux. Pour cela, vous devez cr&eacute;er &agrave; l'aide de JavaScript un nouvel objet <code>option</code> et l'affecter &agrave; une liste de choix.</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_nouveaux_elements.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function ajouter() {
 nouvel_element = new Option(document.formulaire_test.nouveau.value,document.formulaire_test.nouveau.value,false,true);
 document.formulaire_test.choix.options[document.formulaire_test.choix.length] = nouvel_element;
 document.formulaire_test.nouveau.value = &quot;&quot;;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;8&quot;&gt;
&lt;option&gt;Un �l�ment&lt;/option&gt;
&lt;/select&gt;
&lt;br&gt;
&lt;input type=&quot;text&quot; name=&quot;nouveau&quot;&gt;
&lt;input type=&quot;button&quot; value=&quot;Ajouter&quot; onClick=&quot;ajouter()&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>Dans l'exemple est d&eacute;fini un formulaire contenant une liste de choix avec un &eacute;l&eacute;ment, un champ de saisie et un bouton. Dans le champ de saisie, l'utilisateur peut entrer des &eacute;l&eacute;ments qu'il d&eacute;sire ajouter &agrave; la liste de choix. En cliquant sur le bouton, la valeur saisie est prise dans la liste de choix comme &eacute;l&eacute;ment.</p>

<p>Pour ce faire, la fonction <code>ajouter()</code> est appel&eacute;e (elle est not&eacute;e dans l'ent&ecirc;te de fichier). Avec la premi&egrave;re instruction de cette fonction, un nouvel objet options est cr&eacute;&eacute; avec <code>new Option</code>. Comme param&egrave;tre est transmis le texte qui doit &ecirc;tre affich&eacute; dans le nouvel &eacute;l&eacute;ment de liste. Dans l'exemple, c'est la valeur du champ de saisie rempli par l'utilisateur    (<code>document.formulaire_test.nouveau.value</code>). &Agrave; la fin, vous devez mentionner &agrave; quel endroit dans la liste le nouvel &eacute;l&eacute;ment doit &ecirc;tre ins&eacute;r&eacute;. Dans l'exemple ci-dessus, le nouvel &eacute;l&eacute;ment doit &ecirc;tre ajout&eacute; &agrave; la fin de la liste. Pour cela est affect&eacute; au nouvel &eacute;l&eacute;ment un num&eacute;ro d'index qui est recherch&eacute; avec la propri&eacute;t&eacute;  <img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#length"><b>length</b></a>. Vous pouvez toujours utiliser cette syntaxe pour ajouter des &eacute;l&eacute;ments de liste &agrave; la fin d'une la liste. Supposons cependant que, dans l'exemple ci-dessus, vous vouliez &eacute;craser le premier &eacute;l&eacute;ment de la liste avec le nouveau. Alors la fonction <code>ajouter()</code> devrait voir modifier cette commande:<br>
<code>document.formulaire_test.choix.options[document.formulaire_test.choix.length] = nouvel_element;</code><br>
comme suit:<br>
<code>document.formulaire_test.choix.options[0] = nouvel_element;</code><br>
En mentionnant un num&eacute;ro d'index qui existe d&eacute;j&agrave; dans la liste, vous &eacute;crasez donc un &eacute;l&eacute;ment.</p>

<p><code>new Option()</code> conna&icirc;t quatre param&egrave;tres dont les trois derniers sont facultatifs. <br>
<b>1.</b> <i>text</i> = texte affich&eacute; dans la liste <br>
<b>2.</b> <i>value</i> = valeur de la liste &agrave; transmettre (facultatif)<br>
<b>3.</b> <i>defaultSelected</i> = transmettre <code>true</code> quand l'&eacute;l&eacute;ment doit &ecirc;tre l'&eacute;l&eacute;ment s&eacute;lectionn&eacute; par d&eacute;faut, sinon <code>false</code> (facultatif)<br>
<b>4.</b> <i>selected</i> = transmettre <code>true</code> quand l'&eacute;l&eacute;ment doit &ecirc;tre  s&eacute;lectionn&eacute; (facultatif)<br>
Opera 5.12 n'interpr&egrave;te pas les deux derniers param&egrave;tres,  Netscape 6.1 n'interpr&egrave;te pas le dernier.</p>

<h3>Attention:</h3>

<p>Dans l'Explorer Internet 5.0 vous ne pouvez pas modifier une liste de choix par del&agrave; les fen&ecirc;tres. Le navigateur y r&eacute;agit par un message d'erreur, voire un plantage. Notez toujours bien pour cette raison la fonction qui modifie dans le m&ecirc;me document que la liste et appelez cette fonction le cas &eacute;ch&eacute;ant par del&agrave; les fen&ecirc;tres.</p>

<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie4.gif" width="30" height="30" border="0" alt="MS IE 4.0"> <a class="an" name="effacer_elements">Effacer des &eacute;l&eacute;ments d'une liste de choix</a></h2>

<p>Vous pouvez effacer des &eacute;l&eacute;ments en leur attribuant la valeur <code>null</code>. En alternative, il est &eacute;galement possible d'affecter su tableau  Options une nouvelle longueur. Cette possibilit&eacute; n'est cependant pas support&eacute;e par  Opera 5.12 .</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_effacer_elements.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>

<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function effacer() {
 document.formulaire_test.choix.options[document.formulaire_test.choix.length-1] = null;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;8&quot;&gt;
&lt;option&gt;choix 1&lt;/option&gt;
&lt;option&gt;choix 2&lt;/option&gt;
&lt;option&gt;choix 3&lt;/option&gt;
&lt;option&gt;choix 4&lt;/option&gt;
&lt;option&gt;choix 5&lt;/option&gt;
&lt;/select&gt;
&lt;br&gt;
&lt;input type=&quot;button&quot; value=&quot;effacer&quot; onClick=&quot;effacer()&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix et un bouton. En cliquant sur le bouton, le dernier &eacute;l&eacute;ment est &agrave; chaque fois effac&eacute; de la liste de choix. Pour cela, la fonction <code>effacer()</code> est appel&eacute;e. La premi&egrave;re instruction dans la fonction efface un &eacute;l&eacute;ment de la liste. Pour effacer un &eacute;l&eacute;ment, donnez le num&eacute;ro d'index de l'&eacute;l&eacute;ment &agrave; effacer. Dans l'exemple, on a mentionn&eacute; pour le faire <code>document.formulaire_test.choix.length-1</code> - c'est le num&eacute;ro d'index du dernier &eacute;l&eacute;ment. Vous pouvez aussi bien mentionner <code>0</code> pour effacer le premier &eacute;l&eacute;ment de la liste, <code>1</code>, pour effacer le deuxi&egrave;me etc... Le processus d'effacement se r&eacute;alise en affectant la valeur <code>null</code> &agrave; l'&eacute;l&eacute;ment de la liste.</p>



<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js11.gif" width="30" height="30" border="0" alt="JavaScript 1.1"><img src="../../src/netsc3.gif" width="30" height="30" border="0" alt="Netscape 3.0"><img src="../../src/msie4.gif" width="30" height="30" border="0" alt="MS IE 4.0"><img src="../../src/jswrite.gif" width="60" height="30" border="0" alt="lecture/&eacute;criture"> <a class="an" name="default_selected">defaultSelected</a></h2>

<p>Sauvegarde si ou qu'une possibilit&eacute; de choix est s&eacute;lectionn&eacute;e par d&eacute;faut. Les valeurs possibles sont <code>true</code> ou <code>false</code>.</p>


<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_default_selected.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function choix_init() {
 for(i=0; i&lt;document.formulaire_test.choix.length; i++)
   if(document.formulaire_test.choix.options[i].defaultSelected == true)
     document.formulaire_test.choix.options[i].selected=true;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;8&quot;&gt;
&lt;option&gt;Limoges&lt;/option&gt;
&lt;option&gt;Paris&lt;/option&gt;
&lt;option&gt;Bastia&lt;/option&gt;
&lt;option&gt;Lille&lt;/option&gt;
&lt;option selected&gt;Marseille&lt;/option&gt;
&lt;option&gt;Lyon&lt;/option&gt;
&lt;option&gt;Bordeaux&lt;/option&gt;
&lt;option&gt;Brest&lt;/option&gt;
&lt;/select&gt;
&lt;br&gt;
&lt;input type=&quot;button&quot; value=&quot;initialiser le choix&quot; onClick=&quot;choix_init()&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>
<p>L'exemple contient un formulaire avec une liste de choix et un bouton. Pour la liste de choix un choix a &eacute;t&eacute; pr&eacute;s&eacute;lectionn&eacute; lors de la d&eacute;finition HTML avec <code>selected</code>. L'utilisateur peut naturellement choisir un autre &eacute;l&eacute;ment. Si pourtant il clique sur le bouton portant l'inscription &quot;initialiser le choix&quot;, l'&eacute;tat original est reconstitu&eacute;. Pour cela alors que le bouton est cliqu&eacute;, la fonction <code>choix_init()</code> est appel&eacute;e. Elle recherche dans une  <img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information">&nbsp;<a href="../langage/boucles.htm#for"><b>boucle for</b></a> pour toutes les possibilit&eacute;s de choix de la liste de choix s'il s'agit pour l'une d'elle d'un choix pr&eacute;s&eacute;lectionn&eacute; (<code>if(document.formulaire_test.choix.options[i].defaultSelected==true)</code>). Car le choix pr&eacute;s&eacute;lectionn&eacute; est encore sauvegard&eacute; &agrave; ce stade m&ecirc;me si l'utilisateur a entre temps choisi un autre &eacute;l&eacute;ment. Quand le choix pr&eacute;s&eacute;lectionn&eacute; est trouv&eacute;, le choix actuel est fix&eacute; comme pr&eacute;s&eacute;lection sur la valeur de l'index (<code>document.formulaire_test.choix.options[i].selected=true</code>). Ainsi est reconstitu&eacute; l'&eacute;tat original.</p>


<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie3.gif" width="30" height="30" border="0" alt="MS IE 3.0"><img src="../../src/jsread.gif" width="60" height="30" border="0" alt="lecture"> <a class="an" name="length">length</a></h2>

<p>Sauvegarde le nombre d'&eacute;l&eacute;ments d'une liste de choix</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_length.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;8&quot;&gt;
&lt;option&gt;Limoges&lt;/option&gt;
&lt;option&gt;Paris&lt;/option&gt;
&lt;option&gt;Bastia&lt;/option&gt;
&lt;option&gt;Lille&lt;/option&gt;
&lt;option&gt;Marseille&lt;/option&gt;
&lt;option&gt;Lyon&lt;/option&gt;
&lt;option&gt;Bordeaux&lt;/option&gt;
&lt;option&gt;Brest&lt;/option&gt;
&lt;/select&gt;
&lt;/form&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
document.write(&quot;Choisissez l'un des  &quot; + document.formulaire_test.choix.length + &quot; �l�ments&quot;);
//--&gt;
&lt;/script&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix. Sous le formulaire est not&eacute; un passage JavaScript. S'il est plac&eacute; dessous, c'est parce que le code qu'il contient doit &ecirc;tre ex&eacute;cut&eacute; tout de suite tout en posant comme condition pr&eacute;alable l'existence du formulaire. Avec  <img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information">&nbsp;<a href="document.htm"><b>document</b></a>.<a href="document.htm#write"><b>write()</b></a> le nombre de possibilit&eacute;s de choix de la liste de choix est &eacute;crit de fa&ccedil;on dynamique dans le fichier.</p>



<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie3.gif" width="30" height="30" border="0" alt="MS IE 3.0"><img src="../../src/jswrite.gif" width="60" height="30" border="0" alt="lecture/&eacute;criture"> <a class="an" name="selected">selected</a></h2>

<p>Sauvegarde si ou qu'un &eacute;l&eacute;ment d&eacute;termin&eacute; d'une liste de choix est s&eacute;lectionn&eacute;.</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_selected.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function verification_choix() {
 if(document.formulaire_test.choix.options[2].selected == true)
 {
  alert(&quot;Ce choix n'est pas valable&quot;);
  return false;
 }
 return true;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; onSubmit=&quot;return verification_choix()&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;5&quot;&gt;
&lt;option&gt;Moli�re&lt;/option&gt;
&lt;option&gt;Racine&lt;/option&gt;
&lt;option&gt;Jean-Jacques Goldmann&lt;/option&gt;
&lt;option&gt;Corneille&lt;/option&gt;
&lt;option&gt;Hugo&lt;/option&gt;
&lt;/select&gt;
&lt;br&gt;
&lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix et un bouton d'envoi pour envoyer le formulaire. Cependant, lors de l'envoi, la fonction <code>verification_choix()</code> est appel&eacute;e par le gestionnaire d'&eacute;v&eacute;nement <code>onSubmit=</code> du rep&egrave;re d'ouverture <code>&lt;form&gt;</code>. Le formulaire n'est envoy&eacute; que si cette fonction renvoie la valeur <code>true</code>. La fonction v&eacute;rifie si l'utilisateur n'aurait pas eu l'id&eacute;e de choisir l'&eacute;l&eacute;ment avec le num&eacute;ro d'index 2 (Jean-Jacques Goldmann). Dans ce cas une annonce est faite et la valeur <code>false</code> est renvoy&eacute;e, ce qui implique que le formulaire n'est pas envoy&eacute;. L'utilisateur peut faire un nouveau choix.</p>

<h3 class="xpl">Attention:</h3>

<p>La propri&eacute;t&eacute; <code>selected</code> se diff&eacute;rencie de <img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas">&nbsp;<a href="#selected_index"><b>selectedIndex</b></a> par l'adressage de l'&eacute;l&eacute;ment de liste d&eacute;sir&eacute;. Autrement les deux propri&eacute;t&eacute;s ont la m&ecirc;me t&acirc;che.</p>


<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie3.gif" width="30" height="30" border="0" alt="MS IE 3.0"><img src="../../src/jswrite.gif" width="60" height="30" border="0" alt="lecture/&eacute;criture"> <a class="an" name="selected_index">selectedIndex</a></h2>

<p>Sauvegarde si ou qu'un &eacute;l&eacute;ment d'une liste de choix est s&eacute;lectionn&eacute;. Si rien n'est s&eacute;lectionn&eacute;, alors la valeur <code>-1</code> est sauvegard&eacute;e dans la propri&eacute;t&eacute;.</p>

<h3 class="xmp">Exemple:</h3>

<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_selected_index.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>


<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function verification_choix() {
 if(document.formulaire_test.choix.selectedIndex == 2)
  document.formulaire_test.choix.selectedIndex = 0;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;5&quot; onChange=&quot;verification_choix()&quot;&gt;
&lt;option&gt;Moli�re&lt;/option&gt;
&lt;option&gt;Racine&lt;/option&gt;
&lt;option&gt;Jean-Jacques Goldmann&lt;/option&gt;
&lt;option&gt;Corneille&lt;/option&gt;
&lt;option&gt;Hugo&lt;/option&gt;
&lt;/select&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix. Dans le rep&egrave;re d'ouverture <code>&lt;select&gt;</code> est not&eacute; le gestionnaire d'&eacute;v&eacute;nement <code>onChange=</code>. Ce qui fait que chaque fois que l'utilisateur fait un choix dans la liste de choix, la fonction <code>verification_choix()</code> est appel&eacute;e. La fonction v&eacute;rifie si l'utilisateur n'a pas choisi l'&eacute;l&eacute;ment avec le num&eacute;ro d'index 2 (Jean-Jacques Goldmann). Si oui, la fonction choisit automatiquement l'&eacute;l&eacute;ment avec le num&eacute;ro d'index 0 (Moli&egrave;re). Ce qui signifie qu'apr&egrave;s, la barre de choix pointe sur cet &eacute;l&eacute;ment. L'utilisateur peut bien s&ucirc;r faire un nouveau choix.</p>

<h3 class="xpl">Attention:</h3>

<p>La propri&eacute;t&eacute; selectedIndex se diff&eacute;rencie de  <img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut">&nbsp;<a href="#selected"><b>selected</b></a> par l'adressage de l'&eacute;l&eacute;ment de liste d&eacute;sir&eacute;. Autrement les deux propri&eacute;t&eacute;s ont la m&ecirc;me t&acirc;che.</p>




<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie3.gif" width="30" height="30" border="0" alt="MS IE 3.0"><img src="../../src/jswrite.gif" width="60" height="30" border="0" alt="lecture/&eacute;criture"> <a class="an" name="text">text</a></h2>

<p>Sauvegarde le texte affich&eacute; d'un &eacute;l&eacute;ment de la liste de choix.</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_text.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function verification_choix() {
 if(document.formulaire_test.choix.selectedIndex == 2)
  document.formulaire_test.choix.options[2].text = &quot;Sacha Guitry&quot;;
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;5&quot; onChange=&quot;verification_choix()&quot;&gt;
&lt;option&gt;Moli�re&lt;/option&gt;
&lt;option&gt;Racine&lt;/option&gt;
&lt;option&gt;Jean-Jacques Goldmann&lt;/option&gt;
&lt;option&gt;Corneille&lt;/option&gt;
&lt;option&gt;Hugo&lt;/option&gt;
&lt;/select&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix. Dans le rep&egrave;re d'ouverture <code>&lt;select&gt;</code> le gestionnaire d'&eacute;v&eacute;nement <code>onChange=</code> est not&eacute;. Ce qui fait que chaque fois que l'utilisateur fait un choix dans la liste de choix, la fonction <code>verification_choix()</code> est appel&eacute;e. La fonction v&eacute;rifie si l'utilisateur n'a pas choisi l'&eacute;l&eacute;ment avec le num&eacute;ro d'index 2 (Jean-Jacques Goldmann). Si oui, la fonction change le texte affich&eacute; de cet &eacute;l&eacute;ment en &quot;Sacha Guitry&quot;. La possibilit&eacute; de choix reste s&eacute;lectionn&eacute;e.</p>

<h3 class="inf">Attention:</h3>

<p>La modification de la propri&eacute;t&eacute; <code>text</code> - comme dans l'exemple ci-dessus - n'est possible que depuis JavaScript 1.1 (Netscape 3.x, l'Explorer Internet MS 4.x). La lecture, par contre, l'est parfaitement depuis JavaScript 1.0.</p>


<table bgcolor="#EEEEEE" class="doc" width="100%"><tr><td>
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a><a href="#bottom"><img src="../../src/bas.gif" width="14" height="10" border="0" alt="vers le bas"></a>&#160;</td></tr></table>
<h2 class="Sh2"><img src="../../src/js10.gif" width="30" height="30" border="0" alt="JavaScript 1.0"><img src="../../src/netsc2.gif" width="30" height="30" border="0" alt="Netscape 2.0"><img src="../../src/msie3.gif" width="30" height="30" border="0" alt="MS IE 3.0"><img src="../../src/jsread.gif" width="60" height="30" border="0" alt="lecture"> <a class="an" name="value">value</a></h2>


<p>Sauvegarde la valeur d'envoi interne d'un &eacute;l&eacute;ment dans une liste de choix.</p>

<h3 class="xmp">Exemple:</h3>
<p><img src="../../src/docf.gif" width="15" height="10" border="0" alt="D&eacute;monstration - nouvelle fen&ecirc;tre">&nbsp;<a href="affichage/option_value.htm" target="_blank"><b>Exemple d'affichage: aper&ccedil;u</b></a></p>



<table width="100%" cellpadding="10"><tr><td class="xmpcode" bgcolor="#FFFFE0"><pre>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
function verification_choix() {
 for(i=0;i&lt;document.formulaire_test.choix.length;++i)
  if(document.formulaire_test.choix.options[i].selected == true)
   alert(document.formulaire_test.choix.options[i].value);
}
//--&gt;
&lt;/script&gt;
&lt;/head&gt;&lt;body&gt;
&lt;form name=&quot;formulaire_test&quot; action=&quot;&quot;&gt;
&lt;select name=&quot;choix&quot; size=&quot;5&quot; onChange=&quot;verification_choix()&quot;&gt;
&lt;option value=&quot;Idiot!&quot;&gt;Choixaveugle  1&lt;/option&gt;
&lt;option value=&quot;Cr�tin!&quot;&gt;Choixaveugle  2&lt;/option&gt;
&lt;option value=&quot;D�bile!&quot;&gt;Choixaveugle  3&lt;/option&gt;
&lt;option value=&quot;Vaurien!&quot;&gt;Choixaveugle  4&lt;/option&gt;
&lt;option value=&quot;Bingo - gagn�!&quot;&gt;Choixaveugle  5&lt;/option&gt;
&lt;/select&gt;
&lt;/form&gt;
&lt;/body&gt;&lt;/html&gt;
</pre></td></tr></table>

<h3 class="xpl">Explication:</h3>

<p>L'exemple contient un formulaire avec une liste de choix. Dans les diff&eacute;rents rep&egrave;res  <code>&lt;option&gt;</code> sont not&eacute;es avec <code>value=</code> des valeurs d'envoi internes. De plus, dans le rep&egrave;re d'ouverture <code>&lt;select&gt;</code> est not&eacute; le gestionnaire d'&eacute;v&eacute;nement <code>onChange=</code>. Ce qui fait que chaque fois que l'utilisateur fait un choix dans la liste de choix, la fonction <code>verification_choix()</code> est appel&eacute;e. La fonction recherche dans une  <img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information">&nbsp;<a href="../langage/boucles.htm#for"><b>boucle for</b></a> si pour toutes les possibilit&eacute;s de choix de la liste de choix, le choix correspondant a &eacute;t&eacute; s&eacute;lectionn&eacute;. Si oui, la valeur d'envoi interne de la possibilit&eacute; de choix est sortie dans une boite de dialogue.</p>









<table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr><td colspan="2" bgcolor="#EEEEEE" class="doc">
&#160;<a href="#top"><img src="../../src/haut.gif" width="14" height="10" border="0" alt="vers le haut"></a>
</td></tr>
<tr><td bgcolor="#EEEEEE" class="doc" align="right"><a href="images.htm"><img src="../../src/suivant.gif" width="10" height="10" border="0" hspace="10" alt="page suivante"></a></td>
<td bgcolor="#FFFFFF"><img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information"> <a href="images.htm"><b>images</b></a>
</td></tr>
<tr>
<td bgcolor="#EEEEEE" class="doc" align="right"><a href="elements.htm"><img src="../../src/precedent.gif" width="10" height="10" border="0" hspace="10" alt="page pr&eacute;c&eacute;dente"></a></td>
<td bgcolor="#FFFFFF" width="100%"><img src="../../src/doc.gif" width="15" height="10" border="0" alt="Autre page d'information"> <a href="elements.htm"><b>elements</b></a>
</td>
</tr>
<tr><td colspan="2" bgcolor="#EEEEEE" class="doc">&#160;</td></tr>
</table><table cellpadding="4" cellspacing="0" border="0" width="100%">
<tr>
<td bgcolor="#FFEEDD" class="nav"><a class="an" name="bottom"><img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"></a> <a href="../../index.htm"><b>SELFHTML</b></a>/<a href="../../navigation/index.htm" target="_parent">Aides &agrave; la navigation</a> <img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"> <a href="../index.htm"><b>JavaScript/DOM</b></a> <img src="../../src/refchap.gif" width="16" height="13" border="0" alt="Renvoie au chapitre d'origine"> <a href="index.htm"><b>R&eacute;f&eacute;rence objet</b></a></td>
</tr>
</table>

<p>&copy; 2001 Stefan M&uuml;nz / &copy; 2003 Traduction <img src="../../src/courriel.gif" width="15" height="10" border="0" alt="Adresse &eacute;lectronique">&nbsp;<a href="mailto:13405@free.fr">Serge Fran&ccedil;ois, 13405@free.fr</a><br><img src="../../src/courriel.gif" width="15" height="10" border="0" alt="Adresse &eacute;lectronique">&nbsp;<a href="mailto:selfhtml@selfhtml.com.fr">selfhtml@selfhtml.com.fr</a></p>



</body>
</html>
