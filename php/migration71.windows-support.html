<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Support Windows</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="migration71.other-changes.html">« Autres changements</a></li>
      <li style="float: right;"><a href="migration70.html">Migration de PHP 5.6.x vers PHP 7.0.x »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="migration71.html">Migration de PHP 7.0.x vers PHP 7.1.x</a></li>
    <li>Support Windows</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="migration71.windows-support" class="sect1">
 <h2 class="title">Support Windows</h2>

 <div class="sect2" id="migration71.windows-support.long-and-utf8-path">
  <h3 class="title">Support pour les chemins long et UTF-8</h3>
  <p class="para">
   Si une application web est conforme à l&#039;UTF-8, aucune action supplémentaire n&#039;est requise.
   Pour des applications qui dépendent de chemins dans un encodage différent que UTF-8 pour l&#039;I/O,
   une directive INI doit être explicitement définit. La vérification des paramètres d&#039;encodage INI
   se fie à l&#039;ordre dans le cœur (core) :
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     internal_encoding
    </span>
   </li>
    <li class="listitem">
    <span class="simpara">
     default_charset
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     zend.multibyte
    </span>
   </li>
  </ul>
  <p class="para">
   Plusieurs fonction pour la gestion des codepage ont été introduite :
  </p>
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         sapi_windows_cp_set() to set the default codepage
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         sapi_windows_cp_get() to retrieve the current codepage
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         sapi_windows_cp_is_utf8()
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         sapi_windows_cp_conv() to convert between codepages, using iconv() compatible signature
        </span>
       </li>
      </ul>
  <p class="para">
   Ces fonctions sont thread safe.
  </p>
  <p class="para">
   La sortie de la console codepage est ajusté en fonction de l&#039;encodage utilisé
   en PHP. En fonction du codepage OEM du système concret, la sortie visible
   pourrait ou pourrait ne pas être correct. Par exemple, avec le cmd.exe par
   défaut et sur un système avec le codepage OEM 437, la sortie dans codepage 1251,
   1252, 1253 et d&#039;autres peuvent être montrer correctement en utilisant UTF-8.
   Sur les mêmes systèmes, les charactères dans codepage tel que 20932 seront
   probablement pas montré correctement.
   Ceci fait référence aux régles système particulières pour codepage, la
   compabilité de la police et le choix du programme de console utilisé.
   PHP définit automatiquement la codepage console en accord avec les régles
   d&#039;encodages depuis php.ini. Utiliser des consoles alternative à la place de
   cmd.exe directement pourrait apporter une meilleure expérience dans certains cas.
  </p>
  <p class="para">
   Toutefois soyez conscient, changer de codepage après que la requête a commencé
   peut causer des effets secondaires inattendue en CLI. La façon préférable est php.ini.
   Quand PHP CLI est utilisé dans un émulateur de console, qui ne supporte pas Unicode,
   il est possiblement nécessaire, d&#039;éviter de changer la codepage de la console.
   La meilleure façon pour achever ceci est de définir l&#039;encodage interne ou par défault pour
   correspondre à la codepage ANSI. Une autre méthode est de définir la directive INI
   output_encoding et input_encoding à la codepage requise, cependant dans ce cas la
   différence entre les codepages interne et I/O risque de causer du mojibake.
   Dans de rare cas, si PHP arrive à planter gracieusement, la codepage originale de la
   console peut ne pas être restaurée. Dans ce cas, la commande chcp peut être utilisé,
   pour la restaurer manuellement.
  </p>
  <p class="para">
   Attention particulière pour les systèmes DBCS - le changement de codepage lors de
   l&#039;exécution en utilisant <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span> risque de causer des problèmes d&#039;affichage.
   À la différence des systèmes non DBCS, c&#039;est que les charactères étendues nécessites deux consoles
   pour être affiché. Dans certains cas, seulement la mise en correspondance des caractères dans
   le jeu de glyphes de la police pourrait se produire, aucun changement de police se produit. Ceci est
   la nature des systèmes DBCS, la manière la plus simple de prévenir des problèmes d&#039;affichages
   et d&#039;éviter l&#039;usage de <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span> pour le changement de codepage.
  </p>
  <p class="para">
   En conséquence du support d&#039;UTF-8 dans les flux, les scripts PHP ne sont plus
   limité à des noms de fichiers ASCII ou ANSI. Ceci est prêt à l&#039;emplois en CLI.
   Pour d&#039;autres SAPI, la documentation pour le serveur correspondant est utile.
  </p>
  <p class="para">
   Le support des chemins long est transparent. Les chemins plus long que 260 octets sont
   automatiquement préfixé par <code class="literal">\\?\</code>. La longeur maximale du chemin est
   limité à 2018 octets. Soyez conscient, que la limite des segments de chemin (longeur du
   basename) persiste.
  </p>
  <p class="para">
   Pour la meilleure portabilité, il est fortement recommendé de gérer les noms de fichiers,
   I/O et autre sujets connexe UTF-8. En outre, pour les applications console, l&#039;usage
   d&#039;une police TrueType est préférable et l&#039;usage de ini_set() pour le
   le changement de codepage est déconseillé.
  </p>
  <p class="para">
  </p>
  <p class="para">
  </p>
 </div>

 <div class="sect2" id="migration71.windows-support.readline">
  <h3 class="title">readline</h3>

  <p class="para">
   L&#039;<a href="book.readline.html" class="link">extension readline</a> est supporté
   à travers la <a href="http://mingweditline.sourceforge.net/" class="link external">&raquo;&nbsp;bibliothèque
   WinEditLine</a>. Ainsi l&#039;interface système interactive <acronym title="Command Line Interpreter/Interface">CLI</acronym> est
   aussi supporté (<code class="literal">php.exe -a</code>).
  </p>
 </div>

 <div class="sect2" id="migration71.windows-support.php-fcgi-children">
  <h3 class="title">PHP_FCGI_CHILDREN</h3>
  <p class="para">
  <var class="varname">PHP_FCGI_CHILDREN</var> est désormais respecté. Si cette variable d&#039;environement
   est définit, le premier processus <var class="filename">php-cgi.exe</var> exécutera le nombre
   spécifié d&#039;enfant. Ceci partageront le même socket TCP.
  </p>
 </div>

 <div class="sect2" id="migration71.windows-support.ftok">
  <h3 class="title">ftok()</h3>
  <p class="para">
   Ajout du support pour <span class="function"><a href="function.ftok.html" class="function">ftok()</a></span>
  </p>
 </div>

</div></div></div></body></html>