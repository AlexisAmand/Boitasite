<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>R&eacute;flexion sur des Objets de Service de Donn&eacute;es</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="sdo.sample.sequence.html">« Travailler avec des Objets de Donn&eacute;es en S&eacute;quence</a></li>
      <li style="float: right;"><a href="ref.sdo.html">Fonctions SDO »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="sdo.examples.html">Exemples</a></li>
    <li>R&eacute;flexion sur des Objets de Service de Donn&eacute;es</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="sdo.sample.reflection" class="section">
  <h2 class="title">Réflexion sur des Objets de Service de Données</h2>
  <p class="para">
   Les SDOs ont une connaissance de la structure qu&#039;ils ont créée pour la
   représentation (le modèle). Par exemple, une Compagnie SDO créée utilisant
   <a href="sdo.examples.html" class="link">le schéma de Compagnie XML</a> ci-dessus
   devrait seulement être permis de contenir des objets de données
   DepartementType qui à leur tour devrait contenir seulement des objets de
   données EmployeType.
  </p>
  <p class="para">
   Parfois, il est utile d&#039;être capable d&#039;accéder ces informations de modèle à
   l&#039;exécution. Par exemple, cela pourrait être utilisé pour générer
   automatiquement une interface d&#039;usager pour remplir un objet de données.
   Les informations de modèle sont accédées en utilisant la réflexion.
  </p>

  <p class="para">
   <div class="example" id="example-6091">
    <p><strong>Exemple #1 Réflexion sur les Objets de Données</strong></p>
    <div class="example-contents"><p>
     L&#039;exemple suivant montre comment nous pouvons utiliser la réflexion sur
     un objet de données vide Employe.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Crée&nbsp;l'objet&nbsp;de&nbsp;données&nbsp;employe&nbsp;(par&nbsp;exemple,&nbsp;à&nbsp;partir&nbsp;de&nbsp;Service&nbsp;d'Accès<br />&nbsp;&nbsp;//&nbsp;de&nbsp;données&nbsp;XML)<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$employee&nbsp;</span><span style="color: #007700">=&nbsp;...;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$reflection&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_Model_ReflectionDataObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$employee</span><span style="color: #007700">);<br />&nbsp;&nbsp;print(</span><span style="color: #0000BB">$reflection</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
object(SDO_Model_ReflectionDataObject)#4 { - ROOT OBJECT - Type { 
companyNS:EmployeeType[3] { commonj.sdo:String $name; 
commonj.sdo:String $SN; commonj.sdo:Boolean $manager; } }
</pre></div>
   </div>
   <div class="example-contents"><p>
    L&#039;utilisation de print sur SDO_Model_ReflectionDataObject écrit à
    l&#039;écran les données du modèle de l&#039;objet. Nous pouvons voir à la sortie
    que le type <code class="literal">compagnieNS:EmployeType</code> a trois propriétés
    et nous pouvons voir le noms de ces propriétés avec leur type. Notez, 
    les types primitifs sont listés en tant que types SDO (par exemple, 
    <code class="literal">commonj.sdo</code>
    <code class="literal">namespace</code>, <code class="literal">String type</code>). 
    Cela vaut la peine de noter que c&#039;est le modèle
    SDO et lorsqu&#039;ils sont utilisés dans l&#039;application, ils peuvent être
    traités comme des types équivalent PHP (par exemple, <a href="language.types.string.html" class="link">chaîne de caractères</a> et
    <a href="language.types.boolean.html" class="link">booléen</a>).
    </p></div>
   </div>
  </p>

  <p class="para">
   <div class="example" id="example-6092">
    <p><strong>Exemple #2 Accès d&#039;informations de type</strong></p>
    <div class="example-contents"><p>
     Nous pouvons effectuer une requête de type d&#039;informations sur un objet
     de données en utilisant la réflexion. L&#039;exemple suivant vérifie que le
     type corresponde à l&#039;objet de données plutôt qu&#039;à une primitive et alors
     itère à travers des propriétés de type, en affichant le nom de chaque
     propriété ($type et $property sont respectivement des objets
     SDO_Model_Type et SDO_Model_Property).
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Crée&nbsp;l'objet&nbsp;de&nbsp;données&nbsp;employe&nbsp;(par&nbsp;exemple,&nbsp;à&nbsp;partir&nbsp;de&nbsp;Service&nbsp;d'Accès<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;de&nbsp;données&nbsp;XML)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$employee&nbsp;</span><span style="color: #007700">=&nbsp;...;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$reflection&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_Model_ReflectionDataObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$employee</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$type&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$reflection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getType</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!&nbsp;</span><span style="color: #0000BB">$type</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isDataType</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$type</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getProperties</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$property</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$property</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getName</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
name
SN
manager
</pre></div>
    </div>
   </div>
  </p>

 </div></div></div></body></html>