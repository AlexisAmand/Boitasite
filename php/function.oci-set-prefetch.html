<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Indique le nombre de lignes qui doivent &ecirc;tre lues &agrave; l'avance par Oracle</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.oci-set-module-name.html">« oci_set_module_name</a></li>
      <li style="float: right;"><a href="function.oci-statement-type.html">oci_statement_type »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.oci8.html">Fonctions OCI8</a></li>
    <li>Indique le nombre de lignes qui doivent &ecirc;tre lues &agrave; l'avance par Oracle</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.oci-set-prefetch" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">oci_set_prefetch</h1>
  <p class="verinfo">(PHP 5, PHP 7, PECL OCI8 &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">oci_set_prefetch</span> &mdash; <span class="dc-title">Indique le nombre de lignes qui doivent être lues à l&#039;avance par Oracle</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.oci-set-prefetch-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>oci_set_prefetch</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$statement</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$rows</code></span>
   ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Définit le nombre de lignes à précharger par les bibliothèques clientes Oracle
   après un appel réussi à la fonction <span class="function"><a href="function.oci-execute.html" class="function">oci_execute()</a></span> mais aussi
   pour chaque appel aux fonctions internes de récupération de lignes à la base
   de données. Pour les requêtes retournant un grand nombre de lignes, les performances
   peuvent être significativement améliorées en augmentant le nombre de lignes
   à précharger par rapport à la valeur par défaut définie par l&#039;option
   de configuration <a href="oci8.configuration.html#ini.oci8.default-prefetch" class="link">oci8.default_prefetch</a>.
  </p>
  <p class="para">
   Le préchargement est une façon efficace de retourner plus d&#039;une ligne de données
   depuis la base de données pour chaque envoi réseau. Il en retourne une meilleure
   utilisation du réseau mais aussi une meilleure utilisation du CPU.
   Le préchargement de lignes est interne à OCI8 et le comportement des fonctions
   de récupération de données reste inchangé suivant la valeur du compteur de
   préchargement. Par exemple, la fonction <span class="function"><a href="function.oci-fetch-row.html" class="function">oci_fetch_row()</a></span> retournera
   toujours une ligne. Le buffer de préchargement est propre à chaque requête
   et ne sera pas utilisé pour ré-exécuter des requêtes ou par les autres connexions.
  </p>
  <p class="para">
   Il convient d&#039;appeler la fonction <span class="function"><strong>oci_set_prefetch()</strong></span> avant
   la fonction <span class="function"><a href="function.oci-execute.html" class="function">oci_execute()</a></span>.
  </p>
  <p class="para">
   Un des moyens de gagner en efficacité est de définir la valeur de préchargement
   à une valeur raisonnable en fonction du réseau et de la base de données à gérer.
   Pour les requêtes retournant un très grand nombre de lignes, il convient
   de récupérer l&#039;ensemble des lignes par morceaux (i.e. définit la valeur de
   préchargement à une valeur en dessous du nombre total de lignes). Ceci permet
   à la base de données de gérer les requêtes des autres utilisateurs pendant que le
   script PHP gère le jeu de lignes courant.
  </p>
  <p class="para">
   Le préchargement a été introduit en Oracle 8<em class="emphasis">i</em>.
   Le préchargement <code class="literal">REF CURSOR</code> a été introduit en
   Oracle 11<em class="emphasis">g</em>R2 et est disponible lorsque PHP est lié
   avec les bibliothèques clientes Oracle 11<em class="emphasis">g</em>R2 (ou supérieur).
   Les curseurs imbriqués de préchargement ont été introduits en Oracle
   11<em class="emphasis">g</em>R2 et nécessitent à la fois les bibliothèques clientes
   Oracle, et une base de données en version 11<em class="emphasis">g</em>R2 (ou supérieur).
  </p>
  <p class="para">
   Le préchargement n&#039;est pas supporté lorsque les requêtes contiennent des colonnes
   de type LONG ou LOB. La valeur de préchargement sera utilisé dans toutes les situations
   où le préchargement est supporté.
  </p>
  <p class="para">
   Lors de l&#039;utilisation de la base de données Oracle 12<em class="emphasis">c</em>,
   le jeu de valeurs préchargées par PHP peut être écrasé par le fichier
   de configuration client d&#039;Oracle <code class="literal">oraaccess.xml</code>.
   Référez-vous à la documentation d&#039;Oracle pour plus de détails.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.oci-set-prefetch-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">statement</code></dt>

     <dd>

      <p class="para">Un identifiant de requête OCI8
créé par la fonction <span class="function"><a href="function.oci-parse.html" class="function">oci_parse()</a></span> et exécuté par la fonction
<span class="function"><a href="function.oci-execute.html" class="function">oci_execute()</a></span>, ou un identifiant de requête <code class="literal">REF
    CURSOR</code>.</p>
     </dd>

    
    
     <dt>
<code class="parameter">rows</code></dt>

     <dd>

      <p class="para">
       Le nombre de lignes à précharger, &gt;=0
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.oci-set-prefetch-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Cette fonction retourne <strong><code>TRUE</code></strong> en cas de succès ou <strong><code>FALSE</code></strong> si une erreur survient.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.oci-set-prefetch-changelog">
  <h3 class="title">Historique</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL OCI8 1.4</td>
       <td>
        Avant cette version, <code class="parameter">rows</code> doit être &gt;= 1.
       </td>
      </tr>

      <tr>
       <td>PECL OCI8 1.3.4</td>
       <td>
        Avant cette version, le préchargement était limité et devait
        être inférieur aux nombres de lignes définies par le paramètre
        <code class="parameter">rows</code> ainsi qu&#039;à 1024
        * <code class="parameter">rows</code> octets. La restriction sur la taille
        en octets a maintenant disparu.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.oci-set-prefetch-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-2451">
    <p><strong>Exemple #1 Modification de la valeur de préchargement pour une requête</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'hr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'localhost/XE'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;myverybigtable'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_set_prefetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">300</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;définir&nbsp;avant&nbsp;l'appel&nbsp;à&nbsp;la&nbsp;fonction&nbsp;oci_execute()<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;table&nbsp;border='1'&gt;\n"</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_ASSOC</span><span style="color: #007700">+</span><span style="color: #0000BB">OCI_RETURN_NULLS</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;tr&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$item</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;"</span><span style="color: #007700">.(</span><span style="color: #0000BB">$item&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$item</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/td&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/tr&gt;\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">oci_free_statement</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2452">
    <p><strong>Exemple #2 Modification de la valeur de préchargement pour une récupération REF CURSOR</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*<br />&nbsp;&nbsp;Création&nbsp;de&nbsp;la&nbsp;procédure&nbsp;stockée&nbsp;PL/SQL&nbsp;suivante&nbsp;:<br /><br />&nbsp;&nbsp;CREATE&nbsp;OR&nbsp;REPLACE&nbsp;PROCEDURE&nbsp;myproc(p1&nbsp;OUT&nbsp;SYS_REFCURSOR)&nbsp;AS<br />&nbsp;&nbsp;BEGIN<br />&nbsp;&nbsp;&nbsp;&nbsp;OPEN&nbsp;p1&nbsp;FOR&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;all_objects&nbsp;WHERE&nbsp;ROWNUM&nbsp;&lt;&nbsp;5000;<br />&nbsp;&nbsp;END;<br />*/<br /><br /></span><span style="color: #0000BB">$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'hr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'localhost/XE'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$stid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'BEGIN&nbsp;myproc(:rc);&nbsp;END;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$refcur&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_new_cursor</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_bind_by_name</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':rc'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_B_CURSOR</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Modification&nbsp;de&nbsp;la&nbsp;valeur&nbsp;de&nbsp;préchargement&nbsp;avant&nbsp;l'exécution&nbsp;du&nbsp;curseur.<br />//&nbsp;Le&nbsp;préchargement&nbsp;REF&nbsp;CURSOR&nbsp;fonctionne&nbsp;lorsque&nbsp;PHP&nbsp;est&nbsp;lié&nbsp;avec&nbsp;les&nbsp;bibliothèques&nbsp;clientes<br />//&nbsp;Oracle&nbsp;11gR2&nbsp;(ou&nbsp;supérieur)<br /></span><span style="color: #0000BB">oci_set_prefetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;table&nbsp;border='1'&gt;\n"</span><span style="color: #007700">;<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_ASSOC</span><span style="color: #007700">+</span><span style="color: #0000BB">OCI_RETURN_NULLS</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;tr&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$item</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;"</span><span style="color: #007700">.(</span><span style="color: #0000BB">$item&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">htmlentities</span><span style="color: #007700">(</span><span style="color: #0000BB">$item</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">)&nbsp;:&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">).</span><span style="color: #DD0000">"&lt;/td&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;/tr&gt;\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;/table&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">oci_free_statement</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_free_statement</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   Si PHP OCI8 récupère des données depuis un curseur <code class="literal">REF CURSOR</code>
   puis, retourne le curseur <code class="literal">REF CURSOR</code> à une seconde
   procédure stockée pour traitement, alors il convient de définir le
   préchargement de <code class="literal">REF CURSOR</code> à <strong><code>0</code></strong>
   afin d&#039;éviter de perdre des lignes du jeu de résultats. La valeur de
   préchargement est le nombre de lignes supplémentaire à récupérer
   pour chaque requête interne OCI8 à la base de données, aussi, le fait de la
   définir à <strong><code>0</code></strong> signifie uniquement que nous souhaitons
   récupérer une seule ligne à la fois.
   <div class="example" id="example-2453">
    <p><strong>Exemple #3 Définition de la valeur de préchargement lorsque l&#039;on retourne
     un curseur <code class="literal">REF CURSOR</code> à Oracle</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'hr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'localhost/orcl'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Récupération&nbsp;du&nbsp;curseur&nbsp;REF&nbsp;CURSOR<br /></span><span style="color: #0000BB">$stid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'BEGIN&nbsp;myproc(:rc_out);&nbsp;END;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$refcur&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_new_cursor</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_bind_by_name</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':rc_out'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_B_CURSOR</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Affiche&nbsp;2&nbsp;lignes,&nbsp;mais&nbsp;ne&nbsp;précharge&nbsp;pas&nbsp;de&nbsp;lignes&nbsp;supplémentaires<br />//&nbsp;sinon,&nbsp;ces&nbsp;lignes&nbsp;supplémentaires&nbsp;ne&nbsp;seront&nbsp;pas&nbsp;passées&nbsp;à&nbsp;myproc_use_rc().<br />//&nbsp;La&nbsp;valeur&nbsp;de&nbsp;préchargement&nbsp;à&nbsp;0&nbsp;est&nbsp;autorisée&nbsp;en&nbsp;PHP&nbsp;5.3.2&nbsp;et&nbsp;PECL&nbsp;OCI8&nbsp;1.4<br /></span><span style="color: #0000BB">oci_set_prefetch</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;passe&nbsp;le&nbsp;curseur&nbsp;REF&nbsp;CURSOR&nbsp;à&nbsp;myproc_use_rc()&nbsp;afin&nbsp;d'effectuer&nbsp;d'autres<br />//&nbsp;traitement&nbsp;sur&nbsp;le&nbsp;jeu&nbsp;de&nbsp;résultats<br /></span><span style="color: #0000BB">$stid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_parse</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'begin&nbsp;myproc_use_rc(:rc_in);&nbsp;end;'</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">oci_bind_by_name</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">':rc_in'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$refcur</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">OCI_B_CURSOR</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$stid</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.oci-set-prefetch-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member">
     l&#039;option de configuration
     <a href="oci8.configuration.html#ini.oci8.default-prefetch" class="link">oci8.default_prefetch</a>
    </li>
   </ul>
  </p>
 </div>

 
</div></div></div></body></html>