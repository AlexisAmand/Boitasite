<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Demande le prochain jeu de r&eacute;sultats de la ressource indiqu&eacute;e</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.db2-lob-read.html">« db2_lob_read</a></li>
      <li style="float: right;"><a href="function.db2-num-fields.html">db2_num_fields »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.ibm-db2.html">Fonctions IBM DB2</a></li>
    <li>Demande le prochain jeu de r&eacute;sultats de la ressource indiqu&eacute;e</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.db2-next-result" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">db2_next_result</h1>
  <p class="verinfo">(PECL ibm_db2 &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">db2_next_result</span> &mdash; <span class="dc-title">
   Demande le prochain jeu de résultats de la ressource indiquée
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.db2-next-result-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>db2_next_result</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$stmt</code></span>
   ) : <span class="type">resource</span></div>


  <p class="para rdfs-comment">
   Une procédure d&#039;enregistrement peut retourner aucun ou plusieurs jeux de
   résultats. Vous devez gérer le premier jeu de résultats de la même manière
   que vous gérez les résultats retournés par une simple requête SELECT,
   pour obtenir le second ou les résultats suivants, vous devez appeler la
   fonction <span class="function"><strong>db2_next_result()</strong></span> et retourner le résultat dans
   une variable PHP.
  </p>

 </div>

 <div class="refsect1 parameters" id="refsect1-function.db2-next-result-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
    <dt>
<code class="parameter">stmt</code></dt>

     <dd>

      <p class="para">
       Une requête préparée retournée par <span class="function"><a href="function.db2-exec.html" class="function">db2_exec()</a></span> ou
       <span class="function"><a href="function.db2-execute.html" class="function">db2_execute()</a></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.db2-next-result-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne une nouvelle ressource contenant le jeu de résultats suivants si
   la procédure contenait un jeu de résultats suivant. Retourne <strong><code>FALSE</code></strong> si la
   procédure n&#039;avait plus de jeu de résultats à retourner.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.db2-next-result-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-1269">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>db2_next_result()</strong></span></strong></p>
    <div class="example-contents"><p>
     Dans l&#039;exemple suivant, nous appelons une procédure qui retourne trois
     jeux de résultats. Le premier jeu de résultats est récupéré directement
     de la même ressource sur laquelle on a invoqué une requête CALL, alors
     que le deuxième et troisième jeux de résultats sont récupérés des
     ressources retournées par l&#039;appel de la fonction
     <span class="function"><strong>db2_next_result()</strong></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$stmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'CALL&nbsp;multiResults()'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Récupération&nbsp;du&nbsp;premier&nbsp;jeu&nbsp;de&nbsp;résultats\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"\nRécupération&nbsp;du&nbsp;deuxième&nbsp;jeu&nbsp;de&nbsp;résultats\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_next_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">);<br />&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$res</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"\nRécupération&nbsp;du&nbsp;troisième&nbsp;jeu&nbsp;de&nbsp;résultats\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$res2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_next_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$stmt</span><span style="color: #007700">);<br />&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$res2</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">db2_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$res2</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$row</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">db2_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Récupération du premier jeu de résultats
array(2) {
  [0]=&gt;
  string(16) &quot;Bubbles         &quot;
  [1]=&gt;
  int(3)
}
array(2) {
  [0]=&gt;
  string(16) &quot;Gizmo           &quot;
  [1]=&gt;
  int(4)
}

Récupération du deuxième jeu de résultats
array(4) {
  [0]=&gt;
  string(16) &quot;Sweater         &quot;
  [1]=&gt;
  int(6)
  [2]=&gt;
  string(5) &quot;lama&quot;
  [3]=&gt;
  string(6) &quot;150.00&quot;
}
array(4) {
  [0]=&gt;
  string(16) &quot;Smarty          &quot;
  [1]=&gt;
  int(2)
  [2]=&gt;
  string(5) &quot;cheval&quot;
  [3]=&gt;
  string(6) &quot;350.00&quot;
}

Récupération du troisième jeu de résultats
array(1) {
  [0]=&gt;
  string(16) &quot;Bubbles         &quot;
}
array(1) {
  [0]=&gt;
  string(16) &quot;Gizmo           &quot;
}
</pre></div>
    </div>
   </div>
  </p>
 </div>


 


</div></div></div></body></html>