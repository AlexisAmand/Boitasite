<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Exemples avec une table</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="sdodasrel.metadata.html">« Sp&eacute;cification des m&eacute;tadonn&eacute;es</a></li>
      <li style="float: right;"><a href="sdodasrel.examples.two-table.html">Exemples avec deux tables »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="sdodasrel.examples.html">Exemples</a></li>
    <li>Exemples avec une table</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="sdodasrel.examples.one-table" class="section">
  <h2 class="title">Exemples avec une table</h2>
  <p class="para">
   Les exemples suivants utilisent tous le DAS Relationnel pour travailler
   avec un graphique de données contenant juste un objet de données
   d&#039;application, une seule compagnie et les données qui seront dans la
   table compagnie. Ces exemples ne montre pas le pouvoir de SDO ou de DAS
   Relationnel et bien sûr les mêmes résultats peuvent être atteints plus
   économiquement à l&#039;aide de requêtes SQL directes mais ces exemples sont
   pour vous montrer comment fonctionne le DAS Relationnel.
  </p>

  <p class="para">
   Pour ce simple scénario, il serait possible de simplifier les métadonnées
   de base de données pour inclure juste la table de compagnie - si cela
   était fait, le deuxième et troisième argument du constructeur et le
   spécificateur de colonne utilisé dans l&#039;exemple de requête deviendrait
   optionnel.
  </p>

  <p class="para">
   <div class="example" id="example-6095">
    <p><strong>Exemple #1 Création d&#039;un objet de données</strong></p>
    <div class="example-contents"><p>
     Le plus simple exemple est de créer un objet de données simple et de
     l&#039;écrire à la base de données. Dans cet exemple, un objet simple de
     compagnie est créé, son nom est fixé à <code class="literal">&quot;Acme&quot;</code> et le DAS Relationnel est
     appelé pour écrire les changements à la base de données. Le nom de la
     compagnie est fixé ici en utilisant la méthode de propriété de nom.
     Voyez la section d&#039;<a href="sdo.examples.html" class="link">exemples</a> sur
     l&#039;extension SDO pour d&#039;autres moyens d&#039;accéder au propriétés d&#039;un
     objet.
    </p></div>

    <div class="example-contents"><p>
     Les objets de données peuvent seulement être créés lorsque vous avez un
     objet de données au démarrage. C&#039;est pour cette raison que le premier
     appel à DAS Relationnel ici est pour obtenir l&#039;objet racine. C&#039;est en
     effet comment demander pour un graphique de données vide - l&#039;objet de
     racine spécial est la vrai racine de l&#039;arbre. L&#039;objet de données
     compagnie est alors créé avec l&#039;appel à
     <span class="function"><strong>createDataObject()</strong></span>
     sur l&#039;objet racine. Ceci crée l&#039;objet de données compagnie et l&#039;insère
     dans le graphique en insérant une propriété de valeurs multiples
     contenue dans l&#039;objet racine appelé <code class="literal">&quot;compagnie&quot;</code>.
    </p></div>
    <div class="example-contents"><p>
     Lorsque DAS Relationnel est appelé pour effectuer les changements, une
     simple requête d&#039;insertion
     <code class="literal">&quot;INSERT INTO compagnie (nom} VALUES (&quot;Acme&quot;);&quot;</code>
     sera construite et exécutée. La clé primaire générée automatiquement
     sera fixée dans l&#039;objet de données et le changement sera effacé, alors
     il serait possible de continuer de travailler avec le même objet de
     données, le modifier, et applique les nouveaux changements une deuxième
     fois.
    </p></div>

    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'SDO/DAS/Relational.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'company_metadata.inc.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Construit&nbsp;le&nbsp;DAS&nbsp;avec&nbsp;les&nbsp;métadonnées<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_DAS_Relational&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$database_metadata</span><span style="color: #007700">,</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">,</span><span style="color: #0000BB">$SDO_containment_metadata</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Obtient&nbsp;l'objet&nbsp;racine&nbsp;et&nbsp;crée&nbsp;un&nbsp;objet&nbsp;compagnie&nbsp;dessous.<br />&nbsp;*&nbsp;Effectue&nbsp;un&nbsp;petit&nbsp;changement&nbsp;à&nbsp;l'objet&nbsp;de&nbsp;données.<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$root&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$das&nbsp;&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">createRootDataObject</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$acme&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$root&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">createDataObject</span><span style="color: #007700">(</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$acme</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Acme"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Récupère&nbsp;la&nbsp;connexion&nbsp;à&nbsp;la&nbsp;base&nbsp;de&nbsp;données&nbsp;et&nbsp;écrit&nbsp;l'objet&nbsp;à&nbsp;la&nbsp;base&nbsp;de&nbsp;données<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$dbh&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #0000BB">PDO_DSN</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_USER</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_PASSWORD</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$das&nbsp;</span><span style="color: #007700">-&gt;&nbsp;</span><span style="color: #0000BB">applyChanges</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$root</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>

  <p class="para">
   <div class="example" id="example-6096">
    <p><strong>Exemple #2 Récupération d&#039;un objet de données</strong></p>
    <div class="example-contents"><p>
     Dans cet exemple, un simple objet de données est récupéré de la base de
     données - ou possiblement plus d&#039;un s&#039;il y avait plus d&#039;une compagnie
     qui était appelée <code class="literal">&quot;Acme&quot;</code>. Pour chaque compagnie retournée, les
     propriétés
     <var class="varname">nom</var>
     et
     <var class="varname">id</var>
     sont affichées.
    </p></div>
    <div class="example-contents"><p>
     Dans cet exemple, le troisième argument de
     <span class="function"><strong>executeQuery()</strong></span>,
     le spécificateur de colonne est requis puisqu&#039;il y a d&#039;autres tables
     dans les métadonnées avec le nom de colonne
     <var class="varname">nom</var>
     et
     <var class="varname">id</var>.
     S&#039;il n&#039;y avait pas d&#039;ambiguïté possible, il aurait pu être omis.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'SDO/DAS/Relational.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'company_metadata.inc.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Construit&nbsp;le&nbsp;DAS&nbsp;avec&nbsp;les&nbsp;métadonnées<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_DAS_Relational&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$database_metadata</span><span style="color: #007700">,</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">,</span><span style="color: #0000BB">$SDO_containment_metadata</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Récupère&nbsp;la&nbsp;connexion&nbsp;à&nbsp;la&nbsp;base&nbsp;de&nbsp;données<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$dbh&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #0000BB">PDO_DSN</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_USER</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_PASSWORD</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Effectue&nbsp;une&nbsp;requête&nbsp;pour&nbsp;obtenir&nbsp;un&nbsp;objet&nbsp;compagnie&nbsp;-&nbsp;possiblement<br />&nbsp;*&nbsp;plusieurs&nbsp;s'ils&nbsp;existent<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$root&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$das</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeQuery</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'select&nbsp;nom,&nbsp;id&nbsp;from&nbsp;compagnie&nbsp;where&nbsp;nom="Acme"'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'compagnie.nom'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'compagnie.id'</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Affiche&nbsp;le&nbsp;nom&nbsp;et&nbsp;le&nbsp;id<br />&nbsp;***************************************************************/<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$root</span><span style="color: #007700">[</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"La&nbsp;compagnie&nbsp;obtenue&nbsp;de&nbsp;la&nbsp;base&nbsp;de&nbsp;données&nbsp;a&nbsp;le&nbsp;nom&nbsp;=&nbsp;"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">[</span><span style="color: #DD0000">'nom'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;et&nbsp;un&nbsp;id&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">[</span><span style="color: #DD0000">'id'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>

  <p class="para">
   <div class="example" id="example-6097">
    <p><strong>Exemple #3 Mise à jour d&#039;objet de données</strong></p>
    <div class="example-contents"><p>
     Cet exemple combine les deux précédent, dans le sens que pour être mis
     à jour, l&#039;objet doit être premièrement récupéré. L&#039;application renverse
     le nom de compagnie (alors <code class="literal">&quot;Acme&quot;</code> devient <code class="literal">&quot;emcA&quot;</code>) et alors les
     changements sont écrits à la base de données de la même manière qu&#039;ils
     étaient lorsque l&#039;objet avait été créé. Puisque la requête cherche pour
     le nom, on peut chercher des deux manières le nom à
     plusieurs reprises pour trouver la compagnie et renverser son nom
     chaque fois.
    </p></div>
    <div class="example-contents"><p>
     Dans cet exemple, la même instance de DAS Relationnel est réutilisée
     pour
     <span class="function"><strong>applyChanges()</strong></span>,
     avec le descripteur de base de données PDO. Ceci est tout à fait
     correcte; il est aussi possible d&#039;autoriser les instances précédentes
     d&#039;être ramassées par le ramasse-miettes et d&#039;obtenir de nouvelles
     instances. Aucune données d&#039;état concernant le graphique n&#039;est tenue
     par le DAS Relationnel une fois qu&#039;il a retourné un graphique de
     données à l&#039;application. Toutes les données nécessaires sont soit dans
     le graphique ou peuvent être reconstruites à partir des métadonnées.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'SDO/DAS/Relational.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'company_metadata.inc.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Construit&nbsp;le&nbsp;DAS&nbsp;avec&nbsp;les&nbsp;métadonnées<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_DAS_Relational&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$database_metadata</span><span style="color: #007700">,</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">,</span><span style="color: #0000BB">$SDO_containment_metadata</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Récupère&nbsp;la&nbsp;connexion&nbsp;à&nbsp;la&nbsp;base&nbsp;de&nbsp;données<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$dbh&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #0000BB">PDO_DSN</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_USER</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_PASSWORD</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Effectue&nbsp;une&nbsp;requête&nbsp;pour&nbsp;obtenir&nbsp;un&nbsp;objet&nbsp;compagnie&nbsp;-&nbsp;possiblement<br />&nbsp;*&nbsp;plusieurs&nbsp;s'ils&nbsp;existent<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$root&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$das</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeQuery</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'select&nbsp;nom,&nbsp;id&nbsp;from&nbsp;compagnie&nbsp;where&nbsp;nom="Acme"&nbsp;or&nbsp;nom="emcA"'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'compagnie.nom'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'compagnie.id'</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Modifie&nbsp;le&nbsp;nom&nbsp;de&nbsp;la&nbsp;première&nbsp;compagnie&nbsp;seulement<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$compagnie&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$root</span><span style="color: #007700">[</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">][</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #DD0000">"Compagnie&nbsp;obtenue&nbsp;avec&nbsp;le&nbsp;nom&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nom&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nom&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">strrev</span><span style="color: #007700">(</span><span style="color: #0000BB">$compagnie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nom</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Écriture&nbsp;du&nbsp;changement<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">applyChanges</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,</span><span style="color: #0000BB">$root</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>

  <p class="para">
   <div class="example" id="example-6098">
    <p><strong>Exemple #4 Suppression d&#039;un objet de données</strong></p>
    <div class="example-contents"><p>
     Toutes compagnies appelées <code class="literal">&quot;Acme&quot;</code> ou son inverse <code class="literal">&quot;emcA&quot;</code> sont récupérées.
     Elles sont ensuite toutes supprimées du graphique avec unset.
    </p></div>

    <div class="example-contents"><p>
     Dans l&#039;exemple, elles sont toutes supprimées en un seul coup en
     supprimant la propriété contenue (la propriété définissant la relation
     contenue). Il est aussi possible de les supprimer individuellement.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">require_once&nbsp;</span><span style="color: #DD0000">'SDO/DAS/Relational.php'</span><span style="color: #007700">;<br />require_once&nbsp;</span><span style="color: #DD0000">'company_metadata.inc.php'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Construit&nbsp;le&nbsp;DAS&nbsp;avec&nbsp;les&nbsp;métadonnées<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SDO_DAS_Relational&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$database_metadata</span><span style="color: #007700">,</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">,</span><span style="color: #0000BB">$SDO_containment_metadata</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Récupère&nbsp;la&nbsp;connexion&nbsp;à&nbsp;la&nbsp;base&nbsp;de&nbsp;données<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$dbh&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #0000BB">PDO_DSN</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_USER</span><span style="color: #007700">,</span><span style="color: #0000BB">DATABASE_PASSWORD</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Effectue&nbsp;une&nbsp;requête&nbsp;pour&nbsp;obtenir&nbsp;un&nbsp;objet&nbsp;compagnie&nbsp;-&nbsp;possiblement<br />&nbsp;*&nbsp;plusieurs&nbsp;s'ils&nbsp;existent<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$root&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$das</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeQuery</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'select&nbsp;nom,&nbsp;id&nbsp;from&nbsp;compagnie&nbsp;where&nbsp;nom="Acme"&nbsp;or&nbsp;nom="emcA"'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</span><span style="color: #DD0000">'company.name'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'company.id'</span><span style="color: #007700">)&nbsp;);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Supprime&nbsp;les&nbsp;compagnies&nbsp;trouvées&nbsp;du&nbsp;graphique&nbsp;de&nbsp;données<br />&nbsp;***************************************************************/<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$root</span><span style="color: #007700">[</span><span style="color: #DD0000">'compagnie'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/**************************************************************<br />&nbsp;*&nbsp;Écrit&nbsp;le(s)&nbsp;changement(s)<br />&nbsp;***************************************************************/<br /></span><span style="color: #0000BB">$das</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">applyChanges</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbh</span><span style="color: #007700">,</span><span style="color: #0000BB">$root</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>

 </div></div></div></body></html>