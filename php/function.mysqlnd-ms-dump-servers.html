<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Retourne une liste des serveurs actuellement configur&eacute;s</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ref.mysqlnd-ms.html">« Fonctions Mysqlnd_ms</a></li>
      <li style="float: right;"><a href="function.mysqlnd-ms-fabric-select-global.html">mysqlnd_ms_fabric_select_global »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.mysqlnd-ms.html">Fonctions Mysqlnd_ms</a></li>
    <li>Retourne une liste des serveurs actuellement configur&eacute;s</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.mysqlnd-ms-dump-servers" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqlnd_ms_dump_servers</h1>
  <p class="verinfo">(No version information available, might only be in Git)</p><p class="refpurpose"><span class="refname">mysqlnd_ms_dump_servers</span> &mdash; <span class="dc-title">Retourne une liste des serveurs actuellement configurés</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.mysqlnd-ms-dump-servers-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   
   <span class="methodname"><strong>mysqlnd_ms_dump_servers</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$connection</code></span>
   ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   Retourne une liste des serveurs actuellement configurés.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysqlnd-ms-dump-servers-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <dl>

   
    <dt>
<code class="parameter">connection</code></dt>

    <dd>

     <p class="para">
      Un gestionnaire de connexion MySQL obtenu avec une des fonctions
      de connexion des extensions <a href="ref.mysqli.html" class="link">mysqli</a>,
      <a href="ref.mysql.html" class="link">mysql</a> ou
      <a href="ref.pdo-mysql.html" class="link">PDO_MYSQL</a>.
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mysqlnd-ms-dump-servers-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   <strong><code>FALSE</code></strong> si une erreur survient. Sinon, retourne un tableau contenant
   deux entrées : <code class="literal">masters</code> et <code class="literal">slaves</code>
   Chacune de ces entrées contiennent un tbaleau listant tous les serveurs
   configurés.
  </p>
  <p class="para">
   Cette fonction peut être utile pour vérifier et déboger la liste
   des serveurs actuellement utilisés par le plugin. Elle est particulièrement
   utile lorsque la liste des serveurs change au cours de l&#039;exécution, par
   exemple, lors de l&#039;utilisation de MySQL Fabric.
  </p>
  <p class="para">
   Entrées des serveurs <code class="literal">masters</code> et <code class="literal">slaves</code>
  </p>
  <table class="doctable informaltable">
   
    <col width="1*" />
    <col width="7*" />
    <col width="2*" />
    <thead>
     <tr>
      <th>Clé</th>
      <th>Description</th>
      <th>Version</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>
       <code class="literal">name_from_config</code>
      </td>
      <td>
       <p class="para">
        Nom de l&#039;entrée du serveur dans la configuration, si possible.
        NULL si aucun nom de configuration n&#039;est disponible.
       </p>
      </td>
      <td>Depuis 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <code class="literal">hostname</code>
      </td>
      <td>
       <p class="para">
        Nom d&#039;hôte du serveur.
       </p>
      </td>
      <td>Depuis 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <code class="literal">user</code>
      </td>
      <td>
       <p class="para">
        Nom d&#039;utilisateur de la bas de données utilisé pour s&#039;authentifier sur
        le serveur.
       </p>
      </td>
      <td>Depuis 1.6.0.</td>
     </tr>

     <tr>
      <td>
       <code class="literal">port</code>
      </td>
      <td>
       <p class="para">
         Port TCP/IP du serveur.
       </p>
      </td>
      <td>Depuis 1.6.0.</td>
     </tr>

       <tr>
      <td>
       <code class="literal">socket</code>
      </td>
      <td>
       <p class="para">
        Socket de domaine Unix du serveur.
       </p>
      </td>
      <td>Depuis 1.6.0.</td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 unknown-returnvaluet" id="refsect1-function.mysqlnd-ms-dump-servers-unknown-returnvaluet">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    <span class="function"><strong>mysqlnd_ms_dump_servers()</strong></span> requiert
    PECL mysqlnd_ms &gt;&gt; 1.6.0.
   </p>
  </p></blockquote>
 </div>


  <div class="refsect1 examples" id="refsect1-function.mysqlnd-ms-dump-servers-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-2253">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>mysqlnd_ms_dump_servers()</strong></span></strong></p>
     <div class="example-contents">
<div class="inicode"><pre class="inicode">{
    &quot;myapp&quot;: {
        &quot;master&quot;: {
            &quot;master1&quot;: {
                &quot;host&quot;:&quot;master1_host&quot;,
                &quot;port&quot;:&quot;master1_port&quot;,
                &quot;socket&quot;:&quot;master1_socket&quot;,
                &quot;db&quot;:&quot;master1_db&quot;,
                &quot;user&quot;:&quot;master1_user&quot;,
                &quot;password&quot;:&quot;master1_pw&quot;
            }
        },
        &quot;slave&quot;: {
             &quot;slave_0&quot;: {
                 &quot;host&quot;:&quot;slave0_host&quot;,
                 &quot;port&quot;:&quot;slave0_port&quot;,
                 &quot;socket&quot;:&quot;slave0_socket&quot;,
                 &quot;db&quot;:&quot;slave0_db&quot;,
                 &quot;user&quot;:&quot;slave0_user&quot;,
                 &quot;password&quot;:&quot;slave0_pw&quot;
             },
             &quot;slave_1&quot;: {
                 &quot;host&quot;:&quot;slave1_host&quot;
             }
        }
    }
}</pre>
</div>
    </div>

 <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"myapp"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"global_user"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"global_pass"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"global_db"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"global_socket"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">mysqlnd_ms_dump_servers</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(2) {
  [&quot;masters&quot;]=&gt;
  array(1) {
    [0]=&gt;
    array(5) {
      [&quot;name_from_config&quot;]=&gt;
      string(7) &quot;master1&quot;
      [&quot;hostname&quot;]=&gt;
      string(12) &quot;master1_host&quot;
      [&quot;user&quot;]=&gt;
      string(12) &quot;master1_user&quot;
      [&quot;port&quot;]=&gt;
      int(3306)
      [&quot;socket&quot;]=&gt;
      string(14) &quot;master1_socket&quot;
    }
  }
  [&quot;slaves&quot;]=&gt;
  array(2) {
    [0]=&gt;
    array(5) {
      [&quot;name_from_config&quot;]=&gt;
      string(7) &quot;slave_0&quot;
      [&quot;hostname&quot;]=&gt;
      string(11) &quot;slave0_host&quot;
      [&quot;user&quot;]=&gt;
      string(11) &quot;slave0_user&quot;
      [&quot;port&quot;]=&gt;
      int(3306)
      [&quot;socket&quot;]=&gt;
      string(13) &quot;slave0_socket&quot;
    }
    [1]=&gt;
    array(5) {
      [&quot;name_from_config&quot;]=&gt;
      string(7) &quot;slave_1&quot;
      [&quot;hostname&quot;]=&gt;
      string(11) &quot;slave1_host&quot;
      [&quot;user&quot;]=&gt;
      string(12) &quot;gloabal_user&quot;
      [&quot;port&quot;]=&gt;
      int(1234)
      [&quot;socket&quot;]=&gt;
      string(13) &quot;global_socket&quot;
    }
  }
}
</pre></div>
    </div>
   </div>
  </p>
 </div>


</div></div></div></body></html>