<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Ajoute une variable au cache utilisateur et &eacute;crase la variable si elle existe d&eacute;j&agrave; dans le cache</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.wincache-ucache-meminfo.html">« wincache_ucache_meminfo</a></li>
      <li style="float: right;"><a href="function.wincache-unlock.html">wincache_unlock »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.wincache.html">Fonctions WinCache</a></li>
    <li>Ajoute une variable au cache utilisateur et &eacute;crase la variable si elle existe d&eacute;j&agrave; dans le cache</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.wincache-ucache-set" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">wincache_ucache_set</h1>
  <p class="verinfo">(PECL wincache &gt;= 1.1.0)</p><p class="refpurpose"><span class="refname">wincache_ucache_set</span> &mdash; <span class="dc-title">Ajoute une variable au cache utilisateur et écrase la variable si elle existe déjà dans le cache</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.wincache-ucache-set-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>wincache_ucache_set</strong></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$key</code></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$value</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
  ] ) : <span class="type">bool</span></div>

  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>wincache_ucache_set</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$unused</code><span class="initializer"> = NULL</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
  ]] ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Ajoute une variable au cache utilisateur. Écrase une variable si elle existe déjà
   dans le cache. La variable ainsi créée ou mise à jour restera dans le cache
   utilisateur tant que le délai d&#039;expiration n&#039;est pas atteint ou tant qu&#039;elle n&#039;est
   pas supprimée avec la fonction <span class="function"><a href="function.wincache-ucache-delete.html" class="function">wincache_ucache_delete()</a></span> ou
   la fonction <span class="function"><a href="function.wincache-ucache-clear.html" class="function">wincache_ucache_clear()</a></span>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.wincache-ucache-set-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">key</code></dt>

     <dd>

      <p class="para">
       Stocke la variable en utilisant la clé <code class="parameter">key</code>.
       Si une variable utilisant la même clé <code class="parameter">key</code> est
       déjà présente, la fonction écrasera la précédente valeur avec la nouvelle.
       Le paramètre <code class="parameter">key</code> est sensible à la casse.
       <code class="parameter">key</code> peut également être un tableau de paires
       nom =&gt; valeur où les noms seront utilisés comme clés. Ceci peut être utile
       pour ajouter plusieurs valeurs dans le cache en une seule opération.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">value</code></dt>

     <dd>

      <p class="para">
       Valeur de la variable à stocker. Le paramètre <code class="parameter">Value</code>
       supporte tous les types de données, sauf les ressources, comme les pointeurs
       de fichiers. Ce paramètre est ignoré si le premier argument est un tableau.
       Il est de convention de passer la valeur <strong><code>NULL</code></strong> comme valeur du paramètre
       <code class="parameter">value</code> lors de l&#039;utilisation d&#039;un tableau dans le paramètre
       <code class="parameter">key</code>. Si le paramètre <code class="parameter">value</code> est un objet,
       ou un tableau contenant des objets, alors tous les objets seront linéarisés.
       Reportez-vous à la fonction <a href="language.oop5.magic.html#object.sleep" class="link">__sleep()</a>
       pour plus de détails sur la linéarisation d&#039;objets.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">values</code></dt>

     <dd>

      <p class="para">
       Tableau associatif de clés et de valeurs.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ttl</code></dt>

     <dd>

      <p class="para">
       Durée de vie de la variable dans le cache, en secondes. Après la durée spécifiée par
       le paramètre <code class="parameter">ttl</code>, la variable stockée sera effacée du cache utilisateur.
       Ce paramètre prend par défaut la valeur zéro (<code class="literal">0</code>), ce qui signifie
       que la variable restera dans le cache tant qu&#039;elle ne sera pas explicitement supprimée
       en appelant la fonction <span class="function"><a href="function.wincache-ucache-delete.html" class="function">wincache_ucache_delete()</a></span> ou la fonction
       <span class="function"><a href="function.wincache-ucache-clear.html" class="function">wincache_ucache_clear()</a></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.wincache-ucache-set-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="simpara">
   Si <code class="parameter">key</code> est une <a href="language.types.string.html" class="link">chaîne de caractères</a>, la fonction retournera <strong><code>TRUE</code></strong> en cas de succès,
   <strong><code>FALSE</code></strong> si une erreur survient.
  </p>
  <p class="para">
   Si <code class="parameter">key</code> est un tableau, la fonction retournera :
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      Si toutes les paires nom =&gt; valeur du tableau ont pu être définies,
      la fonction retournera un tableau vide.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Si toutes les paires nom =&gt; valeur du tableau n&#039;ont pu être définies,
      la fonction retournera <strong><code>FALSE</code></strong>.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Si quelques paires ont été définies, et d&#039;autres non, la fonction
      retournera un tableau de paires nom =&gt; valeur qui n&#039;ont pas pu être définies
      dans le cache utilisateur.
     </span>
    </li>
   </ul>
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.wincache-ucache-set-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-643">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>wincache_ucache_set()</strong></span> et
     le paramètre <code class="parameter">key</code> sous forme de <a href="language.types.string.html" class="link">chaîne de caractères</a></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$bar1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR1'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar1</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
bool(true)
string(3) &quot;BAR&quot;
bool(true)
string(3) &quot;BAR1&quot;
</pre></div>
    </div>    
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-644">
    <p><strong>Exemple #2 Exemple avec <span class="function"><strong>wincache_ucache_set()</strong></span> et
     le paramètre <code class="parameter">key</code> sous forme de <a href="language.types.array.html" class="link">tableau</a></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$colors_array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'green'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'5'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Blue'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'6'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'yellow'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'7'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'cyan'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'8'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$colors_array</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$colors_array</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">wincache_ucache_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'Blue'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(0) {}
array(0) {}
string(1) &quot;6&quot;
</pre></div>
    </div>    
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.wincache-ucache-set-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.wincache-ucache-add.html" class="function" rel="rdfs-seeAlso">wincache_ucache_add()</a> - Ajoute une nouvelle variable au cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-get.html" class="function" rel="rdfs-seeAlso">wincache_ucache_get()</a> - R&eacute;cup&egrave;re une variable stok&eacute;e dans le cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-delete.html" class="function" rel="rdfs-seeAlso">wincache_ucache_delete()</a> - Supprime les variables du cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-clear.html" class="function" rel="rdfs-seeAlso">wincache_ucache_clear()</a> - Supprime le contenu d'une entr&eacute;e du cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-exists.html" class="function" rel="rdfs-seeAlso">wincache_ucache_exists()</a> - V&eacute;rifie si une variable existe dans le cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-meminfo.html" class="function" rel="rdfs-seeAlso">wincache_ucache_meminfo()</a> - R&eacute;cup&egrave;re des informations sur l'utilisation m&eacute;moire du cache utilisateur</span></li>
    <li class="member"><span class="function"><a href="function.wincache-ucache-info.html" class="function" rel="rdfs-seeAlso">wincache_ucache_info()</a> - R&eacute;cup&egrave;re des informations sur des donn&eacute;es stok&eacute;es dans le cache utilisateur</span></li>
    <li class="member"><a href="language.oop5.magic.html#object.sleep" class="link">__sleep()</a></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>