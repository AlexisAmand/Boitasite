<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Les op&eacute;rateurs d'affectation</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.operators.arithmetic.html">« Les op&eacute;rateurs arithm&eacute;tiques</a></li>
      <li style="float: right;"><a href="language.operators.bitwise.html">Op&eacute;rateurs sur les bits »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.operators.html">Les op&eacute;rateurs</a></li>
    <li>Les op&eacute;rateurs d'affectation</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.operators.assignment" class="sect1">
  <h2 class="title">Les opérateurs d&#039;affectation</h2>
  <p class="simpara">
   L&#039;opérateur d&#039;affectation le plus simple est le signe &quot;=&quot;.
   Le premier réflexe est de penser que ce signe veut dire
   &quot;égal à&quot;. Ce n&#039;est pas le cas. Il signifie que
   l&#039;opérande de gauche se voit affecter la valeur de
   l&#039;expression qui est à droite du signe égal.
  </p>
  <p class="para">
   La valeur d&#039;une expression d&#039;affectation est la valeur
   affectée. Par exemple, la valeur de l&#039;expression
   &#039;<code class="literal">$a = 3</code>&#039; est la valeur 3. Cela permet d&#039;utiliser
   des astuces telles que :
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;+&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;$a&nbsp;est&nbsp;maintenant&nbsp;égal&nbsp;à&nbsp;9,&nbsp;et&nbsp;$b&nbsp;vaut&nbsp;4.<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   En plus du simple opérateur d&#039;affectation, il existe des
   &quot;opérateurs combinés&quot; pour tous les opérateurs
   <a href="language.operators.html" class="link">arithmétiques</a>,
   l&#039;union de tableaux et pour les opérateurs sur les
   chaînes de caractères. Cela permet d&#039;utiliser
   la valeur d&#039;une variable dans une expression et d&#039;affecter le
   résultat de cette expression à cette variable.
   Par exemple :
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affecte&nbsp;la&nbsp;valeur&nbsp;8&nbsp;à&nbsp;la&nbsp;variable&nbsp;$a&nbsp;correspond&nbsp;à&nbsp;l'instruction&nbsp;'$a&nbsp;=&nbsp;$a&nbsp;+&nbsp;5';<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Bonjour&nbsp;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"&nbsp;tout&nbsp;le&nbsp;monde!"</span><span style="color: #007700">;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;affecte&nbsp;la&nbsp;valeur&nbsp;"Bonjour&nbsp;tout&nbsp;le&nbsp;monde!"&nbsp;à<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;la&nbsp;variable&nbsp;$b<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;identique&nbsp;à&nbsp;$b&nbsp;=&nbsp;$b."&nbsp;tout&nbsp;le&nbsp;monde!";<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   On peut noter que l&#039;affectation copie le contenu de la variable originale
   dans la nouvelle variable (affectation par valeur), ce qui fait que les
   changements de valeur d&#039;une variable ne modifieront pas la valeur de
   l&#039;autre. Cela peut se révéler important lors de la copie d&#039;un grand tableau
   durant une boucle.
  </p>
  <p class="para">
   Une exception au comportement d&#039;affectation par valeur en PHP est le type
   <span class="type"><a href="language.types.object.html" class="type object">object</a></span>, ceux-ci sont affectés par référence.
   La copie d&#039;objet doit être explicitement demandée grâce au mot-clé
   <a href="language.oop5.cloning.html" class="link">clone</a>.
  </p>
  
  <div class="sect2" id="language.operators.assignment.reference">
   <h3 class="title">Affectation par référence</h3>
   <p class="para">
    L&#039;affectation par référence est aussi supportée, au moyen de la syntaxe
    &quot;<span class="computeroutput">$var = &amp;$othervar;</span>&quot;. L&#039;affectation par
    référence signifie que les deux variables pointent vers le même conteneur de
    donnée, rien n&#039;est copié nulle part.
   </p>
   <p class="para">
    <div class="example" id="example-106">
     <p><strong>Exemple #1 Affectation par référence</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$b&nbsp;est&nbsp;une&nbsp;référence&nbsp;à&nbsp;$a<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;3<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;3<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;change&nbsp;$a<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;4<br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;4&nbsp;aussi,&nbsp;car&nbsp;$b&nbsp;est&nbsp;une&nbsp;référence&nbsp;à&nbsp;$a,&nbsp;qui&nbsp;a&nbsp;été<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;changée<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    L&#039;opérateur <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a>
    retourne une référence automatiquement, donc affecter le résultat de
    <a href="language.oop5.basic.html#language.oop5.basic.new" class="link">new</a> par référence
    n&#039;est plus permit à partir de PHP 7.0.0, et cause un message
    <strong><code>E_DEPRECATED</code></strong> à partir de  PHP 5.3, et un message
    <strong><code>E_STRICT</code></strong> dans les versions antérieures.
   </p>
   <p class="para">
    Par exemple, ce code causera une erreur ou un avertissement :
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;&amp;new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

      <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 7 :</p>
      <div class="example-contents screen">
<div class="cdata"><pre>
Parse error: syntax error, unexpected &#039;new&#039; (T_NEW) in …
</pre></div>
      </div>
      <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 5.3 :</p>
      <div class="example-contents screen">
<div class="cdata"><pre>
Deprecated: Assigning the return value of new by reference is deprecated in …
</pre></div>
      </div>
      <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 5 :</p>
      <div class="example-contents screen">
<div class="cdata"><pre>
Strict Standards: Assigning the return value of new by reference is deprecated in …
</pre></div>
      </div>
    </div>
   </p>
   <p class="para">
    Plus d&#039;informations sur les références et leurs utilisations possibles peuvent être
    trouvées dans la section du manuel <a href="language.references.html" class="link">Les références
    expliquées</a>.
   </p>
  </div>
  
  <div class="sect2" id="language.operators.assignment.arithmetic">
   <h3 class="title">Les opérateurs d&#039;assignement arithmétiques</h3>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Exemple</th>
       <th>Equivalent</th>
       <th>Opération</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>$a += $b</td>
       <td>$a = $a + b</td>
       <td>Addition</td>
      </tr>

      <tr>
       <td>$a -= $b</td>
       <td>$a = $a - $b</td>
       <td>Soustraction</td>
      </tr>

      <tr>
       <td>$a *= $b</td>
       <td>$a = $a * $b</td>
       <td>Multiplication</td>
      </tr>

      <tr>
       <td>$a /= $b</td>
       <td>$a = $a / $b</td>
       <td>Division</td>
      </tr>

      <tr>
       <td>$a %= $b</td>
       <td>$a = $a % $b</td>
       <td>Modulo</td>
      </tr>

     </tbody>
    
   </table>

  </div>
  
  <div class="sect2" id="language.operators.assignment.bitwise">
   <h3 class="title">Opérateurs d&#039;assignement bits à bits</h3>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Exemple</th>
       <th>Equivalent</th>
       <th>Opération</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>$a &amp;= $b</td>
       <td>$a = $a &amp; $b</td>
       <td>Opérateur And</td>
      </tr>

      <tr>
       <td>$a |= $b</td>
       <td>$a = $a | $b</td>
       <td>Opérateur Or</td>
      </tr>

      <tr>
       <td>$a ^= $b</td>
       <td>$a = $a ^ $b</td>
       <td>Opérateur Xor</td>
      </tr>

      <tr>
       <td>$a &lt;&lt;= $b</td>
       <td>$a = $a &lt;&lt; $b</td>
       <td>Décalage à gauche</td>
      </tr>

      <tr>
       <td>$a &gt;&gt;= $b</td>
       <td>$a = $a &gt;&gt; $b</td>
       <td>Décalage à droite</td>
      </tr>

     </tbody>
    
   </table>

  </div>
  
  <div class="sect2" id="language.operators.assignment.other">
   <h3 class="title">Autres opérateurs d&#039;assignement</h3>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Exemple</th>
       <th>Equivalent</th>
       <th>Opération</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>$a .= $b</td>
       <td>$a = $a . $b</td>
       <td>Concaténation d&#039;une chaîne de caractères</td>
      </tr>

      <tr>
       <td>$a ??= $b</td>
       <td>$a = $a ?? $b</td>
       <td>Opérateur de coalescence nul</td>
      </tr>

     </tbody>
    
   </table>

  </div>
  <div class="sect2" id="language.operators.assignment.see-also">
   <p class="para">
    Voir aussi les sections du manuel sur les
    <a href="language.operators.arithmetic.html" class="link">opérateurs arithmétiques</a>,
    <a href="language.operators.bitwise.html" class="link">les opérateurs bits à bits</a>, 
    <a href="language.operators.string.html" class="link">les opérateurs sur les chaînes de
    caractères</a>, et 
    <a href="language.operators.comparison.html#language.operators.comparison.coalesce" class="link">les opérateurs de
     coalescence nul</a>.
   </p>
  </div>
 </div></div></div></body></html>