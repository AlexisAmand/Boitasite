<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Copie un fichier un fichier interne &agrave; l'archive phar vers un autre fichier au sein de la m&ecirc;me archive</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="phardata.converttoexecutable.html">« PharData::convertToExecutable</a></li>
      <li style="float: right;"><a href="phardata.decompress.html">PharData::decompress »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.phardata.html">PharData</a></li>
    <li>Copie un fichier un fichier interne &agrave; l'archive phar vers un autre fichier au sein de la m&ecirc;me archive</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="phardata.copy" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PharData::copy</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PECL phar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">PharData::copy</span> &mdash; <span class="dc-title">Copie un fichier un fichier interne à l&#039;archive phar vers un autre fichier au sein de la même archive</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-phardata.copy-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>PharData::copy</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$oldfile</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$newfile</code></span>
   ) : <span class="type">bool</span></div>
  
  <p class="para rdfs-comment">
   Copie un fichier interne à l&#039;archive tar/zip vers un autre fichier au sein de la même archive.
   C&#039;est une alternative orientée objet à l&#039;utilisation de <span class="function"><a href="function.copy.html" class="function">copy()</a></span> avec
   le gestionnaire de flux phar.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-phardata.copy-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">oldfile</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">newfile</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  </p>  
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-phardata.copy-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   retourne <strong><code>TRUE</code></strong> en cas de succès, mais il est plus sûr d&#039;encadrer l&#039;appel à la méthode dans un bloc
   try/catch est de considérer son succès si aucune exception n&#039;est levée.
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-phardata.copy-errors">
  <h3 class="title">Erreurs / Exceptions</h3>
  <p class="para">
   lève une exception <a href="class.unexpectedvalueexception.html" class="classname">UnexpectedValueException</a> si le fichier source n&#039;existe
   pas, si le fichier de destination existe déjà, si le support en écriture est désactivé, si l&#039;ouverture
   d&#039;un des deux fichiers échoue ou si la lecture du fichier source échoue; ou lève une exception
   <a href="class.pharexception.html" class="classname">PharException</a> si l&#039;écriture des changements de l&#039;archive phar échoue.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-phardata.copy-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-747">
    <p><strong>Exemple #1 Un exemple avec <span class="function"><strong>PharData::copy()</strong></span></strong></p>
    <div class="example-contents"><p>
     Cet exemple montre l&#039;utilisation de <span class="function"><strong>PharData::copy()</strong></span> et de son équivalent
     en terme de gestionnaire de flux. La différence principale entre les deux façons de faire
     concerne la gestion des erreurs. Toutes les méthodes PharData soulèvent des exceptions, alors
     que le gestionnaire de flux utilise <span class="function"><a href="function.trigger-error.html" class="function">trigger_error()</a></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PharData</span><span style="color: #007700">(</span><span style="color: #DD0000">'monphar.tar'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'salut'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;"phar://myphar.tar/b"<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;on&nbsp;traite&nbsp;les&nbsp;erreurs<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;l'équivalent&nbsp;en&nbsp;terme&nbsp;de&nbsp;flux&nbsp;de&nbsp;l'exemple&nbsp;ci-dessus.<br />//&nbsp;des&nbsp;E_WARNINGS&nbsp;sont&nbsp;lancés&nbsp;en&nbsp;cas&nbsp;d'erreur&nbsp;à&nbsp;la&nbsp;place&nbsp;d'exceptions.<br /></span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://monphar.tar/a'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'phar//monphar.tar/c'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://monphar.tar/c'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;"salut"<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>
 
</div></div></div></body></html>