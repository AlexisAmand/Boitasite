<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Pr&eacute;pare une connexion &agrave; un serveur Z39.50</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.yaz-close.html">« yaz_close</a></li>
      <li style="float: right;"><a href="function.yaz-database.html">yaz_database »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.yaz.html">YAZ Fonctions</a></li>
    <li>Pr&eacute;pare une connexion &agrave; un serveur Z39.50</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.yaz-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">yaz_connect</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PECL yaz &gt;= 0.9.0)</p><p class="refpurpose"><span class="refname">yaz_connect</span> &mdash; <span class="dc-title">Prépare une connexion à un serveur Z39.50</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.yaz-connect-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>yaz_connect</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$zurl</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$options</code></span>
  ] ) : <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Cette fonction retourne une ressource de connexion en cas de succès et
   <code class="literal">0</code> en cas d&#039;échec.
  </p>
  <p class="para">
   <span class="function"><strong>yaz_connect()</strong></span> prépare une connexion
   à un serveur Z39.50. Cette fonction n&#039;est pas bloquante,
   et ne tente pas d&#039;établir une connexion. En fait, elle ne fait que
   préparer la connexion pour exécution ultérieure
   par <span class="function"><a href="function.yaz-wait.html" class="function">yaz_wait()</a></span>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Le proxy <a href="http://www.indexdata.dk/yazproxy/" class="link external">&raquo;&nbsp;YAZ</a> est un proxy Z39.50 librement
    disponible.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.yaz-connect-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">zurl</code></dt>

     <dd>

      <p class="para">
       Une chaîne de caractères qui prend la forme
       <code class="literal">host[:port][/database]</code>. Si le port est omis, le port
       210 est utilisé. Si la base de données est omise,
       <code class="literal">Default</code> est utilisée.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">options</code></dt>

     <dd>

      <p class="para">
       Si donné comme une chaîne de caractères, cela sera traité comme la
       chaîne d&#039;authentification Z39.50 V2 (OpenAuth).
      </p>
      <p class="para">
       Si donné comme un tableau, le contenu du tableau sert en tant
       qu&#039;options.
       <dl>

        
         <dt>
user</dt>

         <dd>

          <p class="para">
           Utilisateur pour authentification.
          </p>
         </dd>

        
        
         <dt>
group</dt>

         <dd>

          <p class="para">
           Groupe pour authentification.
          </p>
         </dd>

        
        
         <dt>
password</dt>

          <dd>

           <p class="para">
            Mot de passe pour authentification.
           </p>
          </dd>

        
        
         <dt>
cookie</dt>

         <dd>

          <p class="para">
           Cookie pour session (proxy YAZ).
          </p>
         </dd>

        
        
         <dt>
proxy</dt>

         <dd>

          <p class="para">
           Proxy pour connexion (proxy YAZ).
          </p>
         </dd>

        
        
         <dt>
persistent</dt>

         <dd>

          <p class="para">
           Un booléen. Si <strong><code>TRUE</code></strong> la connexion est persistante; Si <strong><code>FALSE</code></strong> la
           connexion n&#039;est pas persistante. Par défaut les connexions sont
           persistantes.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            Si vous ouvrez une connexion persistante, vous ne serez pas
            capable de la fermer plus tard avec
            <span class="function"><a href="function.yaz-close.html" class="function">yaz_close()</a></span>.
           </p>
          </p></blockquote>
         </dd>

        
        
         <dt>
piggyback</dt>

         <dd>

          <p class="para">
           Un booléen. Si <strong><code>TRUE</code></strong> piggyback est activé pour les recherches. Si
           <strong><code>FALSE</code></strong> piggyback est désactivé. Par défaut piggyback est activé.
          </p>
          <p class="para">
           L&#039;activation de piggyback est plus efficace : il sauvegarde
           habituellement les allers-retours du réseau pour les premières
           lectures de résultats. Cependant, quelque serveurs Z39.50 ne
           supportent pas piggyback ou ils ignorent ce jeu de noms. Pour ceux-ci,
           piggyback devrait être désactivé.
          </p>
         </dd>

        
        
         <dt>
charset</dt>

         <dd>

          <p class="para">
           Une chaîne de caractères qui spécifie le jeu de caractères qui sera
           utilisé dans le langage Z39.50 et le jeu de caractères pour les
           négociations. Utilisez une chaîne de caractères comme :
           <code class="literal">ISO-8859-1</code>, <code class="literal">UTF-8</code>,
           <code class="literal">UTF-16</code>.
          </p>
          <p class="para">
           La plupart des serveurs Z39.50 ne supportent pas cette option (et,
           pour ceux-ci, cet argument est ignoré). Plusieurs serveurs
           utilisent l&#039;encodage ISO-8859-1 pour les requêtes et les messages.
           Les enregistrements MARC21/USMARC ne sont pas affectés par cette
           configuration.
          </p>
         </dd>

        

        
         <dt>
preferredMessageSize</dt>

         <dd>

          <p class="para">
           Un entier qui spécifie la taille maximale en octets pour toutes les
           entrées qui seront retournées par la cible durant la récupération.
           Voyez le <a href="http://www.loc.gov/z3950/agency/markup/04.html#3.2.1.1.4" class="link external">&raquo;&nbsp;standard Z39.50</a>
           pour plus d&#039;informations.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            Cette option est supportée dans PECL YAZ 1.0.5 ou supérieure.
           </p>
          </p></blockquote>
         </dd>

        

        
         <dt>
maximumRecordSize</dt>

         <dd>

          <p class="para">
           Un entier qui spécifie la taille maximale en octets pour une seule
           entrée qui sera retournée par la cible durant la récupération.
           Cette entité est référée à Exceptional-record-size dans le <a href="http://www.loc.gov/z3950/agency/markup/04.html#3.2.1.1.4" class="link external">&raquo;&nbsp;standard Z39.50</a>.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            Cette option est supportée dans PECL YAZ 1.0.5 ou supérieure.
           </p>
          </p></blockquote>
         </dd>

        

       </dl>

      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.yaz-connect-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Une ressource de connexion en cas de réussite, <strong><code>FALSE</code></strong> en cas d&#039;erreur.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.yaz-connect-changelog">
  <h3 class="title">Historique</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.1.0</td>
       <td>
        Le paramètre <code class="parameter">options</code> a été ajouté.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.yaz-connect-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.yaz-close.html" class="function" rel="rdfs-seeAlso">yaz_close()</a> - Ferme une connexion YAZ</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>