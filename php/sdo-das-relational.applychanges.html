<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Applique les changements effectu&eacute;s au graphique de donn&eacute;es &agrave; la base de
   donn&eacute;es</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="ref.sdodasrel.html">« Fonctions SDO-DAS-Relational</a></li>
      <li style="float: right;"><a href="sdo-das-relational.construct.html">SDO_DAS_Relational::__construct »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sdodasrel.html">Fonctions SDO-DAS-Relational</a></li>
    <li>Applique les changements effectu&eacute;s au graphique de donn&eacute;es &agrave; la base de
   donn&eacute;es</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="sdo-das-relational.applychanges" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SDO_DAS_Relational::applyChanges</h1>
  <p class="verinfo">(^)</p><p class="refpurpose"><span class="refname">SDO_DAS_Relational::applyChanges</span> &mdash; <span class="dc-title">
   Applique les changements effectués au graphique de données à la base de
   données
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-sdo-das-relational.applychanges-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   
   <span class="methodname"><strong>SDO_DAS_Relational::applyChanges</strong></span>
    ( <span class="methodparam">
    <span class="type"><a href="class.pdo.html" class="type PDO">PDO</a></span>
     <code class="parameter">$database_handle</code>
   </span>
   , <span class="methodparam">
    <span class="type"><span class="type SDODataObject">SDODataObject</span></span>
     <code class="parameter">$root_data_object</code>
   </span>
   ) : <span class="type"><span class="type void">void</span></span></div>


  <div class="warning"><strong class="warning">Avertissement</strong><p class="simpara">
 Cette fonction est <em class="emphasis">EXPERIMENTALE</em>. Le comportement de cette fonction, son nom, et toute la
 documentation autour de cette fonction peut changer sans préavis dans une prochaine version de PHP.
 Cette fonction doit être utilisée à vos risques et périls.
</p></div>

  <p class="para">
   En lui donnant une ressource de base de données PDO et l&#039;objet racine spécial
   d&#039;un graphique de données, la fonction examine les changements dans le
   graphique de données et applique les changements à la base de données
   Les changements qui peut appliquer sont les créations d&#039;objets de données,
   les suppressions des objets de données et les modifications des propriétés
   des objets de données.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-sdo-das-relational.applychanges-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
PDO_database_handle</dt>

     <dd>

      <p class="para">
       Construit en utilisant l&#039;extension PDO.
       Une ligne typique pour construire une ressource de base de données PDO
       devrait ressembler à ceci :
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
$dbh&nbsp;=&nbsp;new&nbsp;PDO("mysql:dbname=COMPANYDB;host=localhost",DATABASE_USER,DATABASE_PASSWORD);</span>
</code></div>
       </div>

      </p>
     </dd>

    
    
     <dt>
root_data_object</dt>

     <dd>

      <p class="para">
       L&#039;objet racine spécial qui est le sommet de chaque graphique de données
       SDO.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-sdo-das-relational.applychanges-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Aucune.
   Notez cependant que le graphique de données qui a été passé est toujours
   intact et utilisable. De plus, si les objets de données ont été créés et
   écrits à une table avec des clés primaires générées automatiquement, alors
   ces clés primaires seront maintenant enregistrées dans les objets de
   données. Si les changements ont été correctement écrits, alors le
   changement associé avec le graphique de données sera supprimé, alors il est
   possible maintenant d&#039;effectuer plus de changement au graphique de données
   et appliquer les changements alternativement. De cette façon, il est
   possible de travailler avec le même graphique de données et appliquer les
   changement à plusieurs reprises.
  </p>
 </div>




 <div class="refsect1 errors" id="refsect1-sdo-das-relational.applychanges-errors">
  <h3 class="title">Erreurs / Exceptions</h3>
  <p class="para">
   <span class="function"><strong>SDO_DAS_Relational::applyChanges()</strong></span>
   peut jeter une exception <strong class="classname">SDO_DAS_Relational_Exception</strong>
   si la méthode n&#039;est pas capable d&#039;appliquer tous les changements correctement.
  </p>
  <p class="para">
   Le DAS Relationnel démarre une transaction de base de données avant de
   commencer à appliquer les changements et enverra les transactions seulement
   si celles-ci sont réussies. Le DAS Relationnel génère des requêtes de mises
   à jour et de suppression qualifiées qui contiennent une clause WHERE qui
   spécifie que la ligne à être modifiée ou supprimée doit contenir les mêmes
   valeurs qu&#039;elles avaient lorsque les données ont été préalablement
   récupérées.
   Voici comment la simultanéité optimiste est implantée. Si une des requêtes
   de mises à jour ou de suppression qualifiées échoue à mettre à jour ou à
   supprimer leur ligne, il se peut que cela soit à cause des données altérées
   dans la base de données en attendant. Quoi qu&#039;il arrive, si une mise à jour
   échoue pour n&#039;importe quelle raison, la transaction est retournée en
   arrière et une exception est jetée. Cette exception contiendra la requête
   SQL générée qui a échouée.
  </p>
  
  <p class="para">
   Le DAS Relationnel attrape aussi toutes les exceptions de PDO et obtient
   des informations de diagnostique de PDO qui incluent dans un
   <strong class="classname">SDO_DAS_Relational_Exception</strong> qui est lui-même ensuite jeté.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-sdo-das-relational.applychanges-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   Veuillez voir la section d&#039;<a href="sdodasrel.examples.html" class="link">exemples</a>
   dans les informations générales à propos de DAS Relationnel pour plusieurs
   exemples sur l&#039;appel de cette méthode.
   Veuillez voir aussi la section sur le 
   <a href="sdodasrel.configuration.html#sdodasrel.tracing" class="link">suivi</a>
   pour voir comment vous pouvez voir quelles requêtes SQL sont générées par
   le DAS Relationnel.
  </p>
 </div>

</div></div></div></body></html>