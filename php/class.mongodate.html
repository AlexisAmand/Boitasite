<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>La classe MongoDate</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongocode.tostring.html">« MongoCode::__toString</a></li>
      <li style="float: right;"><a href="mongodate.construct.html">MongoDate::__construct »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mongo.types.html">Les types</a></li>
    <li>La classe MongoDate</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.mongodate" class="reference">
 
 <h1 class="title">La classe <a href="class.mongodate.html" class="classname">MongoDate</a></h1>
 
 
 <div class="partintro"><p class="verinfo">(PECL mongo &gt;=0.8.1)</p>
  
  <div class="warning"><strong class="warning">Avertissement</strong>
   <p class="para">Cette extension, qui définie cette classe est obsolète.
Veuillez utiliser l&#039;extension <a href="set.mongodb.html" class="link">MongoDB</a> à la place.
Les alertnatives à cette classe sont :</p>
   <ul class="simplelist">
    <li class="member"><a href="class.mongodb-bson-utcdatetime.html" class="classname">MongoDB\BSON\UTCDateTime</a></li>
   </ul>
  </div>
  
  
  <div class="section" id="mongodate.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Représente un objet date pour la base. Cette classe peut être
    utilisée pour sauvegarder des dates dans la base de données
    mais aussi pour faire des requêtes à base de dates. Par exemple :
   </p>
   <div class="example" id="mongocommandcursor.stages.adding-options">
    <p><strong>Exemple #1 Stockage des dates avec <strong class="classname">MongoDate</strong></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Sauvegarde&nbsp;une&nbsp;date&nbsp;dans&nbsp;la&nbsp;base&nbsp;de&nbsp;données<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"ts"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">()));<br /><br /></span><span style="color: #0000BB">$start&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2010-01-15&nbsp;00:00:00"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$end&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2010-01-30&nbsp;00:00:00"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Trouve&nbsp;les&nbsp;dates&nbsp;entre&nbsp;1/15/2010&nbsp;et&nbsp;1/30/2010<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"ts"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'$gt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$start</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'$lte'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$end</span><span style="color: #007700">)));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    MongoDB stocke les dates en millisecondes après epoch. Ceci signifie que les dates
    <em class="emphasis">ne contiennent pas</em> d&#039;informations sur les fuseaux horaires. Les
    fuseaux doivent être stockés dans un champ séparé si besoin. Aussi, toute précision
    au delà de la milliseconde sera perdue lorsque le document est envoyé dans la base
    ou restauré de celle-ci.
   </p>
  </div>
  
  
  <div class="section" id="mongodate.synopsis">
   <h2 class="title">Synopsis de la classe</h2>
   
   
   <div class="classsynopsis">
    <div class="ooclass"></div>
    
    
    <div class="classsynopsisinfo">
     <span class="ooclass">
      <strong class="classname">MongoDate</strong>
     </span>
     {</div>
    
    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Champs */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
      <var class="varname">$<var class="varname">sec</var></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
      <var class="varname">$<var class="varname">usec</var></var>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Méthodes */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="mongodate.construct.html" class="methodname">__construct</a></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$sec</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$usec</code><span class="initializer"> = 0</span></span>
  ]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="mongodate.todatetime.html" class="methodname">toDateTime</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type"><a href="class.datetime.html" class="type DateTime">DateTime</a></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="mongodate.tostring.html" class="methodname">__toString</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">string</span></div>

   }</div>
   
   
  </div>
  
 </div>
 
 



























 
<h2>Sommaire</h2><ul class="chunklist chunklist_reference"><li><a href="mongodate.construct.html">MongoDate::__construct</a> — Cr&eacute;e une nouvelle date</li><li><a href="mongodate.todatetime.html">MongoDate::toDateTime</a> — Retourne un objet DateTime repr&eacute;sentant cette date</li><li><a href="mongodate.tostring.html">MongoDate::__toString</a> — Retourne la date sous forme de cha&icirc;ne</li></ul>
</div>
</div></div></body></html>