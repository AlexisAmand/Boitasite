<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Modifications entrainant une incompatibilit&eacute; ascendante</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="migration71.constants.html">« Nouvelles constantes globales</a></li>
      <li style="float: right;"><a href="migration71.deprecated.html">Les fonctionnalit&eacute;s d&eacute;pr&eacute;ci&eacute;es dans PHP 7.1.x »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="migration71.html">Migration de PHP 7.0.x vers PHP 7.1.x</a></li>
    <li>Modifications entrainant une incompatibilit&eacute; ascendante</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="migration71.incompatible" class="sect1">
 <h2 class="title">Modifications entrainant une incompatibilité ascendante</h2>

 <div class="sect2" id="migration71.incompatible.too-few-arguments-exception">
  <h3 class="title">Exception en passant trop peu d&#039;arguments de fonction</h3>

  <p class="para">
   Auparavant, un avertissement etait émis pour invoquer des fonctions définies 
   par l&#039;utilisateur avec trop peu d&#039;arguments. Maintenant, cet avertissement a 
   été promu en une exception d&#039;erreur. Cette modification s&#039;applique uniquement 
   aux fonctions définies par l&#039;utilisateur, et non aux fonctions internes. 
   Par exemple:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">){}<br /></span><span style="color: #0000BB">test</span><span style="color: #007700">();</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher quelque chose de similaire à :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Fatal error: Uncaught ArgumentCountError: Too few arguments to function test(), 0 passed in %s on line %d and exactly 1 expected in %s:%d
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.incompatible.forbid-dynamic-calls-to-scope-introspection-functions">
  <h3 class="title">Interdire les appels dynamiques aux fonctions d&#039;introspection de portée</h3>

  <p class="para">
   Les appels dynamiques pour certaines fonctions ont été interdits (sous la forme 
   de <code class="literal">$func()</code> ou <code class="literal">array_map(&#039;extract&#039;, ...)</code>, 
   etc.). Ces fonctions inspectent ou modifient une autre étendue, et présentent 
   avec eux un comportement ambigu et non fiable. Les fonctions sont les suivantes:
  </p>

  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.assert.html" class="function">assert()</a></span> - avec une chaîne comme premier argument
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.compact.html" class="function">compact()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.extract.html" class="function">extract()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.get-defined-vars.html" class="function">get_defined_vars()</a></span>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.mb-parse-str.html" class="function">mb_parse_str()</a></span> - avec un argument
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <span class="function"><a href="function.parse-str.html" class="function">parse_str()</a></span> - avec un argument
    </span>
   </li>
  </ul>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">(function&nbsp;()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'func_num_args'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$func</span><span style="color: #007700">();<br />})();</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Warning: Cannot call func_num_args() dynamically in %s on line %d
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.incompatible.invalid-class-names">
  <h3 class="title">Nom de class, interface, et trait invalide</h3>

  <p class="para">
   Les noms suivants ne peuvent pas être utilisés pour nommer des classes, 
   des interfaces ou des traits:
  </p>

  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara"><span class="type"><span class="type void">void</span></span></span>
   </li>
   <li class="listitem">
    <span class="simpara"><span class="type"><a href="language.types.iterable.html" class="type iterable">iterable</a></span></span>
   </li>
  </ul>
 </div>

 <div class="sect2" id="migration71.incompatible.numerical-strings-scientific-notation">
  <h3 class="title">Les conversions de chaînes numériques respectent désormais la notation scientifique</h3>

  <p class="para">
   Les opérations entières et les conversions sur les chaînes numériques respectent 
   désormais la notation scientifique. Cela inclut également l&#039;opération de 
   cast <code class="literal">(int)</code> et les fonctions suivantes: 
   <span class="function"><a href="function.intval.html" class="function">intval()</a></span> (où la base est 10), <span class="function"><a href="function.settype.html" class="function">settype()</a></span>, 
   <span class="function"><a href="function.decbin.html" class="function">decbin()</a></span>, <span class="function"><a href="function.decoct.html" class="function">decoct()</a></span> et 
   <span class="function"><a href="function.dechex.html" class="function">dechex()</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.fixes-to-mt_rand-algorithm">
  <h3 class="title">Correctifs à l&#039;algorithme <span class="function"><a href="function.mt-rand.html" class="function">mt_rand()</a></span></h3>

  <p class="para">
   <span class="function"><a href="function.mt-rand.html" class="function">mt_rand()</a></span> utilise désormais par défaut la version fixe de 
   l&#039;algorithme Mersenne Twister. Si la sortie déterministe de 
   <span class="function"><a href="function.mt-srand.html" class="function">mt_srand()</a></span> a été invoquée, alors la possibilité de conserver 
   l&#039;ancienne (et incorrecte) implémentation est possible via la valeur 
   <strong><code>MT_RAND_PHP</code></strong> du deuxième paramètre facultatif de 
   <span class="function"><a href="function.mt-srand.html" class="function">mt_srand()</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.rand-srand-aliases">
  <h3 class="title">
   <span class="function"><a href="function.rand.html" class="function">rand()</a></span> alias de <span class="function"><a href="function.mt-rand.html" class="function">mt_rand()</a></span> et 
   <span class="function"><a href="function.srand.html" class="function">srand()</a></span> alias de <span class="function"><a href="function.mt-srand.html" class="function">mt_srand()</a></span>
  </h3>

  <p class="para">
   <span class="function"><a href="function.rand.html" class="function">rand()</a></span> et <span class="function"><a href="function.srand.html" class="function">srand()</a></span> sont désormais
   des alias de <span class="function"><a href="function.mt-rand.html" class="function">mt_rand()</a></span> et <span class="function"><a href="function.mt-srand.html" class="function">mt_srand()</a></span>, 
   respectivement. Cela signifie que la sortie pour les fonctions suivantes ont
   été modifié : <span class="function"><a href="function.rand.html" class="function">rand()</a></span>, <span class="function"><a href="function.shuffle.html" class="function">shuffle()</a></span>, 
   <span class="function"><a href="function.str-shuffle.html" class="function">str_shuffle()</a></span> et <span class="function"><a href="function.array-rand.html" class="function">array_rand()</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.delete-control-character-in-identifiers">
  <h3 class="title">Interdire le caractère de contrôle de suppression ASCII dans les identificateurs</h3>

  <p class="para">
   Le caractère de contrôle de suppression ASCII (<code class="literal">0X7f</code>) ne peut 
   plus être utilisé dans les identificateurs qui ne sont pas entre guillemets.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.error_log-syslog">
  <h3 class="title">
   <code class="parameter">error_log</code> change pour la valeur <code class="literal">syslog</code>
  </h3>

  <p class="para">
   Si le paramètre INI <code class="parameter">error_log</code> est défini sur 
   <code class="literal">syslog</code>, les niveaux d&#039;erreur PHP sont mappés aux niveaux 
   d&#039;erreur syslog. Cela apporte une différenciation plus fine dans les journaux 
   d&#039;erreurs contrairement à l&#039;approche précédente où toutes les erreurs sont 
   enregistrées avec le niveau d&#039;avis uniquement.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.dont-call-destructors">
  <h3 class="title">N&#039;appelez pas les destructeurs sur des objets incomplets</h3>

  <p class="para">
   Les destructeurs ne sont désormais jamais appelés pour les objets qui lèvent 
   une exception pendant l&#039;exécution de leur constructeur. Dans les versions 
   précédentes, ce comportement dépendait de la question de savoir si l&#039;objet 
   était référencé en dehors du constructeur (par exemple par une exception 
   backtrace).
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.call_user_func-with-ref-args">
  <h3 class="title">
   <span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> gestion des arguments de référence
  </h3>

  <p class="para">
   <span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> va maintenant toujours générer un 
   avertissement sur les appels aux fonctions qui attendent des références comme 
   arguments. Auparavant, cela dépendait de la question de savoir si l&#039;appel était 
   entièrement qualifié.
  </p>
  <p class="para">
   En outre, <span class="function"><a href="function.call-user-func.html" class="function">call_user_func()</a></span> et 
   <span class="function"><a href="function.call-user-func-array.html" class="function">call_user_func_array()</a></span> n&#039;abandonneront plus l&#039;appel de 
   fonction dans ce cas. L&#039;avertissement  &quot;référence attendue&quot; sera émis, mais 
   l&#039;appel va continuer comme d&#039;habitude.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.empty-string-index-operator">
  <h3 class="title">
   L&#039;opérateur d&#039;index vide n&#039;est plus pris en charge pour les chaînes
  </h3>

  <p class="para">
   L&#039;application de l&#039;opérateur d&#039;index vide à une chaîne (par exemple 
   <code class="literal">$str[] = $x</code>) lève une erreur fatale au lieu de la 
   convertir silencieusement en tableau.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.empty-string-modifcation-by-character">
  <h3 class="title">Affectation via l&#039;accès d&#039;index de chaîne sur une chaîne vide</h3>
  <p class="para">
   La modification de chaîne par caractère sur une chaîne vide fonctionne 
   désormais comme pour les chaînes non vides, c&#039;est-à-dire l&#039;écriture dans 
   un décalage hors plage de la chaîne avec des espaces, où les types non 
   entiers sont convertis en entier, et seul le premier caractère de la chaîne 
   assignée est utilisé. Autrefois, les chaînes vides était silencieusement 
   traité comme un tableau vide.
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #0000BB">10</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 7.0 :</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
array(1) {
  [10]=&gt;
  string(3) &quot;foo&quot;
}
</pre></div>
    </div>
    <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 7.1 :</p>
    <div class="example-contents screen">
<div class="cdata"><pre>
string(11) &quot;          f&quot;
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.removed-ini-directives">
  <h3 class="title">Directives ini supprimées</h3>

  <p class="para">
   Les directives ini suivantes ont été supprimées :
  </p>

  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     <code class="parameter">session.entropy_file</code>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="parameter">session.entropy_length</code>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="parameter">session.hash_function</code>
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="parameter">session.hash_bits_per_character</code>
    </span>
   </li>
  </ul>
 </div>

 <div class="sect2" id="migration71.incompatible.array-order">
  <h3 class="title">
   L&#039;odonancement des éléments d&#039;un tableau a changé lorsque qu&#039;ils sont créés 
   automatiquement pendant les affectations par référence
  </h3>

  <p class="para">
   L&#039;ordre des éléments dans un tableau a changé lorsque ces éléments ont été 
   créés automatiquement en les référençant dans une assignation par référence. 
   Par exemple:
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$array&nbsp;</span><span style="color: #007700">=&nbsp;[];<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">"a"</span><span style="color: #007700">]&nbsp;=&amp;&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">"b"</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$array</span><span style="color: #007700">[</span><span style="color: #DD0000">"b"</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 7.0 :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
array(2) {
  [&quot;a&quot;]=&gt;
  &amp;int(1)
  [&quot;b&quot;]=&gt;
  &amp;int(1)
}
</pre></div>
   </div>
   <p class="para">Résultat de l&#039;exemple ci-dessus en PHP 7.1 :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
array(2) {
  [&quot;b&quot;]=&gt;
  &amp;int(1)
  [&quot;a&quot;]=&gt;
  &amp;int(1)
}
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.incompatible.sort-order">
  <h3 class="title">Ordre de tri des éléments égaux</h3>
  <p class="para">
   L&#039;algorithme de tri interne a été amélioré, ce qui peut entraîner un 
   ordre de tri différent des éléments, qui se comparaient comme égaux 
   auparavant.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Ne comptez pas sur l&#039;ordre des éléments qui se comparent comme égaux; il 
    pourrait changer à tout moment.
   </p>
  </p></blockquote>
 </div>

 <div class="sect2" id="migration71.incompatible.e-recoverable">
  <h3 class="title">Message d&#039;erreur pour les erreurs E_RECOVERABLE</h3>
  <p class="para">
   Le message d&#039;erreur pour les erreurs E_RECOVERABLE a été modifié de 
   &quot;Catchable fatal error&quot; à &quot;Recoverable fatal error&quot;.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.unserialize">
  <h3 class="title">Paramètre $options de unserialize()</h3>
  <p class="para">
   L&#039;élément <code class="literal">allowed_classes</code> du paramètre $options de 
   <span class="function"><a href="function.unserialize.html" class="function">unserialize()</a></span> est maintenant strictement typé, c&#039;est-à-dire 
   que si une valeur autre qu&#039;un <a href="language.types.array.html" class="link">tableau</a> ou un <a href="language.types.boolean.html" class="link">booléen</a> est donnée, unserialize() 
   retourne <strong><code>FALSE</code></strong> et émet un <strong><code>E_WARNING</code></strong>.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.datetime-microseconds">
  <h3 class="title">Le constructeur de DateTime incorpore microsecondes</h3>
  <p class="para">
   <a href="class.datetime.html" class="classname">DateTime</a> et <a href="class.datetimeimmutable.html" class="classname">DateTimeImmutable</a> 
   intègrent désormais correctement les microsecondes lorsqu&#039;elles sont construites 
   à partir de l&#039;heure actuelle, soit explicitement, soit avec une chaîne relative 
   (par exemple <code class="literal">&quot;first day of next month&quot;</code>). Cela signifie que 
   les comparaisons naïves de deux instances nouvellement créées seront désormais 
   plus susceptibles de retourner <strong><code>FALSE</code></strong> au lieu de <strong><code>TRUE</code></strong>:
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">()&nbsp;==&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.fatal-errors-to-error-exceptions">
  <h3 class="title">Conversions des erreurs fatales en exceptions <a href="class.error.html" class="classname">Error</a></h3>
  <p class="para">
   Dans l&#039;extension date, les données de sérialisation invalide pour les classes 
   <a href="class.datetime.html" class="classname">DateTime</a> ou <a href="class.dateperiod.html" class="classname">DatePeriod</a> , ou 
   l&#039;échec de l&#039;initialisation du fuseau horaire à partir de données sérialisées, 
   lèvera désormais une exception <a href="class.error.html" class="classname">Error</a> à partir de la 
   métode <span class="methodname"><strong>__wakeup()</strong></span> ou  <span class="methodname"><strong>__set_state()</strong></span>, 
   au lieu de se traduit par une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension DBA, les fonctions de modification des données (telles que 
   <span class="function"><a href="function.dba-insert.html" class="function">dba_insert()</a></span>) lèvera désormais une exception 
   <a href="class.error.html" class="classname">Error</a> au lieu de déclencher une erreur fatale capturable 
   si la clé ne contient pas exactement deux éléments.
  </p>

  <p class="para">
   Dans l&#039;extension DOM, les contextes de validation de schéma ou de RelaxNG non 
   valides lèvera désormais une exception <a href="class.error.html" class="classname">Error</a> au lieu de 
   résulter en une erreur fatale. De même, la tentative d&#039;inscription d&#039;une 
   classe de nœud qui n&#039;étend pas la classe de base appropriée, ou tente de lire 
   une propriété non valide ou d&#039;écrire dans une propriété en lecture seule, lèvera 
   également une exception <a href="class.error.html" class="classname">Error</a> .
  </p>

  <p class="para">
   Dans l&#039;extension IMAP, les adresses de messagerie plus longues que 16385 octets 
   lèvera une exception <a href="class.error.html" class="classname">Error</a> au lieu de se traduit par une 
   erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension Intl, le fait de ne pas appeler le constructeur parent dans une 
   classe qui étend <a href="class.collator.html" class="classname">Collator</a> avant d&#039;appeler les méthodes parent 
   lèvera maintenant une <a href="class.error.html" class="classname">Error</a> au lieu d&#039;avoir pour résultat 
   une erreur fatale récupérable. En outre, le clonage d&#039;un objet 
   <a href="class.transliterator.html" class="classname">Transliterator</a> lève désormais une exception 
   <a href="class.error.html" class="classname">Error</a> en cas d&#039;echec du clonage du Transliterator 
   interne au lieu d&#039;une erreur fatale.
  </p>

  <p class="para">
   
   Dans l&#039;extension LDAP, la fourniture d&#039;un type de modification inconnu à 
   <span class="function"><strong>ldap_batch_modify()</strong></span> lèvera désormais une exception 
   <a href="class.error.html" class="classname">Error</a> au lieu d&#039;une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension mbstring, les fonctions <span class="function"><a href="function.mb-ereg.html" class="function">mb_ereg()</a></span> et 
   <span class="function"><a href="function.mb-eregi.html" class="function">mb_eregi()</a></span> lèveront désormais une exception 
   <a href="class.parseerror.html" class="classname">ParseError</a> si une expression PHP non valide est fournie 
   et que l&#039;option &#039;e&#039; est utilisée.
  </p>

  <p class="para">
   Dans l&#039;extension mcrypt, <span class="function"><a href="function.mcrypt-encrypt.html" class="function">mcrypt_encrypt()</a></span> et 
   <span class="function"><a href="function.mcrypt-decrypt.html" class="function">mcrypt_decrypt()</a></span> lèveront maintenant une exception 
   <a href="class.error.html" class="classname">Error</a> au lieu d&#039;une erreur fatale si mcrypt ne 
   peut pas être initialisée.
  </p>

  <p class="para">
   Dans l&#039;extension mysqli, la tentative de lecture d&#039;une propriété non valide 
   ou d&#039;écriture dans une propriété en lecture seule lève maintenant une exception 
   <a href="class.error.html" class="classname">Error</a> au lieu de se traduire par une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension Reflection, le fait de ne pas récupérer un objet de réflexion 
   ou de récupérer une propriété d&#039;objet lève maintenant une exception 
   <a href="class.error.html" class="classname">Error</a> au lieu de se traduire par une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension de session, les gestionnaires de session personnalisés qui 
   ne retournent pas de chaînes pour les ID de session lèvera désormais une 
   exception <a href="class.error.html" class="classname">Error</a> au lieu de provoquer une erreur fatale 
   lorsqu&#039;une fonction est appelée pour générer un ID de session.
  </p>

  <p class="para">
   Dans l&#039;extension SimpleXML, la création d&#039;un attribut sans nom ou dupliqué va 
   maintenant lever une exception <a href="class.error.html" class="classname">Error</a> au lieu de générer 
   une erreur fatale.
  </p>

  <p class="para">
   In the SPL extension, attempting to clone an   <strong class="classname">SplDirectory</strong> object will now throw an   <a href="class.error.html" class="classname">Error</a> exception instead of resulting in a fatal   error. Similarly, calling <span class="methodname"><a href="arrayiterator.append.html" class="methodname">ArrayIterator::append()</a></span> when   iterating over an object will also now throw an <a href="class.error.html" class="classname">Error</a>
   exception.
  </p>

  <p class="para">
   Dans l&#039;extension standard, la fonction <span class="function"><a href="function.assert.html" class="function">assert()</a></span>, lorsqu&#039;elle 
   est fournie avec un argument de chaîne comme premier paramètre, lèvera maintenant 
   une exception <a href="class.parseerror.html" class="classname">ParseError</a> au lieu d&#039;une erreur fatale 
   capturable si le code PHP n&#039;est pas valide. De même, l&#039;appel à 
   <span class="function"><a href="function.forward-static-call.html" class="function">forward_static_call()</a></span> en dehors d&#039;une étendue de classe lève 
   maintenant une exception <a href="class.error.html" class="classname">Error</a> .
  </p>

  <p class="para">
   Dans l&#039;extension Tidy, la création manuelle d&#039;un <a href="class.tidynode.html" class="classname">tidyNode</a> 
   lèvera une exception  <a href="class.error.html" class="classname">Error</a> au lieu d&#039;une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension WDDX, une référence circulaire lors de la sérialisation va 
   maintenant lever une exception <a href="class.error.html" class="classname">Error</a> au lieu d&#039;une 
   erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension XML-RPC, une référence circulaire lors de la sérialisation 
   lève maintenant une instance d&#039;exception <a href="class.error.html" class="classname">Error</a> au lieu 
   de se traduire par une erreur fatale.
  </p>

  <p class="para">
   Dans l&#039;extension Zip, la méthode <span class="methodname"><a href="ziparchive.addglob.html" class="methodname">ZipArchive::addGlob()</a></span> 
   lève maintenant une exception <a href="class.error.html" class="classname">Error</a> au lieu de se 
   traduire par une erreur fatale si la prise en charge de glob n&#039;est pas disponible.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.lexical-names">
  <h3 class="title">Les variables liées Lexiquement ne peuvent pas réutiliser les noms</h3>

  <p class="para">
   Les variables liées à une <a href="functions.anonymous.html" class="link">fonction anonyme
   </a> via la construction <code class="literal">use</code> ne peuvent pas utiliser le 
   même nom que n&#039;importe quel <a href="language.variables.predefined.html" class="link">superglobals</a>, <var class="varname">$this</var> ou 
   n&#039;importe quel paramètre. Par exemple, toutes ces définitions de fonction 
   entraînera une erreur fatale :

   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$f&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">)&nbsp;{};<br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;()&nbsp;use&nbsp;(</span><span style="color: #0000BB">$this</span><span style="color: #007700">)&nbsp;{};<br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$param</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$param</span><span style="color: #007700">)&nbsp;{};</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.long2ip">
  <h3 class="title">long2ip() changement de type de paramètre</h3>
  <p class="para">
   <span class="function"><a href="function.long2ip.html" class="function">long2ip()</a></span> attend maintenant un <span class="type"><a href="language.types.integer.html" class="type int">int</a></span> à la place 
   de <span class="type"><a href="language.types.string.html" class="type string">string</a></span>.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.json">
  <h3 class="title">Encodage et décodage JSON</h3>
  <p class="para">
   Le paramètre INI <code class="parameter">serialize_precision</code> contrôle maintenant 
   la précision de sérialisation lors de l&#039;encodage des double.
  </p>
  <p class="para">
   Le décodage d&#039;une clé vide entraîne désormais un nom de propriété vide, plutôt 
   que <code class="literal">_empty_</code> comme nom de propriété.

   <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">json_encode</span><span style="color: #007700">([</span><span style="color: #DD0000">''&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">])));</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher quelque chose de similaire à :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(stdClass)#1 (1) {
  [&quot;&quot;]=&gt;
  int(1)
}
</pre></div>
   </div>
  </div>
  </p>
  <p class="para">
   Lorsque vous fournissez l&#039;indicateur <strong><code>JSON_UNESCAPED_UNICODE</code></strong> 
   à <span class="function"><a href="function.json-encode.html" class="function">json_encode()</a></span>, les séquences U+2028 et U+2029 sont 
   maintenant échappées.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.mbstring">
  <h3 class="title">
   Modifications de la sémantique des paramètres de <span class="function"><a href="function.mb-ereg.html" class="function">mb_ereg()</a></span> 
   et <span class="function"><a href="function.mb-eregi.html" class="function">mb_eregi()</a></span>
  </h3>
  <p class="para">
   Le troisième paramètre des fonctions <span class="function"><a href="function.mb-ereg.html" class="function">mb_ereg()</a></span> et 
   <span class="function"><a href="function.mb-eregi.html" class="function">mb_eregi()</a></span> (<code class="parameter">regs</code>) est désormais 
   défini sur un tableau vide si rien n&#039;a été mis en correspondance. Auparavant, 
   le paramètre n&#039;aurait pas été modifié.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.openssl">
  <h3 class="title">Abandon des flux sslv2</h3>
  <p class="para">
   Le flux SSLv2 a maintenant été abandonné dans OpenSSL.
  </p>
 </div>

 <div class="sect2" id="migration71.incompatible.typed-returns-compile-time">
  <h3 class="title">Interdit &quot;return;&quot; pour les retours typés lors de la compilation</h3>
  <p class="para">
   Une déclaration de retour sans arguments dans les fonctions qui déclarent un
   type de retour émet désormais <strong><code>E_COMPILE_ERROR</code></strong> (sauf si
   le type de retour est déclaré comme <span class="type"><span class="type void">void</span></span>), même si la
   déclaration de retour ne serait jamais atteinte.
  </p>
 </div>

</div></div></div></body></html>