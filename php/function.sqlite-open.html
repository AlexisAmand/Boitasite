<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Ouvre une base SQLite et la cr&eacute;e si elle n'existe pas</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sqlite-num-rows.html">« sqlite_num_rows</a></li>
      <li style="float: right;"><a href="function.sqlite-popen.html">sqlite_popen »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sqlite.html">Fonctions SQLite</a></li>
    <li>Ouvre une base SQLite et la cr&eacute;e si elle n'existe pas</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sqlite-open" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlite_open</h1>
  <p class="verinfo">(PHP 5 &lt; 5.4.0, PECL sqlite &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">sqlite_open</span> &mdash; <span class="dc-title">Ouvre une base SQLite et la crée si elle n&#039;existe pas</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.sqlite-open-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>sqlite_open</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = 0666</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_message</code></span>
  ]] ) : <span class="type">resource</span></div>

  <p class="para rdfs-comment">Style orienté objet (constructeur) :</p>
  <div class="constructorsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><strong>SQLiteDatabase::__construct</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = 0666</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_message</code></span>
  ]] )</div>

  <p class="para rdfs-comment">
   Ouvre une base de données SQLite ou crée la base de données si elle
   n&#039;existe pas.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sqlite-open-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       Le nom du fichier de la base de données SQLite. Si le fichier n&#039;existe
       pas, SQLite tentera de le créer. PHP doit avoir les permissions
       d&#039;écriture du fichier si des données y sont insérées, le schéma de la
       base de données est modifié ou pour créer une base de données si elle
       n&#039;existe pas.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       Le mode du fichier. Devrait être utilisé pour ouvrir une base de
       données en mode lecture seule. Actuellement, ce paramètre est ignoré
       par la bibliothèque sqlite. La valeur par défaut pour le mode est
       <code class="literal">0666</code> en octal et cela est la valeur recommandée.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">error_message</code></dt>

     <dd>

      <p class="para">
       Passée par référence et est affectée afin de contenir la description du
       message d&#039;erreur qui explique pourquoi la base de données ne pouvait
       pas être ouverte s&#039;il y avait une erreur.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sqlite-open-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne une ressource (de base de données) en cas de succès, <strong><code>FALSE</code></strong> en
   cas d&#039;erreur.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.sqlite-open-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-2568">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>sqlite_open()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$db&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlite_open</span><span style="color: #007700">(</span><span style="color: #DD0000">'mysqlitedb'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0666</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sqliteerror</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,</span><span style="color: #DD0000">'CREATE&nbsp;TABLE&nbsp;foo&nbsp;(bar&nbsp;varchar(10))'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,</span><span style="color: #DD0000">"INSERT&nbsp;INTO&nbsp;foo&nbsp;VALUES&nbsp;('fnord')"</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">sqlite_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$db</span><span style="color: #007700">,</span><span style="color: #DD0000">'select&nbsp;bar&nbsp;from&nbsp;foo'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">sqlite_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">));<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;die&nbsp;(</span><span style="color: #0000BB">$sqliteerror</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.sqlite-open-notes">
  <h3 class="title">Notes</h3>
  <div class="tip"><strong class="tip">Astuce</strong>
   <p class="simpara">
    Sur les plates-formes Unix, SQLite est sensible aux scripts qui utilisent
    la fonction système <code class="literal">fork()</code>. Si vous avez un tel script,
    il est recommandé que vous refermiez la ressource avant de faire le fork,
    et de l&#039;ouvrir à nouveau dans le processus fils. Pour plus d&#039;informations sur
    ce problème, voyez <a href="http://sqlite.org/c_interface.html" class="link external">&raquo;&nbsp;<code class="literal">
    The C language interface to the SQLite library</code></a>
    dans la section intitulée
    <code class="literal">Multi-Threading And SQLite</code> (en anglais).
   </p>
  </div>
  <div class="tip"><strong class="tip">Astuce</strong>
   <p class="simpara">
    Il n&#039;est pas recommandé d&#039;utiliser des bases de données SQLite montées
    sur des partitions NFS. Comme NFS est très mauvais pour assurer le verrouillage
    des fichiers, vous pourriez ne pas ouvrir les bases, et, si vous réussissez,
    le verrouillage de la base sera indéfini.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Depuis SQLite version 2.8.2, vous pouvez spécifier <code class="literal">:memory:</code>
    comme valeur de <code class="parameter">filename</code> pour créer une base
    qui sera installée en mémoire vive, sur le serveur. C&#039;est très pratique
    pour des traitements temporaires, car la base en mémoire sera détruire
    dès que le script sera terminé. Cela peut aussi être utile, lorsqu&#039;utilisé
    conjointement avec la commande SQL <code class="literal">ATTACH DATABASE</code>,
    pour charger d&#039;autres bases, et faire des requêtes liées.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    SQLite prend en compte le <a href="ini.sect.safe-mode.html#ini.safe-mode" class="link">safe mode</a> et l&#039;option open_basedir.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sqlite-open-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sqlite-popen.html" class="function" rel="rdfs-seeAlso">sqlite_popen()</a> - Ouvre une connexion SQLite persistante et cr&eacute;e la base si elle n'existe pas</span></li>
    <li class="member"><span class="function"><a href="function.sqlite-close.html" class="function" rel="rdfs-seeAlso">sqlite_close()</a> - Ferme la connexion &agrave; SQLite</span></li>
    <li class="member"><span class="function"><strong>sqlite_factory()</strong></span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>