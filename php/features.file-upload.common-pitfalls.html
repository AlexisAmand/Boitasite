<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Erreurs classiques</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="features.file-upload.errors.html">« Explication sur les messages d'erreurs de chargement de fichiers</a></li>
      <li style="float: right;"><a href="features.file-upload.multiple.html">T&eacute;l&eacute;charger plusieurs fichiers simultan&eacute;ment »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="features.file-upload.html">Gestion des chargements de fichiers</a></li>
    <li>Erreurs classiques</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="features.file-upload.common-pitfalls" class="sect1">
  <h2 class="title">Erreurs classiques</h2>
  <p class="simpara">
   La variable <code class="literal">MAX_FILE_SIZE</code> ne peut pas spécifier une taille
   de fichier plus grande que la taille qui a été
   fixée par <a href="ini.core.html#ini.upload-max-filesize" class="link">upload_max_filesize</a>,
   dans le <var class="filename">php.ini</var>. La valeur par défaut est 2 megaoctets.
  </p>
  <p class="simpara">
   Si une limite de mémoire est activée, une plus grande valeur de
   <a href="ini.core.html#ini.memory-limit" class="link">memory_limit</a> peut être nécessaire.
   Assurez-vous d&#039;avoir défini une valeur pour
   <a href="ini.core.html#ini.memory-limit" class="link">memory_limit</a> assez grande.
  </p>
  <p class="simpara">
   Si la valeur de
   <a href="info.configuration.html#ini.max-execution-time" class="link">max_execution_time</a> est trop
   petite, le temps d&#039;exécution du script peut excéder cette valeur.
   Assurez-vous d&#039;avoir défini une valeur pour
   <code class="literal">max_execution_time</code> assez grande.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    <a href="info.configuration.html#ini.max-execution-time" class="link">max_execution_time</a> affecte
    uniquement le temps d&#039;exécution du script. Le temps passé sur l&#039;activité
    qui apparaît en dehors de l&#039;exécution du script comme les appels systèmes
    avec la fonction <span class="function"><a href="function.system.html" class="function">system()</a></span>, la fonction
    <span class="function"><a href="function.sleep.html" class="function">sleep()</a></span>, les requêtes sur les bases de données, le temps
    mis pour effectuer le téléchargement du fichier, etc. n&#039;est pas inclus lors
    du calcul du temps maximal de l&#039;exécution du script.
   </span>
  </p></blockquote>
  <div class="warning"><strong class="warning">Avertissement</strong>
   <p class="simpara">
    <a href="info.configuration.html#ini.max-input-time" class="link">max_input_time</a> définit le temps
    maximal, en secondes, au script pour recevoir les données ; cela inclut le
    téléchargement du fichier. Pour les fichiers multiples, ou les gros
    fichiers, ou encore pour les utilisateurs sur des connexions lentes,
    la valeur par défaut de <code class="literal">60 secondes</code> peut être dépassée.
   </p>
  </div>
  <p class="simpara">
   Si <a href="ini.core.html#ini.post-max-size" class="link">post_max_size</a> est défini de façon
   trop faible, les gros fichiers ne pourront pas être téléchargés. Assurez-vous
   de définir <code class="literal">post_max_size</code> avec une taille suffisante.
  </p>
  <p class="simpara">
   À partir de PHP 5.2.12, la configuration de
   <a href="ini.core.html#ini.max-file-uploads" class="link">max_file_uploads</a> contrôle le nombre
   maximum de fichiers qui peuvent être envoyés en une requête. Si le nombre de fichiers
   envoyés dépasse cette limite, alors <var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES</a></var> arrêtera la réception.
   Par exemple, si <a href="ini.core.html#ini.max-file-uploads" class="link">max_file_uploads</a> vaut
   <code class="literal">10</code>, alors <var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES</a></var> ne contiendra jamais plus de
   10 entités.
  </p>
  <p class="simpara">
   Ne pas valider les fichiers que vous manipulez peut donner l&#039;accès
   aux utilisateurs à des fichiers sensibles dans d&#039;autres dossiers !
  </p>
  <p class="simpara">
   Attention : il semble que <span class="productname">CERN httpd</span> supprime
   tout  ce qui est après le premier caractère dans l&#039;entête MIME.
   Tant que c&#039;est le cas, <span class="productname">CERN httpd</span> ne pourra pas
   effectuer de chargements de fichiers.
  </p>
  <p class="simpara">
   Du fait de la grande diversité des systèmes, nous ne pouvons garantir que les fichiers
   avec des noms exotiques (par exemple, ceux contenant des espaces) seront
   traités correctement.
  </p>
  <p class="simpara">
   Le développeur ne doit pas mixer les champs <code class="literal">input</code>
   normaux et les champs de téléchargement dans une même variable 
   (en utilisant un nom d&#039;<code class="literal">input</code> comme 
   <code class="literal">foo[]</code>).
  </p>
 </div></div></div></body></html>