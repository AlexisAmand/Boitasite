<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Utiliser les archives Phar : Introduction</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="phar.using.html">« Utiliser les archives Phar</a></li>
      <li style="float: right;"><a href="phar.using.stream.html">Utiliser les archives Phar : le flux phar »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="phar.using.html">Utiliser les archives Phar</a></li>
    <li>Utiliser les archives Phar : Introduction</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="phar.using.intro" class="section">
 <h2 class="title">Utiliser les archives Phar : Introduction</h2>
 <p class="para">
  Les archives Phar sont identiques dans le concept aux archives JAR
  de Java, mais sont conçues plus spécifiquement pour les besoins et
  la flexibilité des applications PHP. Une archive Phar est utilisée
  pour distribuer une application PHP complète ou une bibliothèque 
  sous forme d&#039;un fichier unique.
  Une application sous forme d&#039;archive Phar est utilisée exactement de 
  la même façon que n&#039;importe quelle autre application PHP :
 </p>
 <div class="example-contents screen">
  <div class="cdata"><pre>
php applicationsympa.phar
  </pre></div>
 </div>
 <p class="para">
  L&#039;utilisation d&#039;une bibliothèque sous forme d&#039;archive Phar est la
  même que n&#039;importe quelle autre bibliothèque PHP :
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'bibliothequesympa.phar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="para">
  Le flux <code class="literal">phar</code> fournit le coeur de l&#039;extension phar, et
  est décrit en détails <a href="phar.using.stream.html" class="link">ici</a>.
  Le flux phar permet l&#039;accès aux fichiers contenus dans une archive phar via les
  fonctions standards de fichier <span class="function"><a href="function.fopen.html" class="function">fopen()</a></span>, <span class="function"><a href="function.opendir.html" class="function">opendir()</a></span>, et
  toute autre fonctionnant sur des fichiers normaux. Le flux <code class="literal">phar</code> supporte toutes
  les opérations de lecture/écriture à la fois sur les fichiers et sur les répertoires.
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">include&nbsp;</span><span style="color: #DD0000">'phar://bibliothequesympa.phar/fichier/interne.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/jpeg'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;les&nbsp;phars&nbsp;peuvent&nbsp;être&nbsp;atteint&nbsp;via&nbsp;le&nbsp;chemin&nbsp;complet&nbsp;ou&nbsp;via&nbsp;des&nbsp;alias<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar:///chemin/complet/vers/bibliothequesympa.phar/images/wow.jpg'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="para">
  La classe <a href="class.phar.html" class="classname">Phar</a> implémente des fonctionnalités
  avancées pour accéder aux fichiers et créer des archives phar. La 
  classe Phar est décrite en détails <a href="phar.using.object.html" class="link">ici</a>.
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ouvre&nbsp;un&nbsp;phar&nbsp;existant<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'bibliothequesympa.phar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Phar&nbsp;étend&nbsp;la&nbsp;classe&nbsp;DirectoryIterator&nbsp;de&nbsp;SPL<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach&nbsp;(new&nbsp;</span><span style="color: #0000BB">RecursiveIteratorIterator</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$file&nbsp;est&nbsp;une&nbsp;classe&nbsp;PharFileInfo&nbsp;et&nbsp;hérité&nbsp;de&nbsp;SplFileInfo<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getFileName</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPathName</span><span style="color: #007700">())&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;affiche&nbsp;le&nbsp;contenu;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'fichier/interne.php'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'fichier/interne.php'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">getMetadata</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;crée&nbsp;un&nbsp;nouveau&nbsp;phar&nbsp;-&nbsp;phar.readonly&nbsp;doit&nbsp;être&nbsp;à&nbsp;0&nbsp;dans&nbsp;php.ini<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;phar.readonly&nbsp;est&nbsp;activé&nbsp;par&nbsp;défaut&nbsp;pour&nbsp;des&nbsp;raisons&nbsp;de&nbsp;sécurité.<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Sur&nbsp;des&nbsp;serveurs&nbsp;de&nbsp;production,&nbsp;les&nbsp;Phars&nbsp;n'ont&nbsp;pas&nbsp;besoin&nbsp;d'être&nbsp;créés,<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;juste&nbsp;d'être&nbsp;exécutés.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">canWrite</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'nouveauphar.tar.phar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nouveauphar.tar.phar'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;On&nbsp;crée&nbsp;une&nbsp;archive&nbsp;Phar&nbsp;basée&nbsp;sur&nbsp;tar,&nbsp;compressée&nbsp;par&nbsp;gzip&nbsp;(.tar.gz)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">convertToExecutable</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">TAR</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">GZ</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;crée&nbsp;une&nbsp;transaction&nbsp;-&nbsp;rien&nbsp;n'est&nbsp;écrit&nbsp;dans&nbsp;nouveauphar.phar<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;jusqu'à&nbsp;ce&nbsp;que&nbsp;stopBuffering()&nbsp;ne&nbsp;soit&nbsp;appelé,&nbsp;bien&nbsp;qu'un&nbsp;stockage&nbsp;temporaire&nbsp;soit&nbsp;requis<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">startBuffering</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ajoute&nbsp;tous&nbsp;les&nbsp;fichiers&nbsp;de&nbsp;/chemin/vers/leprojet&nbsp;dans&nbsp;le&nbsp;phar&nbsp;avec&nbsp;le&nbsp;préfixe&nbsp;"projet"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">buildFromIterator</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">RecursiveIteratorIterator</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">RecursiveDirectoryIterator</span><span style="color: #007700">(</span><span style="color: #DD0000">'/chemin/vers/leprojet'</span><span style="color: #007700">)),&nbsp;</span><span style="color: #DD0000">'/chemin/vers/'</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;ajoute&nbsp;un&nbsp;nouveau&nbsp;fichier&nbsp;en&nbsp;utilisant&nbsp;l'API&nbsp;d'accès&nbsp;par&nbsp;tableau<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'fichier1.txt'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Information'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'grosfichier.dat'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'rb'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;copie&nbsp;toutes&nbsp;les&nbsp;données&nbsp;du&nbsp;flux<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'data/grosfichier.dat'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$fp</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">canCompress</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">GZ</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'data/grosfichier.dat'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">compress</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">GZ</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'images/wow.jpg'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'images/wow.jpg'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;toute&nbsp;valeur&nbsp;peut&nbsp;être&nbsp;sauvegardée&nbsp;comme&nbsp;métadonnée&nbsp;spécifique&nbsp;au&nbsp;fichier<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'images/wow.jpg'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">setMetadata</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'mime-type'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'image/jpeg'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">[</span><span style="color: #DD0000">'index.php'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'index.php'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMetadata</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'bootstrap'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'index.php'</span><span style="color: #007700">));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;sauvegarde&nbsp;l'archive&nbsp;phar&nbsp;sur&nbsp;le&nbsp;disque<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stopBuffering</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'N\'a&nbsp;pas&nbsp;pu&nbsp;ouvrir&nbsp;le&nbsp;Phar:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="para">
  D&#039;autre part, la vérification du contenu du fichier phar peut être faite en utilisant un des
  algorithme de signature symétrique (MD5, SHA1, SHA256 et SHA512 si ext/hash est activée) et
  en utilisant la signature asymétrique par clé publique/privée de OpenSSL (nouveauté de Phar 2.0.0).
  Pour tirer parti de la signature OpenSSL, vous devez générer une paire de clés publique/privée et
  utiliser la clé privée pour signer avec <span class="function"><a href="phardata.setsignaturealgorithm.html" class="function">Phar::setSignatureAlgorithm()</a></span>. En plus, la
  clé publique, extraite en utilisant ce code :
  <div class="example-contents">
   <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$public&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">openssl_get_publickey</span><span style="color: #007700">(</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'private.pem'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$pkey&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">openssl_pkey_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$public</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$pkey</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  doit être sauvegardée à part de l&#039;archive phar qu&#039;elle vérifie. Si l&#039;archive phar est sauvegardée
  en tant que <code class="literal">/chemin/vers/mon.phar</code>, la clé publique doit être sauvegardée en tant
  que <code class="literal">/chemin/vers/mon.phar.pubkey</code>, sans quoi phar ne sera pas capable de vérifier
  la signature OpenSSL.
 </p>
 <p class="para">
  Depuis la version 2.0.0, la classe <a href="class.phar.html" class="classname">Phar</a> fournit aussi trois méthodes statiques, <span class="function"><a href="phar.webphar.html" class="function">Phar::webPhar()</a></span>,
  <span class="function"><a href="phar.mungserver.html" class="function">Phar::mungServer()</a></span> et <span class="function"><a href="phar.interceptfilefuncs.html" class="function">Phar::interceptFileFuncs()</a></span> qui sont cruciales
  pour empaqueter des applications PHP visant à être utilisée sur un système de fichiers classique ou en tant qu&#039;application web.
  <span class="function"><a href="phar.webphar.html" class="function">Phar::webPhar()</a></span> implémente un contrôleur qui route les appels HTTP vers le bon endroit de l&#039;archive phar.
  <span class="function"><a href="phar.mungserver.html" class="function">Phar::mungServer()</a></span> est utilisé pour modifier les valeurs du tableau <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var> pour
  dire aux applications d&#039;utiliser ces valeurs. <span class="function"><a href="phar.interceptfilefuncs.html" class="function">Phar::interceptFileFuncs()</a></span> dit à Phar d&#039;intercepter les appels à
  <span class="function"><a href="function.fopen.html" class="function">fopen()</a></span>, <span class="function"><a href="function.file-get-contents.html" class="function">file_get_contents()</a></span>, <span class="function"><a href="function.opendir.html" class="function">opendir()</a></span>, et
  à toutes les fonctions basées sur stat (<span class="function"><a href="function.file-exists.html" class="function">file_exists()</a></span>, <span class="function"><a href="function.is-readable.html" class="function">is_readable()</a></span>, etc) et
  route tous les chemins relatif vers les bons endroits de l&#039;archive phar.
 </p>
 <p class="para">
  Par exemple, empaqueter une version de la célèbre application phpMyAdmin dans une archive phar nécessite
  juste ce simple script et, dès lors, <code class="literal">phpMyAdmin.phar.tar.php</code> peut être accédé comme un fichier
  classique à partir de votre serveur web, après avoir modifié le couple utilisateur/motdepasse :
 </p>
 <p class="para">
  <div class="informalexample">
   <div class="example-contents">
    <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">@</span><span style="color: #0000BB">unlink</span><span style="color: #007700">(</span><span style="color: #DD0000">'phpMyAdmin.phar.tar.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'phpMyAdmin-2.11.3-english.tar.gz'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'phpMyAdmin.phar.tar.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'phpMyAdmin.phar.tar.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">startBuffering</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">"phpMyAdmin-2.11.3-english/config.inc.php"</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #DD0000">'&lt;?php<br />/*&nbsp;Servers&nbsp;configuration&nbsp;*/<br />$i&nbsp;=&nbsp;0;<br /><br />/*&nbsp;Server&nbsp;localhost&nbsp;(config:root)&nbsp;[1]&nbsp;*/<br />$i++;<br />$cfg[\'Servers\'][$i][\'host\']&nbsp;=&nbsp;\'localhost\';<br />$cfg[\'Servers\'][$i][\'extension\']&nbsp;=&nbsp;\'mysqli\';<br />$cfg[\'Servers\'][$i][\'connect_type\']&nbsp;=&nbsp;\'tcp\';<br />$cfg[\'Servers\'][$i][\'compress\']&nbsp;=&nbsp;false;<br />$cfg[\'Servers\'][$i][\'auth_type\']&nbsp;=&nbsp;\'config\';<br />$cfg[\'Servers\'][$i][\'user\']&nbsp;=&nbsp;\'root\';<br />$cfg[\'Servers\'][$i][\'password\']&nbsp;=&nbsp;\'\';<br /><br /><br />/*&nbsp;End&nbsp;of&nbsp;servers&nbsp;configuration&nbsp;*/<br />if&nbsp;(strpos(PHP_OS,&nbsp;\'WIN\')&nbsp;!==&nbsp;false)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;$cfg[\'UploadDir\']&nbsp;=&nbsp;getcwd();<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;$cfg[\'UploadDir\']&nbsp;=&nbsp;\'/tmp/pharphpmyadmin\';<br />&nbsp;&nbsp;&nbsp;&nbsp;@mkdir(\'/tmp/pharphpmyadmin\');<br />&nbsp;&nbsp;&nbsp;&nbsp;@chmod(\'/tmp/pharphpmyadmin\',&nbsp;0777);<br />}'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStub</span><span style="color: #007700">(</span><span style="color: #DD0000">'&lt;?php<br />Phar::interceptFileFuncs();<br />Phar::webPhar("phpMyAdmin.phar",&nbsp;"phpMyAdmin-2.11.3-english/index.php");<br />echo&nbsp;"phpMyAdmin&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;executed&nbsp;from&nbsp;a&nbsp;web&nbsp;browser\n";<br />exit&nbsp;-1;<br />__HALT_COMPILER();<br />'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stopBuffering</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
</div></div></div></body></html>