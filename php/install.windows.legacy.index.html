<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Installation sur les anciens syst&egrave;mes Windows</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="install.windows.troubleshooting.html">« D&eacute;pannage de PHP sous Windows</a></li>
      <li style="float: right;"><a href="install.cloud.html">Installation sur des plateformes de Cloud Computing »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="install.windows.html">Installation sur les syst&egrave;me Windows</a></li>
    <li>Installation sur les anciens syst&egrave;mes Windows</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="install.windows.legacy.index" class="sect1">
    <h2 class="title">Installation sur les anciens systèmes Windows</h2>
   <p class="para">
    Cette section s&#039;applique à Windows 98/Me et Windows NT/2000/XP/2003. PHP
    ne fonctionnera pas sur les plateformes 16 bits comme Windows 3.1
    et parfois, nous nous référons aux plateformes Windows supportées comme Win32.
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Windows XP/2003 ne sont plus supportés depuis PHP 5.5.0.
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Windows 98/Me/NT4/2000 ne sont plus supportés depuis PHP 5.3.0.
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Windows 95 n&#039;est plus supporté depuis PHP 4.3.0.
    </p>
   </p></blockquote>
   <p class="para">
    Si vous avez un environnement de développement comme Microsoft Visual Studio,
    vous pouvez aussi compiler
    
    PHP depuis le code source original.
   </p>
   <p class="para">
    Une fois que vous avez PHP d&#039;installé sur votre système Windows, vous
    pouvez aussi vouloir <a href="install.windows.legacy.index.html#install.windows.legacy.extensions" class="link">charger
    diverses extensions</a> pour ajouter des fonctionnalités.
   </p>
   
   




<div class="sect2" id="install.windows.legacy.manual">
 <h3 class="title">Étapes pour une installation manuelle</h3>
 <p class="para">
  Cette section contient les instructions pour installer manuellement
  et configurer PHP sous Microsoft Windows.
 </p>
 <div class="sect3" id="install.windows.legacy.manual.download">
  <h4 class="title">Sélection et téléchargement de PHP</h4>
  <p class="para">
   Téléchargez l&#039;archive PHP depuis
   <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP pour Windows: Binaires et sources</a>.
   Il y a plusieurs versions de l&#039;archive zip - pour choisir la bonne version 
   pour vous, suivez le guide détaillé sur la <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;page des téléchargements</a>.
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.manual.package">
  <h4 class="title">La structure et le contenu du paquet PHP</h4>
  <p class="para">
   Décompressez le contenu de l&#039;archive zip dans le dossier de votre choix, par
   exemple C:\PHP\. La structure des dossiers et des fichiers extraits depuis
   l&#039;archive zip ressemble à ceci :
   <div class="example" id="install.unix.nginx.restart.nginx">
    <p><strong>Exemple #1 Structure d&#039;un paquet PHP 5</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>

c:\php
   |
   +--dev
   |  |
   |  |-php5ts.lib                 -- php5.lib en version non thread safe
   |
   +--ext                          -- bibliothèques DLLs pour PHP
   |  |
   |  |-php_bz2.dll
   |  |
   |  |-php_cpdf.dll
   |  |
   |  |-...
   |
   +--extras                       -- vide 
   |
   +--pear                         -- copie initiale de PEAR
   |
   |
   |-go-pear.bat                   -- script d&#039;installation de PEAR
   |
   |-...
   |
   |-php-cgi.exe                   -- exécutable CGI
   |
   |-php-win.exe                   -- exécution de scripts sans avoir un prompt de commande ouvert
   |
   |-php.exe                       -- exécutable de ligne de commande (CLI)
   |
   |-...
   |
   |-php.ini-development           -- configuration par défaut du php.ini
   |
   |-php.ini-production            -- configuration recommandée du php.ini
   |
   |-php5apache2_2.dll             -- n&#039;existe pas dans la version non thread safe
   |
   |-php5apache2_2_filter.dll      -- n&#039;existe pas dans la version non thread safe
   |
   |-...
   |
   |-php5ts.dll                    -- bibliothèque DLL coeur de PHP ( php5.dll en version non thread safe)
   | 
   |-...

</pre></div>
    </div>

   </div>
  </p>
  <p class="para">
   Voici la liste des modules et des exécutables inclus dans l&#039;archive
   zip de PHP :
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <var class="filename">go-pear.bat</var> - le script de configuration de PEAR. Référez-vous à l&#039;<a href="https://pear.php.net/manual/en/installation.php" class="link external">&raquo;&nbsp;installation de PEAR</a>
      pour plus de détails.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="filename">php-cgi.exe</var> - exécutable CGI qui peut être utilisé lors de l&#039;exécution de PHP sous IIS via CGI ou FastCGI.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="filename">php-win.exe</var> - l&#039;exécutable PHP pour l&#039;exécution de scripts PHP sans fenêtre de ligne de commande
      (par exemple, des applications PHP qui utilisent un GUI Windows).
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="filename">php.exe</var> - l&#039;exécutable PHP pour l&#039;exécution de scripts PHP dans une interface de ligne de commande (CLI).
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="filename">php5apache2_2.dll</var> - module Apache 2.2.X.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="filename">php5apache2_2_filter.dll</var> - filtre Apache 2.2.X.
     </p>
    </li>
   </ul>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.manual.phpini">
  <h4 class="title">Modification du fichier <var class="filename">php.ini</var></h4>
  <p class="para">
   Après l&#039;extraction du contenu du paquet PHP, copiez le fichier
   <var class="filename">php.ini-production</var> dans le fichier <var class="filename">php.ini</var>
   du même dossier. Si nécessaire, il est également possible de placer le
   fichier <var class="filename">php.ini</var> dans le dossier de votre choix
   mais cela nécessite d&#039;autres étapes de configuration décrites dans la
   <a href="configuration.file.html" class="link">configuration de PHP</a>.
  </p>
  <p class="para">
   Le fichier <var class="filename">php.ini</var> indique à PHP la façon doit il doit se configurer,
   mais aussi la façon dont il doit travailler avec l&#039;environnement sur lequel
   il s&#039;exécute. Voici quelques concfigurations du fichier <var class="filename">php.ini</var>
   qui aide PHP à fonctionner d&#039;une meilleure façon sous Windows. Quelques-unes sont
   optionnelles. Il y a bien d&#039;autres directives utiles pour votre environnement -
   référez-vous à la <a href="ini.list.html" class="link">liste des directives du php.ini</a>
   pour plus d&#039;informations.
  </p>
  <p class="para">
   Directives nécessaires :
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <var class="varname">extension_dir</var> = <code class="literal">&lt;chemin vers le dossier des extensions&gt;</code> - <var class="varname">extension_dir</var> doit
      pointer vers le dossier contenant les fichiers des extensions PHP. Le chemin peut être
      absolu (e.g. &quot;C:\PHP\ext&quot;) ou relatif (e.g. &quot;.\ext&quot;). Les extensions listées
      ci-dessous dans le fichier <var class="filename">php.ini</var> doivent se trouver dans le
      dossier <var class="varname">extension_dir</var>.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">extension</var> = <code class="literal">xxxxx.dll</code> - Pour chaque extension que vous voulez activer,
      vous avez besoin d&#039;une directive &quot;extension=&quot; qui indique à PHP quelles extensions du
      dossier <var class="varname">extension_dir</var> doivent être chargées au démarrage.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">log_errors</var> = <code class="literal">On</code> - PHP a une fonctionnalité permettant d&#039;historiser les
      erreurs, pouvant être utilisée pour envoyer les erreurs dans un fichier, ou vers un service
      (i.e. syslog) et fonctionne en conjonction de la directive <var class="varname">error_log</var> ci-dessous.
      Lors de l&#039;exécution sous IIS, <var class="varname">log_errors</var> devrait être activée, avec une valeur valide de <var class="varname">error_log</var>.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">error_log</var> = <code class="literal">&lt;chemin vers le fichier d&#039;historisation des erreurs&gt;</code> - error_log doit spécifier
      le chemin absolu ou relatif vers un fichier où les erreurs PHP doivent être écrites. Le fichier doit
      être accessible en écriture par le serveur web. L&#039;endroit commun de ce fichier est le dossier TEMP, par
      exemple, &quot;C:\inetpub\temp\php-errors.log&quot;.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">cgi.force_redirect</var> = <code class="literal">0</code> - Cette directive est nécessaire pour le fonctionnement
      sous IIS. Elle est relative à la sécurité et est nécessaire par bons nombres de serveurs web. Cependant, son
      activation sous IIS fera échouer le moteur PHP sous Windows. 
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">cgi.fix_pathinfo</var> = <code class="literal">1</code> - Cette directive permet à PHP d&#039;accéder aux informations
      concernant le chemin réel suivi par la spécification CGI. Cette directive est nécessaire lors de l&#039;implémentation de FastCGI
      sous IIS.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">fastcgi.impersonate</var> = <code class="literal">1</code> - FastCGI sous IIS supporte la possibilité de rendre
      impersonnels les éléments relatifs à la sécurité lors d&#039;un appel client. Ceci permet à IIS de définir le contexte
      de sécurité sur lequel la demande est effectuée.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">fastcgi.logging</var> = <code class="literal">0</code> - L&#039;historisation FastCGI doit être désactivé sous IIS.
      S&#039;il est activé, alors tous les messages de toutes les classes seront traités par FastCGI comme des conditions
      d&#039;erreur, ce qui fera qu&#039;IIS générera des exceptions HTTP 500.
     </p>
    </li>
   </ul>
  </p>
  <p class="para">
   Directives optionnelles
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <var class="varname">max_execution_time</var> = <code class="literal">##</code> - Cette directive demande à PHP un maximum de temps
      afin d&#039;exécuter un script donné. Par défaut, c&#039;est 30 secondes. Augmentez la valeur de cette direction si
      l&#039;application PHP prend plus de temps à s&#039;exécuter.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">memory_limit</var> = <code class="literal">###M</code> - La mémoire maximale disponible pour le processus PHP,
      en méga-octets. Par défaut, c&#039;est 128, ce qui est parfait pour la plupart des applications PHP. Pour des applications
      plus complexes, il peut être nécessaire d&#039;augmenter cette valeur.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">display_errors</var> = <code class="literal">Off</code> - Cette directive indique à PHP si les messages d&#039;erreur
      doivent être inclus dans le flux retourné au serveur web. Si défini à &quot;On&quot;, alors PHP les enverra, suivants
      les classes d&#039;erreur que vous avez définies avec la directive <var class="varname">error_reporting</var>, au serveur web
      comme partie du flux d&#039;erreur. Pour des raisons de sécurité, il est recommandé de définir à
      &quot;Off&quot; cette directive sur les serveurs de production afin de ne pas révéler les informations concernant
      la sécurité, qui sont inclues dans les messages d&#039;erreur.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">open_basedir</var> = <code class="literal">&lt;chemins vers les dossiers, séparés par un point virgule&gt;</code>, e.g. 
      openbasedir=&quot;C:\inetpub\wwwroot;C:\inetpub\temp&quot;. Cette directive spécifie le chemin vers le dossier où PHP
      est autorisé à effectuer des opérations sur le système de fichiers. Toute opération en dehors de ces chemins retournera
      une erreur. Cette directive est spécialement utile pour cantonner l&#039;installation de PHP dans des environnements partagés
      afin d&#039;éviter que les scripts PHP accèdent à tout fichier se trouvant en dehors du dossier racine du site web.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <var class="varname">upload_max_filesize</var> = <code class="literal">###M</code> et <var class="varname">post_max_size</var> = <code class="literal">###M</code> - 
      La taille maximale autorisée, respectivement, d&#039;un fichier téléchargé et des données de type POST. Les valeurs de
      ces directives devraient être augmentées si les applications PHP doivent effectuer de gros téléchargements, comme
      des images ou des fichiers vidéos.
     </p>
    </li>
   </ul>
  </p>
  <p class="para">
   PHP est maintenant configuré pour votre système. La prochaine étape est de choisir un serveur web et
   de la configurer pour y faire fonctionner PHP. Choisissez un serveur web depuis la table de contenus.
  </p>
  <p class="para">
   En plus de faire fonctionner PHP via un serveur web, PHP peut être exécuté depuis la ligne
   de commande, à la façon des scripts <code class="literal">.BAT</code>. Reportez-vous au chapitre sur la
   
  </p>
 </div>
</div>


   




<div class="sect2" id="install.windows.legacy.iis">
 <h3 class="title">Microsoft IIS</h3>
 <p class="para">
  Cette section contient les instructions spécifiques d&#039;installation de PHP
  sous Microsoft Internet Information Services (IIS).
 </p>
 <ul class="itemizedlist">
  <li class="listitem">
   <span class="simpara">
    <a href="install.windows.legacy.index.html#install.windows.legacy.iis6" class="link">Installation manuelle de PHP sous
     Microsoft IIS 5.1 et IIS 6.0</a>
   </span>
  </li>
  <li class="listitem">
   <span class="simpara">
    <a href="install.windows.legacy.index.html#install.windows.legacy.iis7" class="link">Installation manuelle de PHP sous
     Microsoft IIS 7.0 et suivant</a>
   </span>
  </li>
 </ul>
</div>



   




<div class="sect2" id="install.windows.legacy.iis6">
 <h3 class="title">Microsoft IIS 5.1 et IIS 6.0</h3>
 <p class="para">
  Cette section contient les instructions pour une installation manuelle sous IIS
  (Internet Information Services) 5.1 et IIS 6.0 de PHP sous Microsoft Windows XP
  et Windows Server 2003. Pour des instructions sur la configuration sous IIS 7.0
  et supérieur sous Windows Vista, Windows Server 2008, Windows 7 et Windows Server 2008 R2,
  reportez-vous à la section
  <a href="install.windows.legacy.index.html#install.windows.legacy.iis7" class="link">Microsoft IIS 7.0 et suivant</a>.
 </p>
 <div class="sect3" id="install.windows.legacy.iis6.fastcgi">
  <h4 class="title">Configuration sous IIS pour traiter les requêtes PHP</h4>
  <p class="para">
   Téléchargez et installez PHP suivant les instructions décrites dans les 
    <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation manuelle</a>.
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      La version PHP non thread-safe est recommandé lors de l&#039;utilisation d&#039;IIS.
      Ces versions sont disponibles sur la page
      <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP pour Windows : Binaires et sources</a>.
     </p>
    </p></blockquote>
  </p>
  <p class="para">
   Configurez les options CGI- et FastCGI du fichier <var class="filename">php.ini</var> comme ceci :
   <div class="example" id="install.unix.nginx.test.nginx.php">
    <p><strong>Exemple #2 Options de configuration de CGI et FastCGI du fichier <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
fastcgi.logging = 0
cgi.fix_pathinfo=1
cgi.force_redirect = 0</pre>
</div>
    </div>

   </div>
  </p>
  <p class="para">
   Téléchargez et installez l&#039;extension <a href="http://www.iis.net/extensions/fastcgi" class="link external">&raquo;&nbsp;Microsoft FastCGI pour IIS 5.1 et 6.0</a>.
   L&#039;extension est disponible pour les plate-formes 32-bit et 64-bit - sélectionnez le bon paquet pour votre plate-forme..
  </p>
  <p class="para">
   Configurez l&#039;extension FastCGI pour gérer les requêtes spécifiques PHP en exécutant la commande ci-dessous.
   Remplacez la valeur du paramètre &quot;-path&quot; avec le chemin absolu vers le fichier
   <var class="filename">php-cgi.exe</var>.
   <div class="example" id="example-12">
    <p><strong>Exemple #3 Configuration de l&#039;extension FastCGI pour gérer les requêtes PHP</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -add -section:&quot;PHP&quot; ^
-extension:php -path:&quot;C:\PHP\php-cgi.exe&quot;
</pre></div>
    </div>

   </div>
  </p>
  <p class="para">
   Cette commande va créer un mapping des scripts IIS pour les extensions de fichiers *.php, ce qui
   aura pour effet la gestion de toutes les URLs se terminant par .php par l&#039;extension FastCGI.
   De plus, la commande configurera l&#039;extension FastCGI lui demandant d&#039;utiliser l&#039;exécutable
   <var class="filename">php-cgi.exe</var> pour traiter les requêtes PHP.
   <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      A ce point, les étapes d&#039;installation et de configuration nécessaires sont terminées.
      Les instructions qui suivent dans cette section sont optionnelles mais vivement
      recommandées afin d&#039;atteindre des fonctionnalités et des performances optimales
      de PHP sous IIS.
     </p>
   </p></blockquote>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.impersonation">
  <h4 class="title">Usurpation d&#039;identité et accès au système de fichiers</h4>
  <p class="para">
   Il est recommandé d&#039;activer l&#039;usurpation d&#039;identité pour FastCGI en PHP
   lors de l&#039;utilisation avec IIS. Ce mode est contrôlé par la directive
   <var class="varname">fastcgi.impersonate</var> du fichier <var class="filename">php.ini</var>.
   Lorsque ce mode est activé, PHP effectuera toutes les opérations du système
   de fichiers avec le compte utilisateur qui a été choisi pour l&#039;authentification
   IIS. Ceci assure que, même si le même processus PHP est partagé avec différents
   sites web IIS, les scripts PHP de ces sites web ne pourront pas accéder aux autres
   fichiers tant que différents comptes utilisateurs sont utilisées pour
   l&#039;authentification IIS de chaque site web.
  </p>
  <p class="para">
   Par exemple, IIS 5.1 et IIS 6.0, dans leurs configurations par défaut, ont d&#039;activé
   l&#039;authentification anonyme avec le compte interne IUSR_&lt;MACHINE_NAME&gt; utilisé
   comme identité par défaut. Ceci signifie que, afin de permettre à IIS d&#039;exécuter des
   scripts PHP, il est nécessaire de donner les droits de lecture au compte
   IUSR_&lt;MACHINE_NAME&gt; pour ces scripts. Si les applications PHP doivent effectuer
   des opérations en écriture sur certains fichiers ou écrire des fichiers dans des dossiers,
   le compte IUSR_&lt;MACHINE_NAME&gt; doit avoir les permissions en écriture sur ces différents
   éléments.
  </p>
  <p class="para">
   Pour déterminer quel est le compte utilisateur utilisé par l&#039;authentification anonyme IIS,
   suivez ces étapes :
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">Dans le menu de démarrage de Windows, choisissez :
      &quot;Run:&quot;, tapez &quot;inetmgr&quot; et cliquez sur &quot;Ok&quot;;</p>
    </li>
    <li>
     <p class="simpara">
      Dépliez la liste des sites Web sous le nœud &quot;Web Sites&quot; de l&#039;arbre, faîtes
      un clic droit sur un site web utilisé et sélectionnez &quot;Properties&quot;;
     </p>    
    </li>
    <li>
     <p class="simpara">Cliquez sur l&#039;onglet &quot;Directory Security&quot;;</p>    
    </li>
    <li>
     <p class="simpara">Prenez note du champ &quot;User name:&quot; dans le dialogue &quot;Authentication Methods&quot;</p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis6anonauth.png" alt="Authentification anonyme pour 5.1 et IIS 6.0" width="654" height="461" />
    </div>
   </div>
  </p>
  <p class="para">
   Pour modifier la configuration des permissions sur des fichiers ou des dossiers, utilisez
   l&#039;explorateur Windows ou la commande <var class="varname">icacls</var>.
   <div class="example" id="example-13">
    <p><strong>Exemple #4 Configuration des permissions d&#039;accès</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
</pre></div>     
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.defaultdoc">
  <h4 class="title">Définition du fichier <var class="filename">index.php</var> comme document par défaut sous IIS</h4>
  <p class="para">
   Les documents par défaut IIS sont utilisés pour les requêtes HTTP qui ne spécifie pas de nom de document.
   Avec les applications PHP, <var class="filename">index.php</var> agit généralement comme document par défaut.
   Pour ajouter <var class="filename">index.php</var> à la liste des documents par défaut IIS, suivez ces étapes :
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">Dans le menu de démarrage Windows, choisissez &quot;Run:&quot;, tapez &quot;inetmgr&quot; et cliquez sur &quot;Ok&quot;;</p>
    </li>
    <li>
     <p class="simpara">faîtes un clic droit sur le nœud &quot;Web Sites&quot; de l&#039;arbre et sélectionnez &quot;Properties&quot;;</p>
    </li>
    <li>
     <p class="simpara">Cliquez sur l&#039;onglet &quot;Documents&quot;;</p>
    </li>
    <li>
     <p class="simpara">Cliquez sur le bouton &quot;Add...&quot; et entrez &quot;index.php&quot; comme &quot;Default content page:&quot;.</p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis6defaultdoc.png" alt="Configuration de la page index.php comme document par défaut sous IIS" width="659" height="465" />
    </div>
   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.recycling">
  <h4 class="title">Configuration du recyclage FastCGI et PHP</h4>
  <p class="para">
   Configurez l&#039;extension IIS FastCGI pour le recyclage des processus PHP en utilisant la commande ci-dessous.
   La directive <var class="varname">instanceMaxRequests</var> de FastCGI contrôle le nombre de requêtes a traité par
   un seul processus <var class="filename">php-cgi.exe</var> avant l&#039;extinction de l&#039;extension FastCGI. La variable
   d&#039;environnement PHP <var class="varname">PHP_FCGI_MAX_REQUESTS</var> contrôle le nombre de requêtes qu&#039;un seul processus
   <var class="filename">php-cgi.exe</var> peut gérer avant de ce recycler lui-même. Assurez-vous que la valeur spécifiée
   pour la directive <var class="varname">InstanceMaxRequests</var> FastCGI est inférieure ou égale à la valeur spécifiée
   pour la directive <var class="varname">PHP_FCGI_MAX_REQUESTS</var>.
   <div class="example" id="example-14">
    <p><strong>Exemple #5 Configuration du recyclage FastCGI et PHP</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-InstanceMaxRequests:10000

cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-EnvironmentVars:PHP_FCGI_MAX_REQUESTS:10000
</pre></div>     
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.timeouts">
  <h4 class="title">Configuration du délai d&#039;expiration FastCGI</h4>
  <p class="para">
   Augmentez le délai d&#039;expiration pour l&#039;extension FastCGI s&#039;il y a des applications
   dont les scripts PHP mettent beaucoup de temps à s&#039;exécuter. Les 2 configurations
   qui contrôlent les délais d&#039;expiration sont <var class="varname">ActivityTimeout</var>
   et <var class="varname">RequestTimeout</var>. Referez-vous à la
   <a href="http://learn.iis.net/page.aspx/248/configuring-fastcgi-extension-for-iis-60/" class="link external">&raquo;&nbsp;configuration de l&#039;extension
   FastCGI pour IIS 6.0</a> pour plus d&#039;informations sur ces configurations.
   <div class="example" id="install.unix.litespeed.extract.php">
    <p><strong>Exemple #6 Configuration du délai d&#039;expiration FastCGI</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-ActivityTimeout:90

cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-RequestTimeout:90
</pre></div>     
    </div>

   </div>
   </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.phpinilocation">
  <h4 class="title">Modification du dossier contenant le fichier <var class="filename">php.ini</var></h4>
  <p class="para">
   PHP recherche le fichier <var class="filename">php.ini</var> dans
   <a href="configuration.file.html" class="link">différents endroits</a> et il est possible
   de modifier ces endroits de recherche du fichier <var class="filename">php.ini</var> en
   utilisant la variable d&#039;environnement <var class="varname">PHPRC</var>.
   Pour demander à PHP de charger le fichier de configuration depuis un dossier personnalisé,
   exécutez la commande ci-dessous. Le chemin absolu du dossier contenant le fichier
   <var class="filename">php.ini</var> doit être spécifié sous la variable d&#039;environnement
   <var class="varname">PHPRC</var>.
   <div class="example" id="install.unix.litespeed.build.php">
    <p><strong>Exemple #7 Modification du dossier contenant le fichier <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-EnvironmentVars:PHPRC:&quot;C:\Some\Directory\&quot;
</pre></div>         
    </div>

   </div>
  </p>
 </div>
</div>



   




<div class="sect2" id="install.windows.legacy.iis7">
 <h3 class="title">Microsoft IIS 7.0 et suivants</h3>
 <p class="para">
  Cette section contient les instructions pour une configuration manuelle
  d&#039;IIS (Internet Information Services) 7.0 et suivants pour fonctionner avec PHP
  sous Microsoft Windows Vista SP1, Windows 7, Windows Server 2008 et Windows Server
  2008 R2. Pour des instructions de configuration d&#039;IIS 5.1 et IIS 6.0 sous Windows XP
  et Windows Server 2003, reportez-vous à la documentation sur
  <a href="install.windows.legacy.index.html#install.windows.legacy.iis6" class="link">Microsoft IIS 5.1 et IIS 6.0</a>.
 </p>
 <div class="sect3" id="install.windows.legacy.iis7.fastcgi.enable">
  <h4 class="title">Activation du support FastCGI sous IIS</h4>
  <p class="para">
   Le module FastCGI est désactivé par défaut sous IIS. Les étapes pour l&#039;activer
   diffèrent suivant la version de Windows utilisée.
  </p>
  <p class="para">
   Pour activer le support FastCGI sous Windows Vista SP1 et Windows 7 :
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      Dans le menu de démarrage Windows, choisissez &quot;Run:&quot;, tapez &quot;optionalfeatures.exe&quot;
      et cliquez sur &quot;Ok&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      Dans la fenêtre &quot;Windows Features&quot;, dépliez l&#039;arbre &quot;Internet Information 
      Services&quot;, &quot;World Wide Web Services&quot;, &quot;Application Development 
      Features&quot;, puis, activez la boite à cocher &quot;CGI&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      Cliquez sur OK et attendez que l&#039;installation se termine.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7vistacgi.png" alt="Activation du support FastCGI pour IIS7 sous Windows Vista SP1 et Windows 7" width="429" height="375" />
    </div>
   </div>
  </p>
  <p class="para">
   Pour activer le support FastCGI sous Windows Server 2008 et Windows Server 2008 R2 :
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      Dans le menu de démarrage Windows, choisissez &quot;Run:&quot;, tapez &quot;CompMgmtLauncher&quot;
      et cliquez sur &quot;Ok&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      Si le rôle &quot;Web Server (IIS)&quot; n&#039;est pas présent dans le nœud &quot;Roles&quot; ,
      ajoutez-le en cliquant sur &quot;Add Roles&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      Si le rôle &quot;Web Server (IIS)&quot; est présent, cliquez sur &quot;Add Role Services&quot;,
      puis, activez la boite à cocher &quot;CGI&quot; sous le groupe &quot;Application Development&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      Cliquez sur &quot;Next&quot;, puis &quot;Install&quot;, et attendez la fin de l&#039;installation.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7w2k8cgi.png" alt="Activation du support FastCGI sous Windows Server 2008 et Windows Server 2008 R2" width="546" height="411" />
    </div>
   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.fastcgi.conf">
  <h4 class="title">Configuration d&#039;IIS pour traiter les requêtes PHP</h4>
  <p class="para">
   Téléchargez et installez PHP suivant les instructions décrites dans les 
    <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation manuelle</a>.
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      La version PHP non thread-safe est recommandée lors de l&#039;utilisation d&#039;IIS.
      Les versions non thread-safe sont disponibles sur la page
      <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP pour Windows : Binaires et sources</a>.
     </p>
    </p></blockquote>
  </p>
  <p class="para">
   Configurez les options CGI et FastCGI dans le fichier <var class="filename">php.ini</var> comme ceci :
   <div class="example" id="install.unix.openbsd.ports.example">
    <p><strong>Exemple #8 Options CGI et FastCGI dans le fichier <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
fastcgi.logging = 0
cgi.fix_pathinfo=1
cgi.force_redirect = 0</pre>
</div>
    </div>

   </div>
  </p>
  <p class="para">
   Configurez le gestionnaire de mapping IIS pour PHP en utilisant soit l&#039;interface de
   gestion utilisateurs IIS ou l&#039;outil en ligne de commande.
  </p>
  <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.ui">
   <h5 class="title">Utilisation de l&#039;interface de gestion utilisateurs IIS pour créer un gestionnaire de mapping pour PHP</h5>
    <p class="para">
     Suivez ces étapes pour créer un gestionnaire de mapping IIS pour PHP dans l&#039;interface de gestion utilisateurs IIS :
     <div class="procedure">
      <ol type="1"><li>
       <p class="simpara">Dans le menu démarrer de Windows, choisissez &quot;Run:&quot;, tapez &quot;inetmgr&quot; et cliquez sur &quot;Ok&quot;;</p>
      </li>
      <li>
       <p class="simpara">Dans l&#039;interface de gestion utilisateurs IIS, sélectionnez le nœud correspondant au serveur dans l&#039;arbre
        &quot;Connections&quot;;</p>
      </li>
      <li>
       <p class="para">
        Dans la page &quot;Features View&quot;, ouvrez la fonctionnalité &quot;Handler Mappings&quot;;
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlericon.png" alt="Création d'un gestionnaire de mapping IIS pour PHP : Localisation du gestionnaire de mappings" width="708" height="515" />
         </div>
        </div>
       </p>
      </li>
      <li>
       <p class="simpara">Dans le panneau &quot;Actions&quot;, cliquez sur &quot;Add Module Mapping...&quot;;</p>
      </li>
      <li>
       <p class="para">
        Dans la fenêtre &quot;Add Module Mapping&quot;, entrez ceci :
        <ul class="itemizedlist">
         <li class="listitem">
          <span class="simpara">Request path: *.php</span>
         </li>
         <li class="listitem">
          <span class="simpara">Module: FastCgiModule</span>
         </li>
         <li class="listitem">
          <span class="simpara">Executable: C:\[Path to PHP installation]\php-cgi.exe</span>
         </li>
         <li class="listitem">
          <span class="simpara">Name: PHP_via_FastCGI</span>
         </li>
        </ul>
       </p>
      </li>
      <li>
       <p class="simpara">
        Cliquez sur le bouton &quot;Request Restrictions&quot;, puis, configurez le mappin
        pour appeler le gestionnaire uniquement si la requête est mappée à un fichier ou un dossier;
        </p>
      </li>
      <li>
       <p class="simpara">Cliquez sur OK sur tous les dialogues pour sauvegarder la configuration.</p>
      </li>
     </ol></div>
     <div class="mediaobject">
      
      <div class="imageobject">
       <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlermap.png" alt="Création d'un gestionnaire de mapping pour PHP : Ajout d'un gestionnaire de mapping" width="705" height="512" />
      </div>
     </div>
    </p>
  </div>
  <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.cmd">
   <h5 class="title">Utilisation de l&#039;outil en ligne de commande pour créer un gestionnaire de mapping pour PHP</h5>
   <p class="para">
    Utilisez la commande suivante pour créer une file de processus IIS FastCGI qui utilisera
    l&#039;exécutable <var class="filename">php-cgi.exe</var> pour traiter les requêtes PHP. Remplacez la valeur
    du paramètre <var class="varname">fullPath</var> avec le chemin absolu vers le fichier
    <var class="filename">php-cgi.exe</var>.
    <div class="example" id="install.unix.debian.apt.example">
     <p><strong>Exemple #9 Création d&#039;une file de processus IIS FastCGI</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd set config /section:system.webServer/fastCGI ^
/+[fullPath=&#039;c:\PHP\php-cgi.exe&#039;]
</pre></div>
     </div>

    </div>
   </p>
   <p class="para">
    Configurez IIS pour gérer les requêtes PHP spécifiques en exécutant la commande suivante. Remplacez
    la valeur du paramètre <var class="varname">scriptProcessor</var> avec le chemin absolu vers le fichier
    <var class="filename">php-cgi.exe</var>.
    <div class="example" id="install.unix.debian.apt.example2">
     <p><strong>Exemple #10 Création d&#039;un gestionnaire de mapping pour les requêtes PHP</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers ^
/+[name=&#039;PHP_via_FastCGI&#039;, path=&#039;*.php&#039;,verb=&#039;*&#039;,modules=&#039;FastCgiModule&#039;,^
scriptProcessor=&#039;c:\PHP\php-cgi.exe&#039;,resourceType=&#039;Either&#039;]
</pre></div>
     </div>

    </div>
   </p>
   <p class="para">
    Cette commande crée un gestionnaire de mapping IIS pour les fichiers dont l&#039;extension est *.php,
    ce qui fera que toutes les URLs qui se terminent par .php seront gérées par le module FastCGI.
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      À ce moment, les étapes d&#039;installation et de configuration nécessaires sont terminées.
      Les instructions qui suivent sont optionnelles mais vivement recommandées afin
      d&#039;avoir un maximum de fonctionnalités mais aussi de bonnes performances pour PHP sous IIS.
     </p>
    </p></blockquote>
   </p>
  </div>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.impersonation">
  <h4 class="title">Usurpation d&#039;identité et l&#039;accès au système de fichiers</h4>
  <p class="para">
   Il est recommandé d&#039;activer l&#039;usurpation d&#039;identité FastCGI en PHP
   lors de l&#039;utilisation avec IIS. Ce mode est contrôlé par la directive
   <var class="varname">fastcgi.impersonate</var> du fichier <var class="filename">php.ini</var>.
   Lorsque l&#039;usurpation d&#039;identité est active, PHP effectuera toutes les opérations
   sur le systèmes de fichiers en se faisant passer pour le compte utilisateur
   qui a été déterminé par l&#039;authentification IIS. Ceci assure que même si le même
   processus PHP est partagé sur plusieurs sites Web IIS, les scripts PHP de ces sites
   Web ne pourront pas accéder aux autres fichiers sachant qu&#039;un compte utilisateur différent
   est utilisé pour l&#039;authentification IIS de chacun de ces sites.
  </p>
  <p class="para">
   Par exemple, IIS 7, dans sa configuration par défaut, a d&#039;activer l&#039;authentification anonyme
   avec le compte utilisateur interne IUSR, utilisé comme identité par défaut. Ceci signifie
   que, pour qu&#039;IIS puisse exécuter des scripts PHP, il est nécessaire d&#039;avoir une permission
   en lecture pour le compte utilisateur IUSR sur ces scripts. Si les applications PHP
   doivent effectuer des opérations en écriture sur certains fichiers ou écrire des fichiers
   dans des dossiers, alors le compte IUSR doit avoir les bonnes permissions en écriture.
  </p>
  <p class="para">
   Pour déterminer le compte utilisateur utilisé comme identité anonyme sous IIS 7, utilisez
   la commande suivante. Remplacez &quot;Default Web Site&quot; avec le nom du site web IIS
   que vous utilisez. Dans l&#039;élément de configuration XML, regardez l&#039;attribut
   <var class="varname">userName</var>.
   <div class="example" id="install.unix.debian.config.example">
    <p><strong>Exemple #11 Déterminer le compte utilisé comme identité anonyme sous IIS</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe list config &quot;Default Web Site&quot; ^
/section:anonymousAuthentication

&lt;system.webServer&gt;
  &lt;security&gt;
    &lt;authentication&gt;
      &lt;anonymousAuthentication enabled=&quot;true&quot; userName=&quot;IUSR&quot; /&gt;
    &lt;/authentication&gt;
   &lt;/security&gt;
&lt;/system.webServer&gt;
</pre></div>
    </div>

   </div>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Si l&#039;attribut <var class="varname">userName</var> n&#039;est pas présent dans l&#039;élément
     <var class="varname">anonymousAuthentication</var>, ou s&#039;il est vide, alors cela signifie
     que l&#039;identité de l&#039;application est bien l&#039;identité anonyme pour ce site web.
    </p>
   </p></blockquote>
  </p>
  <p class="para">
   Pour modifier la configuration sur les permissions de ces fichiers ou ces dossiers, utilisez
   l&#039;interface de l&#039;explorateur Windows ou la ligne commande <var class="varname">icacls</var>.
   <div class="example" id="install.unix.debian.config.example2">
    <p><strong>Exemple #12 Configuration des permissions d&#039;accès aux fichiers</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
</pre></div>
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.defaultdoc">
  <h4 class="title">Définir <var class="filename">index.php</var> comme document par défaut sous IIS</h4>
  <p class="para">
   Les documents par défaut IIS sont utilisés pour les requêtes HTTP qui ne spécifient
   pas un nom de document. Avec les applications PHP, <var class="filename">index.php</var>
   agit généralement comme document par défaut. Pour ajouter <var class="filename">index.php</var>
   à la liste des documents par défaut d&#039;IIS, utilisez la commande suivante :
   <div class="example" id="example-20">
    <p><strong>Exemple #13 Définir <var class="filename">index.php</var> comme document par défaut sous IIS</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config ^
-section:system.webServer/defaultDocument /+&quot;files.[value=&#039;index.php&#039;]&quot; ^
/commit:apphost
</pre></div>
    </div>

   </div>   
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.recycling">
  <h4 class="title">Configuration du recyclage FastCGI et PHP</h4>
  <p class="para">
   Configurez l&#039;extension IIS FastCGI pour le recyclage des processus PHP en utilisant la commande ci-dessous.
   La directive <var class="varname">instanceMaxRequests</var> de FastCGI contrôle le nombre de requêtes a traité par
   un seul processus <var class="filename">php-cgi.exe</var> avant l&#039;extinction d&#039;IIS. La variable
   d&#039;environnement PHP <var class="varname">PHP_FCGI_MAX_REQUESTS</var> contrôle le nombre de requêtes qu&#039;un seul processus
   <var class="filename">php-cgi.exe</var> peut gérer avant de ce recycler lui-même. Assurez-vous que la valeur spécifiée
   pour la directive <var class="varname">InstanceMaxRequests</var> FastCGI est inférieure ou égale à la valeur spécifiée
   pour la directive <var class="varname">PHP_FCGI_MAX_REQUESTS</var>.
   <div class="example" id="example-21">
    <p><strong>Exemple #14 Configuration du recyclage FastCGI et PHP</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;c:\php\php-cgi.exe&#039;].instanceMaxRequests:10000

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/+&quot;[fullPath=&#039;C:\{php_folder}\php-cgi.exe&#039;].environmentVariables.^
[name=&#039;PHP_FCGI_MAX_REQUESTS&#039;,value=&#039;10000&#039;]&quot;
</pre></div>
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.timeouts">
  <h4 class="title">Configuration du délai d&#039;expiration FastCGI</h4>
  <p class="para">
   Augmentez le délai d&#039;expiration pour l&#039;extension FastCGI s&#039;il y a des applications
   dont les scripts PHP mettent beaucoup de temps à s&#039;exécuter. Les 2 configurations
   qui contrôlent les délais d&#039;expiration sont <var class="varname">activityTimeout</var> et <var class="varname">requestTimeout</var>.
   Utilisez les commandes ci-dessous pour modifier la configuration du délai
   d&#039;expiration. Assurez-vous de remplacer la valeur du paramètre
   <var class="varname">fullPath</var> par le chemin absolu vers le fichier
   <var class="filename">php-cgi.exe</var>.
   <div class="example" id="example-22">
    <p><strong>Exemple #15 Configuration du délai d&#039;expiration FastCGI</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].activityTimeout:&quot;90&quot;  /commit:apphost

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].requestTimeout:&quot;90&quot;  /commit:apphost
</pre></div>
    </div>

   </div>   
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.phpinilocation">
  <h4 class="title">Modification du dossier contenant le fichier <var class="filename">php.ini</var></h4>
  <p class="para">
   PHP recherche le fichier <var class="filename">php.ini</var> dans
   <a href="configuration.file.html" class="link">différents endroits</a> et il est possible
   de modifier ces endroits de recherche du fichier <var class="filename">php.ini</var> par défaut
   en utilisant la variable d&#039;environnement <var class="varname">PHPRC</var>.
   Pour demander à PHP de charger le fichier de configuration depuis un dossier personnalisé,
   exécutez la commande ci-dessous. Le chemin absolu du dossier contenant le fichier
   <var class="filename">php.ini</var> doit être spécifié sous la variable d&#039;environnement
   <var class="varname">PHPRC</var>.
   <div class="example" id="example-23">
    <p><strong>Exemple #16 Modification du dossier contenant le fichier <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
appcmd.exe set config  -section:system.webServer/fastCgi ^
/+&quot;[fullPath=&#039;C:\php\php.exe&#039;,arguments=&#039;&#039;].environmentVariables.^
[name=&#039;PHPRC&#039;,value=&#039;C:\Some\Directory\&#039;]&quot; /commit:apphost
</pre></div>         
    </div>

   </div>   
  </p>
 </div>
</div>


   
   




<div class="sect2" id="install.windows.legacy.apache1">
 <h3 class="title">Installer PHP sous Microsoft Windows avec Apache 1.3.x</h3>
 <p class="para">
  Cette section contient des notes et conseils spécifiques pour l&#039;installation de PHP
  avec Apache 1.3.x sur les systèmes Microsoft Windows. Il y a aussi des 
  
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Lisez les <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation 
   du manuel</a> d&#039;abord !
  </p>
 </p></blockquote>
 
 <p class="simpara">
  Il y a deux méthodes pour faire fonctionner PHP avec Apache 1.3.x
  sous Windows. La première est d&#039;utiliser l&#039;exécutable CGI 
  (<var class="filename">php.exe</var>
  pour PHP 4 et <var class="filename">php-cgi.exe</var> pour PHP 5),
  l&#039;autre est d&#039;utiliser les modules Apache DLL. Dans les deux cas,
  vous devez arrêter le serveur Apache, éditer votre fichier
  <var class="filename">httpd.conf</var> pour dire à Apache de prendre PHP en compte et redémarrer Apache.
 </p>
 
 <p class="simpara">
  Maintenant que le module SAPI a été rendu plus stable sous Windows,
  nous recommandons son usage plutôt que celui de
  l&#039;exécutable CGI, car il est plus transparent et sécurisé.
 </p>
 
 <p class="simpara">
  Bien qu&#039;il puisse y avoir quelques différences de configuration 
  de PHP sous Apache, le processus reste simple et à la portée du néophyte.
  Reportez-vous aux documentations Apache pour plus de détails sur
  ces directives.
 </p>
 
 <p class="simpara">
  Après avoir modifié le fichier de configuration, pensez à
  redémarrer le serveur web, par exemple avec 
  <strong class="command">NET STOP APACHE</strong> suivi de 
  <strong class="command">NET START APACHE</strong>, si vous utilisez Apache
  comme service Windows, ou bien utilisez vos alias classiques.
 </p>
 
 <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Souvenez-vous que lorsque vous ajoutez
    des valeurs représentants un chemin dans la configuration d&#039;Apache sous Windows,
    tous les antislash, comme <var class="filename">c:\repertoire\fichier.ext</var>, devraient être
    convertis en slashes, comme
    <var class="filename">c:/repertoire/fichier.ext</var>. Un slash final peut
    également être nécessaire pour les dossiers.</span></p></blockquote>
 
 <div class="sect3" id="install.windows.legacy.apache1.module">
  <h4 class="title">Installation de PHP en tant que module Apache</h4>
  <p class="para">
   Vous devez ajouter les lignes suivantes à votre fichier de configuration Apache <var class="filename">httpd.conf</var> :
  </p>
  <p class="para">
   <div class="example" id="example-24">
    <p><strong>Exemple #17 PHP comme module Apache 1.3.x</strong></p>
    <div class="example-contents"><p>
     Cet exemple suppose que PHP est installé dans le dossier <var class="filename">c:\php</var>.
     Ajustez le chemin si ce n&#039;est pas le cas.
    </p></div>
    <div class="example-contents"><p>
     Pour PHP 4 :
    </p></div>
    <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># À ajouter à la fin de la section LoadModule
# N&#039;oubliez pas de copier ce fichier depuis le dossier sapi !
LoadModule php4_module &quot;C:/php/php4apache.dll&quot;

# À ajouter à la fin de la section AddModule
AddModule mod_php4.c</pre>
</div>
    </div>

    <div class="example-contents"><p>
     Pour PHP 5 :
    </p></div>
    <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># À ajouter à la fin de la section LoadModule
LoadModule php5_module &quot;C:/php/php5apache.dll&quot;

# À ajouter à la fin de la section AddModule
AddModule mod_php5.c</pre>
</div>
    </div>

    <div class="example-contents"><p>
     Pour les deux :
    </p></div>
    <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># Ajoutez cette ligne dans les parenthèses conditionnelles &lt;IfModule mod_mime.c&gt;
AddType application/x-httpd-php .php

# Pour les fichiers de syntaxe colorisée .phps, ajoutez également
AddType application/x-httpd-php-source .phps</pre>
</div>
    </div>

   </div>
  </p>
 </div>
 
 <div class="sect3" id="install.windows.legacy.apache1.cgi">
  <h4 class="title">Installation comme binaire CGI</h4>
  
  <p class="para">
   Si vous avez dézippé le paquet PHP dans le répertoire
   <var class="filename">c:\php\</var> comme décrit dans la section 
   sur les 
   <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation du manuel</a>, 
   vous devez insérer ces lignes à votre
   fichier de configuration Apache pour activer le binaire CGI :
   <div class="example" id="example-25">
    <p><strong>Exemple #18 PHP et Apache 1.3.x en tant que CGI</strong></p>
    <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">ScriptAlias /php/ &quot;c:/php/&quot;
AddType application/x-httpd-php .php

# Pour PHP 4
Action application/x-httpd-php &quot;/php/php.exe&quot;

# Pour PHP 5
Action application/x-httpd-php &quot;/php/php-cgi.exe&quot;

# spécifez le répertoire où se trouve php.ini
SetEnv PHPRC C:/php</pre>
</div>
    </div>

   </div>
   Notez que la seconde ligne dans l&#039;exemple ci-dessus peut être touvée
   dans l&#039;actuelle version de votre <var class="filename">httpd.conf</var>, mais elle est commentée.
   Souvenez-vous également de faire correspondre le chemin
   <var class="filename">c:/php/</var> à votre chemin actuel vers PHP.
  </p>
  <div class="warning"><strong class="warning">Avertissement</strong><p class="para">
 Un serveur déployé en mode CGI s&#039;expose à plusieurs vulnérabilités possibles. Veuillez lire notre
 <a href="security.cgi-bin.html" class="link">section sur la sécurité en mode CGI</a>
 pour apprendre comment vous protéger contre ces attaques.
</p></div>
  <p class="simpara">
   Si vous voulez présenter la source de vos fichiers PHP avec la
   coloration syntaxique, il n&#039;existe pas d&#039;option équivalente de celle
   de la version module de PHP.
   Si vous choisissez de configurer Apache pour utiliser PHP en mode CGI,
   vous aurez besoin d&#039;utiliser la fonction <span class="function"><a href="function.highlight-file.html" class="function">highlight_file()</a></span>.
   Pour réaliser cela simplement, créez un script PHP dans un fichier et ajoutez
   ce code :
   <code class="literal">&lt;?php highlight_file(&#039;original_php_script.php&#039;); ?&gt;</code>.
  </p>
 </div>
</div>



   




<div class="sect2" id="install.windows.legacy.apache2">
 <h3 class="title">Installation des serveurs Apache 2.x sur les systèmes Microsoft Windows</h3>
 <p class="para">
  Cette section contient les notes et conseils d&#039;installation de PHP avec le serveur
  Apache 2.x sur les systèmes Microsoft Windows. 
  Nous avons également des notes et des instructions pour Apache 1.3.x 
  
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Vous devriez lire les <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation 
   du manuel</a> d&#039;abord !
  </p>
 </p></blockquote>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>Support Apache 2.2</strong><br />
  <p class="para">
   Les utilisateurs d&#039;Apache 2.2 doivent conserver à l&#039;esprit que la
   bibliothèque DLL d&#039;Apache 2.2 est nommée
   <var class="filename">php5apache2_2.dll</var> plutôt que
   <var class="filename">php5apache2.dll</var> et n&#039;est disponible que pour
   PHP 5.2.0 et suivants.
  </p>
 </p></blockquote>
 
 <p class="para">
  Il est vivement recommandé de consulter la 
  <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;documentation Apache</a> pour avoir
  une meilleure connaissance du serveur web Apache 2.x. Lisez également
  les <a href="http://httpd.apache.org/docs/current/platform/windows.html" class="link external">&raquo;&nbsp;notes spécifiques à Windows</a> 
  pour Apache 2.x avant de lire cette documentation.
 </p>
 
 <p class="para">
  Apache 2.x est prévu pour fonctionner sur les versions
  de Windows désignées comme serveurs, comme Windows NT 4.0,
  Windows 2000, Windows XP, ou Windows 7. Bien qu&#039;Apache 2.x
  fonctionne parfaitement bien sous Windows 9x, le support
  de ces plateformes est incomplet et quelques fonctionnalités
  peuvent ne pas fonctionner correctement ; et il n&#039;est pas prévu
  d&#039;améliorer cela.
 </p>
 
 
 <p class="para">
  Téléchargez la version la plus récente de 
  <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;Apache 2.x</a> 
  et une version de PHP. Suivez les instructions
  <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">d&#039;installation 
   manuelle</a> puis revenez ici pour réaliser l&#039;intégration de PHP et Apache.
 </p>
 <p class="para">
  Il y a trois méthodes pour que PHP fonctionne avec
  Apache 2.x sous Windows. Vous pouvez exécuter PHP comme gestionnaire,
  comme CGI ou comme FastCGI.
 </p>
 
 <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Souvenez-vous que lorsque vous ajoutez
    des valeurs représentants un chemin dans la configuration d&#039;Apache sous Windows,
    tous les antislash, comme <var class="filename">c:\repertoire\fichier.ext</var>, devraient être
    convertis en slashes, comme
    <var class="filename">c:/repertoire/fichier.ext</var>. Un slash final peut
    également être nécessaire pour les dossiers.</span></p></blockquote>
 
 <div class="sect3" id="install.windows.apache2.legacy.module">
  <h4 class="title">Installation d&#039;Apache comme gestionnaire</h4>
  <p class="para">
   Vous devez insérer les lignes suivantes dans le fichier
   de configuration <var class="filename">httpd.conf</var> d&#039;Apache pour charger
   le module PHP pour Apache 2.x :
   <div class="example" id="example-26">
    <p><strong>Exemple #19 PHP et Apache 2.x comme gestionnaire</strong></p>
    <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># 
LoadModule php5_module &quot;c:/php/php5apache2.dll&quot;
AddHandler application/x-httpd-php .php

# configure the path to php.ini
PHPIniDir &quot;C:/php&quot;</pre>
</div>
    </div>

   </div>
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Rappelez-vous de placer votre chemin actuel de PHP
    dans le chemin <var class="filename">C:/php/</var> des exemples ci-dessous.
    Assurez-vous d&#039;utiliser soit <var class="filename">php5apache2.dll</var>, soit
    <var class="filename">php5apache2_2.dll</var> dans la directive LoadModule et
    de vérifiez que le fichier correspondant est en réalité situé dans le
    chemin utilisé dans cette directive.
   </span>
  </p></blockquote>
  <p class="para">
   La configuration suivante activera le gestionnaire PHP pour tous les fichiers
   qui ont l&#039;extension .php, même si d&#039;autres extensions sont utilisées
   pour ces fichiers. Par exemple, un fichier nommé
   <var class="filename">example.php.txt</var> sera exécuté par le gestionnaire PHP.
   Pour vous assurez que seuls les fichiers se <em class="emphasis">terminant</em>
   par <var class="filename">.php</var> sont exécutés, utilisez plutôt la configuration
   suivante :
  </p>
  
  <div class="example" id="example-27">
   <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
      SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;</pre>
</div>
   </div>

  </div>
 </div>
 
 <div class="sect3" id="install.windows.apache2.legacy.cgi">
  <h4 class="title">Exécution de PHP en tant que CGI</h4>
  
  <p class="para">
   Vous devriez consulter la <a href="http://httpd.apache.org/docs/current/howto/cgi.html" class="link external">&raquo;&nbsp;documentation
   Apache CGI</a> où vous trouverez toutes les informations nécessaires à
   l&#039;exécution d&#039;Apache CGI.
  </p>
  
  <p class="para">
   Pour exécuter PHP en tant que CGI, vous devez placer tous vos fichiers php-cgi
   dans un dossier désigné comme dossier CGI en utilisant la directive
   ScriptAlias.
  </p>
  
  <p class="para">
   Vous devez ensuite insérer une ligne #! dans vos fichiers PHP, pointant
   vers le binaire PHP :
   
   <div class="example" id="example-28">
    <p><strong>Exemple #20 PHP et Apache 2.x en tant que CGI</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
#!C:/php/php.exe
&lt;?php
  phpinfo();
?&gt;
</pre></div>
    </div>

   </div>
  </p>
  <div class="warning"><strong class="warning">Avertissement</strong><p class="para">
 Un serveur déployé en mode CGI s&#039;expose à plusieurs vulnérabilités possibles. Veuillez lire notre
 <a href="security.cgi-bin.html" class="link">section sur la sécurité en mode CGI</a>
 pour apprendre comment vous protéger contre ces attaques.
</p></div>
 </div>
 
 <div class="sect3" id="install.windows.apache2.legacy.fastcgi">
  <h4 class="title">Exécuter PHP en tant que FastCGI</h4>
  
  <p class="para">
   L&#039;exécution de PHP en tant que FastCGI a un beaucoup d&#039;avantages contrairement
   à son exécution en tant que CGI. Sa mise en place de cette manière est
   assez simple :
  </p>
  <p class="para">
   Récupérez mod_fcgid depuis
   <a href="http://httpd.apache.org/mod_fcgid/" class="link external">&raquo;&nbsp;http://httpd.apache.org/mod_fcgid/</a>. Les bibliothèques
   Win32 sont disponibles au téléchargement depuis ce site. Installez le module
   suivant les instructions fournies.
  </p>
  <p class="para">
   Configurez votre serveur web comme ci-dessous, en vous assurant d&#039;ajuster tous
   les chemins pour refléter votre configuration système particulière :
   
   <div class="example" id="example-29">
    <p><strong>Exemple #21 Configuration d&#039;Apache pour exécuter PHP en tant que FastCGI</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
LoadModule fcgid_module modules/mod_fcgid.so  

# Où se trouve le fichier php.ini ?
FcgidInitialEnv PHPRC        &quot;c:/php&quot; 

AddHandler fcgid-script .php  
FcgidWrapper &quot;c:/php/php-cgi.exe&quot; .php  
</pre></div>
    </div>

   </div>
   Les fichiers avec l&#039;extension .php seront maintenant exécutés par le
   gestionnaire PHP FastCGI.
  </p>
  
 </div>
 
</div>



   




<div class="sect2" id="install.windows.legacy.sun">
 <h3 class="title">Serveurs Sun, iPlanet et Netscape servers sur Microsoft Windows</h3>
 <p class="para">
  Cette section contient les notes et détails spécifiques à l&#039;installation de PHP sur
  des serveurs Sun Java System Web Server, Sun ONE web Server, Netscape et iPlanet,
  sous Windows.
 </p>
 <p class="para">
  Depuis PHP 4.3.3, vous pouvez utiliser les scripts PHP avec
  le <a href="ref.nsapi.html" class="link">module NSAPI</a> pour
  
  sont disponibles pour assurer la compatibilité avec Apache.
  Pour du support sur les serveurs courants, voyez la
  
 </p>
 
 <div class="sect3" id="install.windows.legacy.sun.cgi">
  <h4 class="title">Configuration en CGI sur les serveurs Sun, iPlanet et Netscape</h4>
  <p class="para">
   Pour installer PHP en CGI, suivez ce qui suit :
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     Copiez le fichier <var class="filename">php4ts.dll</var> dans votre dossier principal
     (le dossier où vous avez installé Windows)
    </span>
   </li>
   <li class="listitem">
    <p class="para">
     Faites un fichier d&#039;association depuis la ligne de commande.
     Tapez les lignes suivantes :
     <div class="example-contents">
<div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</pre>
</div>
     </div>

    </p>
   </li>
   <li class="listitem">
    <span class="simpara">
     Dans le serveur Netscape Enterprise Administration Server,
     créez un dossier shellcgi et supprimez-le aussitôt (cette
     opération crée 5 lignes importantes dans le fichier
     obj.conf et permet au serveur de gérer les scripts CGI).
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Dans le serveur Netscape Enterprise Administration Server, créez un
     nouveau type MIME :
     <code class="literal">Category: type, Content-Type: magnus-internal/shellcgi, File Suffix:php</code>.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     Recommencez pour chaque instance de serveur web qui devra exécuter
     PHP.
    </span>
   </li>
  </ul>
  <p class="para">
   Plus de détails sur la configuration de PHP comme CGI sont
   disponibles à <a href="http://benoit.noss.free.fr/php/install-php.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php.html</a>
  </p>
 </div>
 
 <div class="sect3" id="install.windows.legacy.sun.nsapi">
  <h4 class="title">Configuration NSAPI sur les serveurs Sun, iPlanet et Netscape</h4>
  <p class="para">
   Pour installer PHP avec l&#039;interface NSAPI, faites ceci :
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     Copiez le fichier <var class="filename">php4ts.dll</var> dans votre dossier
     systemroot (le dossier où vous avez installé windows)
    </span>
   </li>
   <li class="listitem">
    <p class="para">
     Faites un fichier d&#039;association depuis la ligne de commande.
     Tapez les lignes suivantes :
     <div class="example-contents">
<div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</pre>
</div>
       </div>

      </p>
     </li>
     <li class="listitem">
      <span class="simpara">
       Dans le serveur Netscape Enterprise Administration Server, créez un
       nouveau type MIME :
       <code class="literal">Category: type, Content-Type: magnus-internal/shellcgi, File Suffix:php</code>.
      </span>
     </li>
     <li class="listitem">
      <p class="para">
       Éditez le fichier <var class="filename">magnus.conf</var> (pour les serveurs &gt;= 6) ou
       <var class="filename">obj.conf</var> (pour les serveurs &lt; 6) et ajoutez ce qui suit :
       Vous devez placer ces lignes après <code class="literal">mime types init</code>.
       <div class="example-contents">
<div class="cdata"><pre>
Init fn=&quot;load-modules&quot; funcs=&quot;php4_init,php4_execute,php4_auth_trans&quot; shlib=&quot;c:/php/sapi/php4nsapi.dll&quot;
Init fn=&quot;php4_init&quot; LateInit=&quot;yes&quot; errorString=&quot;Failed to initialise PHP!&quot; [php_ini=&quot;c:/path/to/php.ini&quot;]
</pre></div>
       </div>

       (PHP &gt;= 4.3.3) Le paramètre <code class="literal">php_ini</code> est
       optionnel, mais si vous le définissez, vous pourrez placer 
       votre fichier <var class="filename">php.ini</var> dans le dossier de configuration de
       votre serveur web.
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       Configurez l&#039;objet par défaut dans le fichier <var class="filename">obj.conf</var>
       (pour les classes de serveur virtuel [Sun Web Server 6.0+], dans le fichier
       <var class="filename">vserver.obj.conf</var>) : dans la section
       <code class="literal">&lt;Object name=&quot;default&quot;&gt;</code>, placez
       cette ligne nécessairement avant toutes les lignes &#039;ObjectType&#039; 
       et après toutes les lignes &#039;ObjectType&#039; :
       <div class="example-contents">
<div class="cdata"><pre>
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/x-httpd-php&quot; [inikey=value inikey=value ...]
</pre></div>
       </div>

       (PHP &gt;= 4.3.3) Comme paramètres supplémentaires, vous pouvez ajouter
       quelques valeurs spéciales du <var class="filename">php.ini</var>, par exemple, vous pouvez définir un
       <code class="literal">docroot=&quot;/path/to/docroot&quot;</code> spécifique au contexte
       où <code class="literal">php4_execute</code> est appelé, non pas
       <code class="literal">&quot;On&quot;,&quot;Off&quot;,...</code> (cela ne fonctionnerait pas
       correctement), e.g. <code class="literal">zlib.output_compression=1</code> à la place de
       <code class="literal">zlib.output_compression=&quot;On&quot;</code>
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       Cela n&#039;est nécessaire que si vous voulez configurer un dossier qui ne contiendra que
       vos scripts PHP (tout comme un dossier cgi-bin) :
       <div class="example-contents">
<div class="cdata"><pre>
&lt;Object name=&quot;x-httpd-php&quot;&gt;
ObjectType fn=&quot;force-type&quot; type=&quot;magnus-internal/x-httpd-php&quot;
Service fn=php4_execute [inikey=value inikey=value ...]
&lt;/Object&gt;
</pre></div>
       </div>

       Après cela, vous pouvez configurer un dossier dans l&#039;administration du serveur
       et lui assigner le style <code class="literal">x-httpd-php</code>. Tous les fichiers
       s&#039;y trouvant seront exécutés comme étant des scripts PHP.
       Cela peut être pratique pour cacher l&#039;usage de PHP en renommant
       les fichiers en <var class="filename">.html</var>.
      </p>
     </li>
     <li class="listitem">
      <span class="simpara">
       Redémarrez votre serveur web pour que les modifications prennent effet.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Faites cela pour chaque instance du serveur web où vous voulez exécuter PHP.
      </span>
     </li>
    </ul>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Plus de détails sur la configuration de PHP comme filtre NSAPI
      peuvent être trouvés ici :
      <a href="http://benoit.noss.free.fr/php/install-php4.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php4.html</a>
     </p>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      La taille de la pile que PHP utilise dépend de la
      configuration du serveur web. Si vous rencontrez des crashs avec
      les grands scripts PHP, il est recommandé d&#039;augmenter la taille de
      la pile avec la console d&#039;administration : dans la section
      &quot;MAGNUS EDITOR&quot;.
     </p>
    </p></blockquote>
   </div>
   
   <div class="sect3" id="install.windows.legacy.sun.phpini">
    <h4 class="title">Environnement CGI et modifications recommandées du <var class="filename">php.ini</var></h4>
    <p class="para">
     Il est important de garder en tête que iPlanet/SunONE/Netscape est un serveur web
     multi-threadé. Comme toutes les requêtes se situent dans le même contexte
     (c&#039;est le contexte sur serveur web), et que ce contexte est unique. SI vous voulez
     accéder a des variables comme <code class="literal">PATH_INFO</code>,
     <code class="literal">HTTP_HOST</code> etc. il n&#039;est pas recommandé d&#039;y accéder
     à l&#039;ancienne manière de PHP, avec la fonction <span class="function"><a href="function.getenv.html" class="function">getenv()</a></span> ou une
     autre méthode (register globals, <code class="literal">$_ENV</code>).
     De cette manière, vous n&#039;aurez que des valeurs d&#039;environnement du serveur,
     et non pas des valeurs correctes pour le CGI.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Pourquoi est-ce que les variables CGI sont invalides ?
     </p>
     <p class="para">
      C&#039;est lié au fait que le processus du serveur web est lancé par l&#039;administrateur
      du serveur, qui utilise le script de lancement au démarrage. En fait, il aurait fallu
      que vous lanciez vous-même le processus. C&#039;est pour cela que l&#039;environnement
      du serveur web contient des variables d&#039;environnement CGI. Vous pouvez vérifier
      cela en lançant le serveur web depuis un autre endroit que l&#039;administrateur
      du serveur : utilisez la ligne de commande Unix en tant que root :
      vous verrez alors qu&#039;il n&#039;y a pas de variables d&#039;environnement.
     </p>
    </p></blockquote>
    <p class="para">
     Changez simplement vos scripts pour lire les variables CGI, en utilisant
     le tableau superglobal <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var>. Si vous avez d&#039;autres scripts qui
     utilisent encore <var class="varname">$HTTP_HOST</var> et compagnie,
     il est recommandé d&#039;activer l&#039;option <code class="literal">register_globals</code>
     dans le <var class="filename">php.ini</var> et de changer l&#039;ordre des variables.
     IMPORTANT : supprimez le <code class="literal">&quot;E&quot;</code> dans cette option, car
     vous n&#039;en avez pas besoin pour cet environnement.
     <div class="example-contents">
<div class="cdata"><pre>
variables_order = &quot;GPCS&quot;
register_globals = On
</pre></div>
     </div>

    </p>
   </div>
   
   <div class="sect3" id="install.windows.legacy.sun.specialpages">
    <h4 class="title">Utilisation particulière pour les pages d&#039;erreurs ou les
     listages spécifiques de dossiers (PHP &gt;= 4.3.3)</h4>
    <p class="para">
     Vous pouvez utiliser PHP pour générer des pages d&#039;erreurs de type
     <code class="literal">&quot;404 Not Found&quot;</code> ou apparentée. Ajoutez la ligne
     suivante dans le fichier <var class="filename">obj.conf</var> pour chaque
     page d&#039;erreur que vous souhaitez remplacer :
     <div class="example-contents">
<div class="cdata"><pre>
Error fn=&quot;php4_execute&quot; code=XXX script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     où <code class="literal">XXX</code> est le code d&#039;erreur HTTP. Effacez toute autre
     directive <code class="literal">Error</code> qui pourrait interférer avec la vôtre.
     Si vous voulez utiliser une page pour toutes les erreurs qui existent,
     laissez le paramètre <code class="literal">code</code> vide. Votre script peut
     obtenir le code de statut HTTP dans la variable
     <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['ERROR_TYPE']</a></var>.
    </p>
    <p class="para">
     Une autre possibilité est de générer une liste de dossiers personnalisée.
     Créez simplement un script PHP qui affiche le contenu du dossier, et
     remplacez la ligne <code class="literal">Service</code> par défaut par
     <code class="literal">type=&quot;magnus-internal/directory&quot;</code>
     dans <var class="filename">obj.conf</var> avec ceci :
     <div class="example-contents">
<div class="cdata"><pre>
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/directory&quot; script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     Pour ces deux points, l&#039;URI originale et l&#039;URI traduite sont
     dans les variables <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_INFO']</a></var> et
     <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_TRANSLATED']</a></var>.
    </p>
   </div>
   
   <div class="sect3" id="install.windows.legacy.sun.notes">
    <h4 class="title">Note au sujet de <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> et des requêtes (PHP &gt;= 4.3.3)</h4>
    <p class="para">
     Le module NSAPI supporte désormais la fonction <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span>
     (alias : <span class="function"><a href="function.virtual.html" class="function">virtual()</a></span>), pour réaliser des sous requêtes au serveur
     web, et inclure le résultat dans une page. Le problème est que cette fonction
     utilise une fonctionnalité non documentée de la bibliothèque
     NSAPI.
    </p>
    <p class="para">
     Sous Unix, ce n&#039;est pas un problème, car le module va automatiquement
     rechercher les fonctions nécessaires, et les utiliser si elles sont
     disponibles. Sinon, <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> sera désactivée.
    </p>
    <p class="para">
     Sous Windows, des limitations dans la gestion des DLL impose l&#039;utilisation
     de la plus récente bibliothèque <var class="filename">ns-httpdXX.dll</var>. Cela a été
     testé pour les serveurs jusqu&#039;à la version 6.0. Si une nouvelle version de
     SunONE server est utilisée, la détection échoue, et
     <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> est désactivée.
    </p>
    <p class="para">
     Dans ce cas, essayez ceci :
     ajoutez le paramètre suivant à <code class="literal">php4_init</code> dans
     <var class="filename">magnus.conf</var>/<var class="filename">obj.conf</var> :
     <div class="example-contents">
<div class="cdata"><pre>
Init fn=php4_init ... server_lib=&quot;ns-httpdXX.dll&quot;
</pre></div>
     </div>

     où <code class="literal">XX</code> est le numéro correct de la version de la DLL.
     Pour la connaître, regardez dans le <code class="literal">server-root</code>
     pour connaître le nom correct de la DLL. La DLL la plus grande en taille
     est la bonne.
    </p>
    <p class="para">
     Vous pouvez vérifier le statut en utilisant la fonction <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Soyez prévenu : le support de <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> est expérimental.
     </p>
    </p></blockquote>
   </div>
</div>



   




<div class="sect2" id="install.windows.legacy.sambar">
 <h3 class="title">Sambar Server on Microsoft Windows</h3>
 <p class="para">
  Cette section contient les notes et conseils d&#039;installation de PHP
  sur les serveurs <a href="http://www.sambar.com/" class="link external">&raquo;&nbsp;Sambar</a>, sur Windows.
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Vous devriez lire les <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation 
   du manuel</a> d&#039;abord !
  </p>
 </p></blockquote>
 
 <p class="simpara">
  Cette liste décrit comment configurer le module ISAPI avec le
  serveur Sambar sous Windows.
 </p>
 
 <p class="para">
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Trouvez le fichier appelé <var class="filename">mappings.ini</var> (dans le
     dossier de configuration), dans le dossier d&#039;installation de Sambar.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Ouvrez <var class="filename">mappings.ini</var> et ajoutez la ligne suivante,
     sous la section <code class="literal">[ISAPI]</code> :
     <div class="example" id="example-30">
      <p><strong>Exemple #22 Configuration ISAPI de Sambar</strong></p>
      <div class="example-contents">
<div class="cdata"><pre>
#pour PHP 4
*.php = c:\php\php4isapi.dll

#pour PHP 5
*.php = c:\php\php5isapi.dll
</pre></div>
      </div>

     </div>
     (Cette ligne suppose que PHP a été installé dans le dossier
     <var class="filename">c:\php</var>).
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Maintenant, redémarrez le serveur Sambar pour que les modifications prennent
     effet.
    </p>
   </li>
  </ul>
 </p>
 
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Si vous voulez utiliser PHP pour communiquer avec les ressources se trouvant
   sur un autre ordinateur de votre réseau, vous devez modifier le compte utilisé
   par le service Sambar Server. Le compte par défaut utilisé par le service Sambar
   Server est <code class="literal">LocalSystem</code>, qui n&#039;a pas accès aux ressources
   distantes. Le compte peut être modifié en utilisant les options des services,
   se trouvant dans le centre de contrôle de Windows.
  </p>
 </p></blockquote>
</div>


   




<div class="sect2" id="install.windows.legacy.xitami">
 <h3 class="title">Installation Xitami sur Microsoft Windows</h3>
 <p class="para">
  Cette section contient les conseils d&#039;installation spécifiques
  à <a href="http://www.xitami.com/" class="link external">&raquo;&nbsp;Xitami</a> sur Microsoft Windows.
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Vous devriez lire les <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes d&#039;installation 
   du manuel</a> d&#039;abord !
  </p>
 </p></blockquote>
 
 <p class="simpara">
  Cette liste décrit comment installer PHP comme CGI exécutable
  avec Xitami sous Windows.
 </p>
 
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <strong>Important pour les utilisateurs de CGI</strong><br />
  <p class="para">
   Lisez la <a href="faq.installation.html#faq.installation.forceredirect" class="link">FAQ
   sur cgi.force_redirect</a> pour d&#039;importants détails.
   Cette directive doit être configurée à <code class="literal">0</code>.
   Si vous voulez utiliser <code class="literal">$_SERVER[&#039;PHP_SELF&#039;]</code>, vous devez
   activer la directive <a href="ini.core.html#ini.cgi.fix-pathinfo" class="link">cgi.fix_pathinfo</a>.
  </p>
 </p></blockquote>
 <div class="warning"><strong class="warning">Avertissement</strong><p class="para">
 Un serveur déployé en mode CGI s&#039;expose à plusieurs vulnérabilités possibles. Veuillez lire notre
 <a href="security.cgi-bin.html" class="link">section sur la sécurité en mode CGI</a>
 pour apprendre comment vous protéger contre ces attaques.
</p></div>
 <p class="para">
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Assurez-vous que le serveur web fonctionne, et allez dans
     la console d&#039;administration du serveur
     (généralement <code class="literal">http://127.0.0.1/admin</code>),
     puis cliquez sur &quot;Configuration&quot;.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Naviguez dans les <code class="literal">Filters</code>, et ajoutez l&#039;extension
     que vous souhaitez (souvent <code class="literal">.php</code>) dans le champ
     <code class="literal">File extensions</code>.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Dans la commande <code class="literal">Filter</code>, ajoutez le nom et le chemin
     de votre exécutable PHP i.e <var class="filename">C:\php\php.exe</var>
     pour PHP 4 ou <var class="filename">C:\php\php-cgi.exe</var> pour PHP 5.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Cliquez sur le bouton <code class="literal">Save</code>.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Redémarrez le serveur pour prendre en compte les modifications.
    </p>
   </li>
  </ul>
 </p>
</div>



   




<div class="sect2" id="install.windows.legacy.building">
 <h3 class="title">Compilation des sources</h3>
 <p class="para">
  Ce chapitre va vous apprendre à compiler PHP depuis les sources sous Windows,
  en utilisant les utilitaires Microsoft. Pour compiler PHP avec Cygwin, référez-vous
  à <a href="install.unix.html" class="xref">Installation sur les syst&egrave;mes UNIX</a>.
 </p>
 <p class="para">
  Reportez-vous à la documentation fournie par le wiki :
  <a href="https://wiki.php.net/internals/windows/stepbystepbuild" class="link external">&raquo;&nbsp;https://wiki.php.net/internals/windows/stepbystepbuild</a>.
 </p>
</div>




   




<div class="sect2" id="install.windows.legacy.extensions">
 <h3 class="title">Installation des extensions sous Windows</h3>
 <p class="para">
  Après avoir installé PHP et un serveur web sous Windows, vous devriez probablement
  vouloir installer quelques extensions pour avoir des fonctionnalités supplémentaires.
  Vous pouvez choisir quelles extensions seront chargées lors du démarrage de PHP
  en modifiant votre <var class="filename">php.ini</var>. Vous pouvez également en charger dynamiquement dans
  vos scripts à l&#039;aide de la fonction <span class="function"><a href="function.dl.html" class="function">dl()</a></span>.
 </p>
 <p class="para">
  Les bibliothèques <code class="literal">DLLs</code> pour les extensions PHP
  sont préfixées par <code class="literal">php_</code>.
 </p>
 <p class="para">
  Beaucoup d&#039;extensions sont <em class="emphasis">incluses</em>
  dans la version pour Windows de PHP. Cela signifie que les bibliothèques
  DLL additionnelles et la directive <a href="ini.core.html#ini.extension" class="link">extension</a>
  ne sont <em class="emphasis">pas</em> utilisées pour charger ces extensions.
  La table des <a href="install.windows.legacy.index.html#install.windows.legacy.extensions.overview" class="link">extensions PHP</a>
  pour Windows liste les extensions qui requièrent des bibliothèques DLL additionnelles PHP.
  Voici une liste d&#039;extensions internes (mise à jour : PHP 5.0.4) :
  <a href="book.bc.html" class="link">BCMath</a>,
  <a href="book.calendar.html" class="link">Calendar</a>,
  <a href="book.com.html" class="link">COM</a>,
  <a href="book.ctype.html" class="link">Ctype</a>,
  <a href="book.dom.html" class="link">DOM</a>,
  <a href="book.ftp.html" class="link">FTP</a>,
  <a href="book.libxml.html" class="link">LibXML</a>,
  <a href="book.iconv.html" class="link">Iconv</a>,
  <a href="book.uodbc.html" class="link">ODBC</a>,
  <a href="book.pcre.html" class="link">PCRE</a>,
  <a href="book.session.html" class="link">Session</a>,
  <a href="book.simplexml.html" class="link">SimpleXML</a>,
  <a href="book.spl.html" class="link">SPL</a>,
  <a href="book.sqlite.html" class="link">SQLite</a>,
  <a href="book.wddx.html" class="link">WDDX</a>,
  <a href="book.xml.html" class="link">XML</a> et
  <a href="book.zlib.html" class="link">Zlib</a>.
 </p>
 <p class="para">
  Le dossier par défaut dans lequel PHP cherche des extensions est
  <var class="filename">c:\php5</var>. Pour changer
  ce comportement pour refléter votre installation de PHP, éditez votre fichier <var class="filename">php.ini</var> :
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Vous devriez pouvoir changer le paramètre
     <a href="ini.core.html#ini.extension-dir" class="link">extension_dir</a> pour pointer vers le dossier
     contenant vos extensions ou l&#039;endroit où vous avez placé vos fichiers
     <var class="filename">php_*.dll</var>. Par exemple :
     <div class="informalexample">
      <div class="example-contents">
<div class="inicode"><pre class="inicode">extension_dir = c:\php\extensions</pre>
</div>
      </div>

     </div>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Pour activer ces extensions dans votre <var class="filename">php.ini</var>, vous devez décommenter
     les lignes <code class="literal">extension=php_*.dll</code> dans votre <var class="filename">php.ini</var>.
     Cela se fait en effaçant le point virgule (&quot;<code class="literal">;</code>&quot;) du début
     de la ligne que vous voulez activer.
     <div class="example" id="example-31">
      <p><strong>Exemple #23 Activer l&#039;extension <a href="book.bzip2.html" class="link">Bzip2</a> pour PHP-Windows</strong></p>
      <div class="example-contents">
<div class="inicode"><pre class="inicode">// changez la ligne suivante :
;extension=php_bz2.dll

// En :
extension=php_bz2.dll</pre>
</div>
      </div>

     </div>
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Quelques extensions ont besoin de bibliothèques DLLs supplémentaires pour fonctionner.
     La plupart d&#039;entre elles peuvent être trouvées dans le paquet de votre distribution
     de PHP dans le dossier principal mais quelques autres,
     comme Oracle (<var class="filename">php_oci8.dll</var>),
     requierent des DLLs qui ne sont pas fournies avec votre distribution de PHP.
     N&#039;oubliez pas d&#039;inclure le dossier <var class="filename">C:\php</var>
     dans la variable d&#039;environnement <var class="envar">PATH</var>
     (ce processus est expliqué dans une
     <a href="faq.installation.html#faq.installation.addtopath" class="link">entrée de la FAQ</a>).
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Quelques-unes de ces bibliothèques ne sont pas incluses dans la distribution
     de PHP. Lisez la documentation de chaque extension pour plus de détails.
     Lisez également la section du manuel nommée
     <a href="install.pecl.html" class="link">Installation d&#039;extensions PECL</a>
     pour plus de détails sur <acronym title="PHP Extension and Application Repository">PECL</acronym>.
     Un nombre toujours plus important d&#039;extensions PHP se trouve
     dans <acronym title="PHP Extension and Application Repository">PECL</acronym>, et ces extensions nécessitent un
     <a href="install.pecl.downloads.html" class="link">téléchargement séparé</a>.
    </p>
   </li>
  </ul>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Si vous utilisez PHP en tant que module d&#039;un serveur web, pensez à redémarrer
    votre serveur web pour charger les modifications apportées au fichier
    <var class="filename">php.ini</var>.
   </span>
  </p></blockquote>
 </p>
 
 <p class="para">
  La table suivante décrit quelques extensions disponibles requérant des bibliothèques DLLs
  supplémentaires.
  <table id="install.windows.legacy.extensions.overview" class="doctable table">
   <caption><strong>Extensions PHP</strong></caption>
   
    <thead>
     <tr>
      <th>Extension</th>
      <th>Description</th>
      <th>Notes</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>php_bz2.dll</td>
      <td><a href="book.bzip2.html" class="link">bzip2</a> : fonctions de compression</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_calendar.dll</td>
      <td><a href="book.calendar.html" class="link">Calendar</a> : fonctions de
       conversion</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_ctype.dll</td>
      <td>Famille de fonctions <a href="book.ctype.html" class="link">ctype</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_curl.dll</td>
      <td>Fonctions de bibliothèque client <a href="book.curl.html" class="link">CURL</a></td>
      <td>Requiert : <var class="filename">libeay32.dll</var>,
       <var class="filename">ssleay32.dll</var> (intégré), ou, à partir de OpenSSL 1.1
   <var class="filename">libcrypto-*.dll</var> et <var class="filename">libssl-*.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_dba.dll</td>
      <td><a href="book.dba.html" class="link">DBA</a>: DataBase (dbm-style)
       Fonctions d&#039;abstraction</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_dbase.dll</td>
      <td>Fonctions <a href="book.dbase.html" class="link">dBase</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_dbx.dll</td>
      <td>Fonctions <a href="book.dbx.html" class="link">dbx</a></td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td>php_exif.dll</td>
      <td>Fonctions <a href="book.exif.html" class="link">EXIF</a></td>
      <td>
       <a href="book.mbstring.html" class="link">php_mbstring.dll</a>. Attention,
       <var class="filename">php_exif.dll</var> doit être chargé <code class="literal">après</code>
       <var class="filename">php_mbstring.dll</var> dans le <var class="filename">php.ini</var>.
      </td>
     </tr>

     <tr>
      <td>php_fbsql.dll</td>
      <td>Fonctions <a href="book.fbsql.html" class="link">FrontBase</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_fdf.dll</td>
      <td><a href="book.fdf.html" class="link">FDF</a> : fonctions Forms Data Format.</td>
      <td>Requiert : <var class="filename">fdftk.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_filepro.dll</td>
      <td>Fonctions <a href="book.filepro.html" class="link">filePro</a></td>
      <td>Accès en lecture seule</td>
     </tr>

     <tr>
      <td>php_ftp.dll</td>
      <td>Fonctions <a href="book.ftp.html" class="link">FTP</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_gd2.dll</td>
      <td><a href="book.image.html" class="link">GD</a> : Bibliothèque de fonctions image</td>
      <td>GD2</td>
     </tr>

     <tr>
      <td>php_gettext.dll</td>
      <td>Fonctions <a href="book.gettext.html" class="link">Gettext</a></td>
      <td>
       PHP &lt;= 4.2.0 requiert <var class="filename">gnu_gettext.dll</var> (intégré),
       PHP &gt;= 4.2.3 requiert <var class="filename">libintl-1.dll</var>,
       <var class="filename">iconv.dll</var> (intégré).
      </td>
     </tr>

     <tr>
      <td>php_hyperwave.dll</td>
      <td>Fonctions HyperWave</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_iconv.dll</td>
      <td><a href="book.iconv.html" class="link">ICONV</a> : conversion de jeux de
       caractères</td>
      <td>
       Requiert : <var class="filename">iconv-1.3.dll</var> (intégré),
       <var class="filename">iconv.dll</var>
      </td>
     </tr>

     <tr>
      <td>php_ifx.dll</td>
      <td>Fonctions <a href="book.ifx.html" class="link">Informix</a></td>
      <td>Requiert : bibliothèque Informix</td>
     </tr>

     <tr>
      <td>php_iisfunc.dll</td>
      <td>Fonctions d&#039;administration IIS</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_imap.dll</td>
      <td><a href="book.imap.html" class="link">IMAP</a> : fonctions POP3 et NNTP</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_ingres.dll</td>
      <td>Fonctions <a href="book.ingres.html" class="link">Ingres</a></td>
      <td>Requiert : bibliothèque Ingres</td>
     </tr>

     <tr>
      <td>php_interbase.dll</td>
      <td>Fonctions <a href="book.ibase.html" class="link">InterBase</a></td>
      <td>Requiert : <var class="filename">gds32.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_ldap.dll</td>
      <td>Fonctions <a href="book.ldap.html" class="link">LDAP</a></td>
      <td>
       Requiert <var class="filename">libeay32.dll</var>,
       <var class="filename">ssleay32.dll</var> (intégré), ou, à partir de OpenSSL 1.1
       <var class="filename">libcrypto-*.dll</var> et <var class="filename">libssl-*.dll</var> (intégré)
      </td>
     </tr>

     <tr>
      <td>php_mbstring.dll</td>
      <td>Fonctions <a href="book.mbstring.html" class="link">Chaînes multioctets</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_mcrypt.dll</td>
      <td>Fonctions <a href="book.mcrypt.html" class="link">Mcrypt Encryption</a></td>
      <td>Requiert : <var class="filename">libmcrypt.dll</var></td>
     </tr>

     <tr>
      <td>php_mhash.dll</td>
      <td>Fonctions <a href="book.mhash.html" class="link">Mhash</a></td>
      <td>Requiert : <var class="filename">libmhash.dll</var>
       (intégré)</td>
     </tr>

     <tr>
      <td>php_mime_magic.dll</td>
      <td>Fonctions <a href="book.mime-magic.html" class="link">Mimetype</a></td>
      <td>Requiert : <var class="filename">magic.mime</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_msql.dll</td>
      <td>Fonctions <a href="book.msql.html" class="link">mSQL</a></td>
      <td>Requiert : <var class="filename">msql.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_mysql.dll</td>
      <td>Fonctions <a href="book.mysql.html" class="link">MySQL</a></td>
      <td>Requiert : <var class="filename">libmysql.dll</var>
       (intégré)</td>
     </tr>

     <tr>
      <td>php_mysqli.dll</td>
      <td>Fonctions <a href="book.mysqli.html" class="link">MySQLi</a></td>
      <td>Requiert : <var class="filename">libmysql.dll</var>
       (<var class="filename">libmysqli.dll</var> en PHP &lt;=5.0.2) (intégré)</td>
     </tr>

     <tr>
      <td>php_oci8.dll</td>
      <td>Fonctions <a href="book.oci8.html" class="link">Oracle 8</a></td>
      <td>Requiert : bibliothèque cliente Oracle 8.1+</td>
     </tr>

     <tr>
      <td>php_openssl.dll</td>
      <td>Fonctions <a href="book.openssl.html" class="link">OpenSSL</a></td>
      <td>Requiert : <var class="filename">libeay32.dll</var> (intégré), ou, à partir de OpenSSL 1.1
   <var class="filename">libcrypto-*.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_pdf.dll</td>
      <td>Fonctions <a href="book.pdf.html" class="link">PDF</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_pgsql.dll</td>
      <td>Fonctions <a href="book.pgsql.html" class="link">PostgreSQL</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_shmop.dll</td>
      <td>Fonctions de <a href="book.shmop.html" class="link">partage de mémoire</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_snmp.dll</td>
      <td>Fonctions <a href="book.snmp.html" class="link">SNMP</a></td>
      <td>NT seulement !</td>
     </tr>

     <tr>
      <td>php_soap.dll</td>
      <td>Fonctions <a href="book.soap.html" class="link">SOAP</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_sockets.dll</td>
      <td>Fonctions <a href="book.sockets.html" class="link">Socket</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_tidy.dll</td>
      <td>Fonctions <a href="book.tidy.html" class="link">Tidy</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_tokenizer.dll</td>
      <td>Fonctions <a href="book.tokenizer.html" class="link">Tokenizer</a></td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_w32api.dll</td>
      <td>Fonctions W32api</td>
      <td>Non</td>
     </tr>

     <tr>
      <td>php_xmlrpc.dll</td>
      <td>Fonctions <a href="book.xmlrpc.html" class="link">XML-RPC</a></td>
      <td>Requiert : <var class="filename">iconv.dll</var>
       (intégré)</td>
     </tr>

     <tr>
      <td>php_xslt.dll</td>
      <td>Fonctions XSLT</td>
      <td>
       Requiert : <var class="filename">sablot.dll</var>,
       <var class="filename">expat.dll</var>, <var class="filename">iconv.dll</var>
       (intégré).
      </td>
     </tr>

     <tr>
      <td>php_yaz.dll</td>
      <td>Fonctions <a href="book.yaz.html" class="link">YAZ</a></td>
      <td>Requiert : <var class="filename">yaz.dll</var> (intégré)</td>
     </tr>

     <tr>
      <td>php_zip.dll</td>
      <td>Fonctions <a href="book.zip.html" class="link">Zip File</a></td>
      <td>Accès en lecture seule</td>
     </tr>

     <tr>
      <td>php_zlib.dll</td>
      <td>Fonctions de compression <a href="book.zlib.html" class="link">ZLib</a></td>
      <td>Non</td>
     </tr>

    </tbody>
   
  </table>

 </p>
</div>



   




<div class="sect2" id="install.windows.legacy.commandline">
    <h3 class="title">Ligne de commande PHP sous Microsoft Windows</h3>
 <p class="para">
  Cette section contient les notes et les astuces spécifiques à l&#039;installation
  de PHP depuis la ligne de commande sous Windows.
 </p>
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Vous devriez lire les <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">étapes
   du manuel d&#039;installation</a> d&#039;abord !
  </p>
 </p></blockquote>
 <p class="para">
  Faire fonctionner PHP depuis la ligne de commande peut être effectué
  sans aucune modification de Windows.
  <div class="example-contents screen">
<div class="cdata"><pre>
C:\PHP5\php.exe -f &quot;C:\PHP Scripts\script.php&quot; -- -arg1 -arg2 -arg3
</pre></div>     
  </div>
 </p>
 
 <p class="para">
  Mais il existe quelques étapes à suivre pour rendre ceci plus simple.
  La plupart de ces étapes ont déjà dû être faite, mais elles sont répétées
  ici pour fournir une séquence étape par étape complète.
  <ul class="itemizedlist">
   
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Les variables <var class="envar">PATH</var> et <var class="envar">PATHEXT</var>
     sont des variables systèmes pré-existantes importantes sous Windows,
     et il est important de ne faire qu&#039;ajouter des éléments, sans les
     écraser totalement.
    </p>
   </p></blockquote>
   
   <li class="listitem">
    <p class="para">
     Ajouter la localisation de l&#039;exécutable PHP (<var class="filename">php.exe</var>,
     <var class="filename">php-win.exe</var> ou <var class="filename">php-cli.exe</var>
     suivant la version de PHP ainsi que les préférences d&#039;affichage)
     à la variable d&#039;environnement <var class="envar">PATH</var>.
     Vous trouverez plus d&#039;informations concernant l&#039;ajout du dossier PHP
     à la variable <var class="envar">PATH</var> dans l&#039;<a href="faq.installation.html#faq.installation.addtopath" class="link">entrée correspondante de la FAQ</a>.
    </p>
   </li>
   
   <li class="listitem">
    <p class="para">
     Ajouter l&#039;extension <code class="literal">.PHP</code> à la variable d&#039;environnement
     <var class="varname">PATHEXT</var>. Ceci peut être fait lors de la modification
     de la variable d&#039;environnement <var class="envar">PATH</var>. Suivez les mêmes
     étapes que celles décrites dans la <a href="faq.installation.html#faq.installation.addtopath" class="link">FAQ</a> mais utilisez la variable
     <var class="varname">PATHEXT</var> au lieu de la variable d&#039;environnement
     <var class="envar">PATH</var>.
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       La position à laquelle vous placez le <code class="literal">.PHP</code> déterminera
       le script ou le programme à exécuter lorsqu&#039;un nom de fichier de cette
       forme sera trouvé. Par exemple, le fait de placer <code class="literal">.PHP</code>
       avant <code class="literal">.BAT</code> fera que votre script sera exécuté à la place
       du fichier batch, s&#039;il y a un fichier batch avec le même nom.
      </p>
     </p></blockquote>
    </p>
   </li>
   
   <li class="listitem">
    <p class="para">
     Associer l&#039;extension <code class="literal">.PHP</code> avec un type de fichier. Ceci
     peut être fait en exécutant la commande suivante :
     <div class="example-contents screen">
<div class="cdata"><pre>
assoc .php=phpfile
</pre></div>     
     </div>
    </p>
   </li>
   
   <li class="listitem">
    <p class="para">
     Associer le type de fichier <code class="literal">phpfile</code> avec l&#039;exécutable
     PHP approprié. Ceci peut être fait en exécutant la commande suivante :
     <div class="example-contents screen">
<div class="cdata"><pre>
ftype phpfile=&quot;C:\PHP5\php.exe&quot; -f &quot;%1&quot; -- %~2
</pre></div>     
     </div>
    </p>
   </li>
   
  </ul>
 </p>
 
 <p class="para">
  Ces étapes permettent aux scripts PHP d&#039;être exécutés depuis n&#039;importe
  quel répertoire, sans pour autant spécifier l&#039;exécutable PHP ou l&#039;extension
  <code class="literal">.PHP</code>, et tous les paramètres seront passés au script
  pour traitement.
 </p>
 
 <p class="para">
  L&#039;exemple ci-dessous montre les modifications pouvant être faites manuellement
  au registre Windows.
  <div class="example" id="example-32">
   <p><strong>Exemple #24 Modification du registre</strong></p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\.php]
@=&quot;phpfile&quot;
&quot;Content Type&quot;=&quot;application/php&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile]
@=&quot;PHP Script&quot;
&quot;EditFlags&quot;=dword:00000000
&quot;BrowserFlags&quot;=dword:00000008
&quot;AlwaysShowExt&quot;=&quot;&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\DefaultIcon]
@=&quot;C:\\PHP5\\php-win.exe,0&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell]
@=&quot;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open]
@=&quot;&amp;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open\command]
@=&quot;\&quot;C:\\PHP5\\php.exe\&quot; -f \&quot;%1\&quot; -- %~2&quot;
</pre></div>
   </div>
  </div>
 </p>
 
 <p class="para">
  Avec ces modifications, la même commande peut maintenant être écrite comme ceci :
  <div class="example-contents screen">
<div class="cdata"><pre>
&quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
  </div>
  ou, si le chemin <code class="literal">&quot;C:\PHP Scripts&quot;</code> est présent dans la
  variable d&#039;environnement <var class="envar">PATH</var> :
  <div class="example-contents screen">
<div class="cdata"><pre>
script -arg1 -arg2 -arg3
</pre></div>
  </div>
 </p>
 
 <blockquote class="note"><p><strong class="note">Note</strong>: 
  <p class="para">
   Il y a un petit problème si vous tentez d&#039;utiliser cette technique et
   qu&#039;en même temps, vous utilisez votre script PHP comme filtre d&#039;une commande,
   comme ceci :
   <div class="example-contents screen">
<div class="cdata"><pre>
dir | &quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
   </div>
   ou
   <div class="example-contents screen">
<div class="cdata"><pre>
dir | script -arg1 -arg2 -arg3
</pre></div>
   </div>
   Vous pourriez trouver que le script s&#039;interrompt et que rien
   ne s&#039;affiche. Afin de rendre ceci opérationnel, vous devez
   effectuer une nouvelle modification au registre Windows.
   <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\policies\Explorer]
&quot;InheritConsoleHandles&quot;=dword:00000001
</pre></div>
   </div>
   Plus d&#039;informations concernant ce problème peuvent être trouvées dans <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;321788" class="link external">&raquo;&nbsp;
   l&#039;article de la base de connaissance Microsoft : 321788</a>.
   Depuis Windows 10, cette configuration semble avoir été inversé ;
   l&#039;installation par défaut de Windows 10 supporte les gestionnaires de console hérités
   automatiquement. Ce <a href="https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console?forum=windowssdk" class="link external">&raquo;&nbsp;
   post du forum Microsoft</a> fournit l&#039;explication.
  </p>
 </p></blockquote>
</div>



  </div></div></div></body></html>