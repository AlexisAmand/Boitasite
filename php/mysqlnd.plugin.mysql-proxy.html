<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Comparaison des plugins mysqlnd avec proxy MySQL</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqlnd.plugin.html">« API du plugin du driver natif MySQL</a></li>
      <li style="float: right;"><a href="mysqlnd.plugin.obtaining.html">Obtenir l'API du plugin mysqlnd »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mysqlnd.plugin.html">API du plugin du driver natif MySQL</a></li>
    <li>Comparaison des plugins mysqlnd avec proxy MySQL</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqlnd.plugin.mysql-proxy" class="section">
  <h2 class="title">Comparaison des plugins mysqlnd avec proxy MySQL</h2>
  <p class="para">
   Les plugins <code class="literal">Mysqlnd</code> et le proxy MySQL sont
   des technologies différentes utilisant différentes approches.
   Les deux sont des outils valides pour résoudre bon nombre
   de tâches classiques, comme l&#039;équilibrage de charge, la surveillance,
   et l&#039;amélioration des performances. Une importante différence est
   que le proxy MySQL fonctionne avec tous les clients MySQL alors que
   les plugins <code class="literal">mysqlnd</code> sont spécifiques aux
   applications PHP.
  </p>
  <p class="para">
   Comme une extension PHP, un plugin <code class="literal">mysqlnd</code>
   doit être installé sur le serveur d&#039;applications PHP, en plus du
   reste de PHP. Un proxy MySQL peut soit fonctionner sur le serveur
   d&#039;applications PHP, soit être installé sur une machine dédiée pour
   gérer plusieurs serveurs d&#039;applications PHP.
  </p>
  <p class="para">
   Le déploiement d&#039;un proxy MySQL sur un serveur d&#039;applications
   a 2 avantages :
  </p>
  <ol type="1">
   <li class="listitem">
    <p class="para">
     Pas un seul point d&#039;échec
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Facile à redimensionner (redimensionnement horizontal,
     redimensionnement par le client)
    </p>
   </li>
  </ol>
  <p class="para">
   Un proxy MySQL (et les plugins <code class="literal">mysqlnd</code>) peut
   résoudre des problèmes facilement, qui sinon, auraient dû nécessiter
   des modifications aux applications existantes.
  </p>
  <p class="para">
   Cependant, un proxy MySQL a quelques désavantages :
  </p>
  <ul class="itemizedlist">
   <li class="listitem">
    <p class="para">
     Un proxy MySQL est un nouveau composant, une nouvelle technologie à
     appliquer au maître et à déployer.
    </p>
   </li>
   <li class="listitem">
    <p class="para">
     Un proxy MySQL nécessite la connaissance du langage de script Lua.
    </p>
   </li>
  </ul>
  <p class="para">
   Un proxy MySQL peut être personnalisé en utilisant les langages de
   programmation C et Lua. Lua est le langage préféré pour un proxy MySQL.
   Pour la plupart des experts PHP, Lua est un nouveau langage à apprendre.
   Un plugin <code class="literal">mysqlnd</code> peut être écrit en C. Il est également
   possible d&#039;écrire un plugin en PHP en utilisant
   <a href="http://pecl.php.net/package/mysqlnd_uh" class="link external">&raquo;&nbsp;PECL/mysqlnd_uh</a>.
  </p>
  <p class="para">
   Un proxy MySQL fonctionne comme un démon - un processus en arrière-plan.
   Un proxy MySQL peut rappeler des décisions prises antérieurement,
   vu que tous les états peuvent être conservés. Cependant, un plugin
   <code class="literal">mysqlnd</code> est lié au cycle de vie d&#039;une requête PHP.
   Un proxy MySQL peut également partager des résultats calculés une seule fois
   sur plusieurs serveurs d&#039;applications. Un plugin <code class="literal">mysqlnd</code>
   peut donc avoir besoin de stocker des données dans un médium persistant.
   Un autre démon peut être utilisé dans ce but, comme par exemple,
   Memcache. Ce mécanisme donne un avantage au proxy MySQL.
  </p>
  <p class="para">
   Un proxy MySQL fonctionne au dessus de la couche physique. Avec un
   proxy MySQL, vous devez analyser et effectuer du &quot;reverse engineering&quot;
   du protocole client serveur MySQL. Les actions sont limitées à celles
   qui peuvent être effectuées par la manipulation du protocole
   de communication. Si la couche physique change (ce qui arrive très rarement),
   les scripts du proxy MySQL peut devoir être adaptés.
  </p>
  <p class="para">
   Les plugins <code class="literal">Mysqlnd</code> fonctionnent au dessus de l&#039;API C,
   reflétant ainsi les APIs client <code class="literal">libmysqlclient</code>.
   Cette API C est essentiellement un wrapper du protocole Serveur Client MySQL,
   ou de la couche physique, vu qu&#039;elle est appelée quelques fois. Vous pouvez
   intercepter tous les appels à l&#039;API C. PHP utilise l&#039;API C, toutefois,
   vous pouvez connecter tous les appels PHP, sans avoir besoin de programmer
   au niveau de la couche physique.
  </p>
  <p class="para">
   <code class="literal">Mysqlnd</code> implémente la couche physique. Les plugins
   peuvent toutefois analyser, effectuer un &quot;reverse engineering&quot;, manipuler
   et toujours remplacer le protocole de communication. Cependant, ce n&#039;est
   généralement pas nécessaire.
  </p>
  <p class="para">
   Vu que les plugins vous autorisent à créer des implémentations qui
   utilisent les 2 niveaux (API C et couche physique), ils ont plus de flexibilité
   que le proxy MySQL. Si un plugin <code class="literal">mysqlnd</code> est implémenté
   en utilisant l&#039;API C, toutes les modifications ultérieures à la couche
   physique ne nécessiteront pas de modification au plugin en tant que tel.
  </p>
 </div></div></div></body></html>