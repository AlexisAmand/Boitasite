<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>La classe EventListener</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="eventhttprequest.sendreplystart.html">« EventHttpRequest::sendReplyStart</a></li>
      <li style="float: right;"><a href="eventlistener.construct.html">EventListener::__construct »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.event.html">Event</a></li>
    <li>La classe EventListener</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.eventlistener" class="reference">
 <h1 class="title">La classe EventListener</h1>
 
 <div class="partintro"><p class="verinfo">(PECL event &gt;= 1.5.0)</p>

  <div class="section" id="eventlistener.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Représente une écoute de connexion.
   </p>
  </div>

  <div class="section" id="eventlistener.synopsis">
   <h2 class="title">Synopsis de la classe</h2>


   <div class="classsynopsis">
    <div class="ooclass">
     
    </div>

    <div class="classsynopsisinfo">
     <span class="ooclass">
      <span class="modifier">final</span>
      <strong class="classname">EventListener</strong>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constants */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.eventlistener.html#eventlistener.constants.opt-leave-sockets-blocking"><var class="varname">OPT_LEAVE_SOCKETS_BLOCKING</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.eventlistener.html#eventlistener.constants.opt-close-on-free"><var class="varname">OPT_CLOSE_ON_FREE</var></a></var>
     <span class="initializer"> = 2</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.eventlistener.html#eventlistener.constants.opt-close-on-exec"><var class="varname">OPT_CLOSE_ON_EXEC</var></a></var>
     <span class="initializer"> = 4</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.eventlistener.html#eventlistener.constants.opt-reuseable"><var class="varname">OPT_REUSEABLE</var></a></var>
     <span class="initializer"> = 8</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.eventlistener.html#eventlistener.constants.opt-threadsafe"><var class="varname">OPT_THREADSAFE</var></a></var>
     <span class="initializer"> = 16</span>
    ;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Propriétés */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.eventlistener.html#eventlistener.props.fd">$<var class="varname">fd</var></a></var>
    ;</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Méthodes */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="methodname"><a href="eventlistener.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam">
    <span class="type"><a href="class.eventbase.html" class="type EventBase">EventBase</a></span>
     <code class="parameter">$base</code>
   </span>
   , <span class="methodparam">
    <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>
     <code class="parameter">$cb</code>
   </span>
   , <span class="methodparam">
    <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
     <code class="parameter">$data</code>
   </span>
   , <span class="methodparam">
    <span class="type">int</span>
     <code class="parameter">$flags</code>
   </span>
   , <span class="methodparam">
    <span class="type">int</span>
     <code class="parameter">$backlog</code>
   </span>
   , <span class="methodparam">
    <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
     <code class="parameter">$target</code>
   </span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   
   <span class="methodname"><a href="eventlistener.disable.html" class="methodname">disable</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   
   <span class="methodname"><a href="eventlistener.enable.html" class="methodname">enable</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   
   <span class="methodname"><a href="eventlistener.getbase.html" class="methodname">getBase</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="modifier">static</span>
   
   <span class="methodname"><a href="eventlistener.getsocketname.html" class="methodname">getSocketName</a></span>
    ( <span class="methodparam">
    <span class="type">string</span>
     <code class="parameter reference">&$address</code>
   </span>
   [, <span class="methodparam">
    <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
     <code class="parameter reference">&$port</code>
   </span>
  ] ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   
   <span class="methodname"><a href="eventlistener.setcallback.html" class="methodname">setCallback</a></span>
    ( <span class="methodparam">
    <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>
     <code class="parameter">$cb</code>
   </span>
   [, <span class="methodparam">
    <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span>
     <code class="parameter">$arg</code>
    <span class="initializer"> = <strong><code>NULL</code></strong></span>
   </span>
  ] ) : <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   
   <span class="methodname"><a href="eventlistener.seterrorcallback.html" class="methodname">setErrorCallback</a></span>
    ( <span class="methodparam">
    <span class="type">string</span>
     <code class="parameter">$cb</code>
   </span>
   ) : <span class="type"><span class="type void">void</span></span></div>

   }</div>

  </div>
  <div class="section" id="eventlistener.props">
   <h2 class="title">Propriétés</h2>
   <dl>

    
     <dt id="eventlistener.props.fd">
      <var class="varname">fd</var>
     </dt>

     <dd>

      <p class="para">
       Descripteur de fichier numérique du socket sous-jacent
       (Ajout en <code class="literal">event-1.6.0</code>).
      </p>
     </dd>

    
   </dl>

  </div>

  <div class="section" id="eventlistener.constants">
   <h2 class="title">Constantes pré-définies</h2>
   <dl>

    
     <dt id="eventlistener.constants.opt-leave-sockets-blocking">
      <strong><code>EventListener::OPT_LEAVE_SOCKETS_BLOCKING</code></strong>
     </dt>

     <dd>

      <p class="para">
       Par défaut, Libevent passe en mode non bloquant les descripteurs
       de fichiers ou sockets sous-jacents. Ce drapeau indique à Libevent de les laisser en mode bloquant.
      </p>
     </dd>

    
    
     <dt id="eventlistener.constants.opt-close-on-free">
      <strong><code>EventListener::OPT_CLOSE_ON_FREE</code></strong>
     </dt>

     <dd>

      <p class="para">
       Si cette option est définie, l&#039;écoute de la connexion ferme son
       socket sous-jacent lorsque l&#039;objet <strong class="classname">EventListener</strong>
       est libéré.
      </p>
     </dd>

    
    
     <dt id="eventlistener.constants.opt-close-on-exec">
      <strong><code>EventListener::OPT_CLOSE_ON_EXEC</code></strong>
     </dt>

     <dd>

      <p class="para">
       Si cette option est définie, l&#039;écoute de la connexion définit
       le drapeau de fermeture à l&#039;exécution sur le socket d&#039;écoute
       sous-jacent. Voir la documentation de la plateforme
       pour plus d&#039;informations sur <code class="literal">fcntl</code> et
       <strong><code>FD_CLOEXEC</code></strong>.
      </p>
     </dd>

    
    
     <dt id="eventlistener.constants.opt-reuseable">
      <strong><code>EventListener::OPT_REUSEABLE</code></strong>
     </dt>

     <dd>

      <p class="para">
       Par défaut sur quelques plateformes, une fois qu&#039;un socket d&#039;écoute
       est fermé, aucun autre socket ne peut être lié sur le même port
       tant qu&#039;un certain temps ne s&#039;est pas écoulé. Le fait de définir
       cette option fait que Libevent va marquer ce socket comme réutilisable,
       aussi, une fois clos, un autre socket  peut être ouvert pour écouter
       le même port.
      </p>
     </dd>

    
    
     <dt id="eventlistener.constants.opt-threadsafe">
      <strong><code>EventListener::OPT_THREADSAFE</code></strong>
     </dt>

     <dd>

      <p class="para">
       Verrouillage de l&#039;allocation pour l&#039;écouteur ; ainsi, il est
       sécurisé de l&#039;utiliser depuis plusieurs threads.
      </p>
     </dd>

    
   </dl>

  </div>

 </div>

 


























































<h2>Sommaire</h2><ul class="chunklist chunklist_reference"><li><a href="eventlistener.construct.html">EventListener::__construct</a> — Cr&eacute;e un nouvel &eacute;couteur de connexion associ&eacute; avec la base d'&eacute;v&eacute;nement</li><li><a href="eventlistener.disable.html">EventListener::disable</a> — D&eacute;sactive un objet d'&eacute;coute d'&eacute;v&eacute;nement de connexion</li><li><a href="eventlistener.enable.html">EventListener::enable</a> — Active un objet d'&eacute;coute d'&eacute;v&eacute;nement de connexion</li><li><a href="eventlistener.getbase.html">EventListener::getBase</a> — Retourne la base d'&eacute;v&eacute;nement associ&eacute;e avec l'&eacute;couteur d'&eacute;v&eacute;nements</li><li><a href="eventlistener.getsocketname.html">EventListener::getSocketName</a> — R&eacute;cup&egrave;re l'adresse courant pour laquelle le socket d'&eacute;coute est li&eacute;</li><li><a href="eventlistener.setcallback.html">EventListener::setCallback</a> — Le but de setCallback</li><li><a href="eventlistener.seterrorcallback.html">EventListener::setErrorCallback</a> — D&eacute;finit la fonction de rappel sur l'&eacute;v&egrave;nement d'erreur</li></ul>
</div>
</div></div></body></html>