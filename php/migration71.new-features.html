<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Nouvelles fonctionnalit&eacute;s</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="migration71.html">« Migration de PHP 7.0.x vers PHP 7.1.x</a></li>
      <li style="float: right;"><a href="migration71.new-functions.html">Nouvelles fonctions »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="migration71.html">Migration de PHP 7.0.x vers PHP 7.1.x</a></li>
    <li>Nouvelles fonctionnalit&eacute;s</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="migration71.new-features" class="sect1">
 <h2 class="title">Nouvelles fonctionnalités</h2>

 <div class="sect2" id="migration71.new-features.nullable-types">
  <h3 class="title">Type nullable</h3>

  <p class="para">
   La déclaration des types de paramètre et de valeur de retour peuvent désormais
   être marqués en tant que nullable en préfixant le nom du type avec un point d&#039;interrogation.
   Ceci signifie que le type spécifié aussi bien que <strong><code>NULL</code></strong> peuvent être passés comme argument,
   ou retournés en tant que valeur, respectivement.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">():&nbsp;?</span><span style="color: #0000BB">string<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'elePHPant'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">());<br /><br />function&nbsp;</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">():&nbsp;?</span><span style="color: #0000BB">string<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">testReturn</span><span style="color: #007700">());<br /><br />function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">(?</span><span style="color: #0000BB">string&nbsp;$name</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #DD0000">'elePHPant'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">test</span><span style="color: #007700">(</span><span style="color: #0000BB">null</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">test</span><span style="color: #007700">();</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string(10) &quot;elePHPant&quot;
NULL
string(10) &quot;elePHPant&quot;
NULL
Uncaught Error: Too few arguments to function test(), 0 passed in...
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.void-functions">
  <h3 class="title">Fonctions Void</h3>

  <p class="para">
   Le type de retour <span class="type"><span class="type void">void</span></span> à été introduit. Fonction déclaré avec void
   en tant que leur type de retour doivent soit ommettre la déclaration de retour
   entièrement, ou utiliser une déclaration de retour vide.
   <strong><code>NULL</code></strong> n&#039;est pas un type de retour valide pour une fonction void.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">swap</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$left</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$right</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">void<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$left&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$right</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$tmp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$left</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$left&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$right</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$right&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$tmp</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">swap</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">);</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
null
int(2)
int(1)
</pre></div>
   </div>
  </div>

  <p class="para">
   Essayer d&#039;utiliser la valeur de retour d&#039;une fonction void évalue simplement
   à <strong><code>NULL</code></strong>, sans avertissement émit. La raison pour ceci est qu&#039;un avertissement
   impliquerait l&#039;usage de fonction générique d&#039;ordre supérieur.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.symmetric-array-destructuring">
  <h3 class="title">Déconstruction symétrique de tableau</h3>

  <p class="para">
   L&#039;abréviation de la syntaxe array <code class="literal">[]</code> peut désormais
   être utilisée pour déconstruire des <a href="language.types.array.html" class="link">tableau</a>x pour des affectations
   (y compris au sein de <code class="literal">foreach</code>), à la place de la
   syntaxe existante <span class="function"><a href="function.list.html" class="function">list()</a></span>, qui est toujours supporté.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$data&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Tom'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Fred'</span><span style="color: #007700">],<br />];<br /><br /></span><span style="color: #FF8000">//&nbsp;list()&nbsp;style<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$id1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name1</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;[]&nbsp;style<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">$id1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;list()&nbsp;style<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;logic&nbsp;here&nbsp;with&nbsp;$id&nbsp;and&nbsp;$name<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;[]&nbsp;style<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;[</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;logic&nbsp;here&nbsp;with&nbsp;$id&nbsp;and&nbsp;$name<br /></span><span style="color: #007700">}</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.class-constant-visibility">
  <h3 class="title">Visbilité des constantes de classes</h3>

  <p class="para">
   Le support pour spécifier la visbilité des constantes de classes a été ajouté.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ConstDemo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">PUBLIC_CONST_A&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;const&nbsp;</span><span style="color: #0000BB">PUBLIC_CONST_B&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;const&nbsp;</span><span style="color: #0000BB">PROTECTED_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;const&nbsp;</span><span style="color: #0000BB">PRIVATE_CONST&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.iterable-pseudo-type">
  <h3 class="title">Le pseudo-type <span class="type"><a href="language.types.iterable.html" class="type iterable">iterable</a></span></h3>

  <p class="para">
   Un nouveau pseudo-type (similaire à <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>) appellé
   <span class="type"><a href="language.types.iterable.html" class="type iterable">iterable</a></span> a été introduit. Il peut être utilisé aves les
   paramètres et retour typés, où il accepte soit des <a href="language.types.array.html" class="link">tableau</a> soit des
   objets qui implémentent l&#039;interface <a href="class.traversable.html" class="classname">Traversable</a>.
   En ce qui concerne le sous-typage, les types de paramètres des classes
   enfant peuvent élargir une déclaration d&#039;un parent de <span class="type"><a href="language.types.array.html" class="type array">array</a></span>
   ou <a href="class.traversable.html" class="classname">Traversable</a> en <span class="type"><a href="language.types.iterable.html" class="type iterable">iterable</a></span>.
   Avec les types de retour, les classes enfant peuvent restreindre le type de
   retour <span class="type"><a href="language.types.iterable.html" class="type iterable">iterable</a></span> du parent en <span class="type"><a href="language.types.array.html" class="type array">array</a></span> ou
   un objet qui implémente <a href="class.traversable.html" class="classname">Traversable</a>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">iterator</span><span style="color: #007700">(</span><span style="color: #0000BB">iterable&nbsp;$iter</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$iter&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.mulit-catch-exception-handling">
  <h3 class="title">Gestion du catch de plusieurs exceptions</h3>

  <p class="para">
   Plusieurs exceptions par bloc catch peuvent désormais être spécifié en
   utilisant le charactère barre verticale (<code class="literal">|</code>). 
   Ceci est utile quand différentes exception sont gérées de façon identique.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;du&nbsp;code<br /></span><span style="color: #007700">}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">FirstException&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">SecondException&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;gère&nbsp;les&nbsp;exceptions&nbsp;first&nbsp;et&nbsp;second<br /></span><span style="color: #007700">}</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-keys-in-list">
  <h3 class="title">Support des clés dans <span class="function"><a href="function.list.html" class="function">list()</a></span></h3>

  <p class="para">
   Il est désormais possible de spécifier des clés dans <span class="function"><a href="function.list.html" class="function">list()</a></span>,
   ou sa nouvelle syntaxe abréviée <code class="literal">[]</code>. Ceci permet la
   déconstruction des tableaux qui ont des clés non entières ou non séquentielles.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$data&nbsp;</span><span style="color: #007700">=&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Tom'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;[</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Fred'</span><span style="color: #007700">],<br />];<br /><br /></span><span style="color: #FF8000">//&nbsp;list()&nbsp;style<br /></span><span style="color: #007700">list(</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$id1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$name1</span><span style="color: #007700">)&nbsp;=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;[]&nbsp;style<br /></span><span style="color: #007700">[</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$id1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$name1</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;list()&nbsp;style<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;list(</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;logique&nbsp;ici&nbsp;avec&nbsp;$id&nbsp;et&nbsp;$name<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;[]&nbsp;style<br /></span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">as&nbsp;[</span><span style="color: #DD0000">"id"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$id</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;logique&nbsp;ici&nbsp;avec&nbsp;$id&nbsp;et&nbsp;$name<br /></span><span style="color: #007700">}</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-negative-string-offsets">
  <h3 class="title">Support pour les positions négatives des <a href="language.types.string.html" class="link">chaîne de caractères</a></h3>

  <p class="para">
   Support pour les positions négatives des <a href="language.types.string.html" class="link">chaîne de caractères</a> a été ajouté aux
   <a href="book.strings.html" class="link">fonctions de manipulation de <a href="language.types.string.html" class="link">chaîne de caractères</a></a>
   qui accepte une position, ainsi qu&#039;a
   <a href="language.types.string.html#language.types.string.substr" class="link">l&#039;indexation de <a href="language.types.string.html" class="link">chaîne de caractères</a></a>
   avec <code class="literal">[]</code> ou <code class="literal">{}</code>. Dans de tel cas, une
   position négative est interprété comme une position en partant de la fin
   de la <a href="language.types.string.html" class="link">chaîne de caractères</a>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">"abcdef"</span><span style="color: #007700">[-</span><span style="color: #0000BB">2</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #DD0000">"aabbcc"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"</span><span style="color: #007700">,&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">));</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string (1) &quot;e&quot;
int(3)
</pre></div>
   </div>
  </div>

  <p class="para">
   Les positions négative des <a href="language.types.string.html" class="link">chaîne de caractères</a> et <a href="language.types.array.html" class="link">tableau</a>x sont aussi supportées
   avec la syntaxe simple d&#039;analyse dans les <a href="language.types.string.html" class="link">chaîne de caractères</a>.
  </p>
  
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$string&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"Le&nbsp;dernier&nbsp;charactère&nbsp;de&nbsp;'</span><span style="color: #0000BB">$string</span><span style="color: #DD0000">'&nbsp;est&nbsp;'</span><span style="color: #0000BB">$string</span><span style="color: #007700">[-</span><span style="color: #0000BB">1</span><span style="color: #007700">]</span><span style="color: #DD0000">'.\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
Le dernier charactère de &#039;bar&#039; est &#039;r&#039;.
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.support-for-aead-in-ext-openssl">
  <h3 class="title">Support pour AEAD dans ext/openssl</h3>

  <p class="para">
   Support pour AEAD (modes GCM et CCM) a été ajouté en étendant les fonctions
   <span class="function"><a href="function.openssl-encrypt.html" class="function">openssl_encrypt()</a></span> et
   <span class="function"><a href="function.openssl-decrypt.html" class="function">openssl_decrypt()</a></span> avec des paramètres additionels.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.convert-callables-to-closures">
  <h3 class="title">Convertir des callables en <a href="class.closure.html" class="classname">Closure</a>s avec <span class="methodname"><a href="closure.fromcallable.html" class="methodname">Closure::fromCallable()</a></span></h3>

  <p class="para">
   Une nouvelle méthode statique a été indroduite à la classe
   <a href="class.closure.html" class="classname">Closure</a> pour permettre des <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span>s
   d&#039;être facilement convertit en objet <a href="class.closure.html" class="classname">Closure</a>.
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Test<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">exposeFunction</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">Closure</span><span style="color: #007700">::</span><span style="color: #0000BB">fromCallable</span><span style="color: #007700">([</span><span style="color: #0000BB">$this</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'privateFunction'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">privateFunction</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$param</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$privFunc&nbsp;</span><span style="color: #007700">=&nbsp;(new&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">exposeFunction</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$privFunc</span><span style="color: #007700">(</span><span style="color: #DD0000">'some&nbsp;value'</span><span style="color: #007700">);</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
string(10) &quot;some value&quot;
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.asynchronous-signal-handling">
  <h3 class="title">Gestion des signaux asynchrones</h3>

  <p class="para">
   Une nouvelle fonction appellé <span class="function"><a href="function.pcntl-async-signals.html" class="function">pcntl_async_signals()</a></span>
   a été introduite pour permettre la gestion des signaux asynchrones sans
   utiliser les ticks (ce qui introduisait beaucoup de surcoût).
  </p>

  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />pcntl_async_signals</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;activer&nbsp;les&nbsp;signaux&nbsp;asynchrones<br /><br /></span><span style="color: #0000BB">pcntl_signal</span><span style="color: #007700">(</span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">,&nbsp;&nbsp;function(</span><span style="color: #0000BB">$sig</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"SIGHUP\n"</span><span style="color: #007700">;<br />});<br /><br /></span><span style="color: #0000BB">posix_kill</span><span style="color: #007700">(</span><span style="color: #0000BB">posix_getpid</span><span style="color: #007700">(),&nbsp;</span><span style="color: #0000BB">SIGHUP</span><span style="color: #007700">);</span>
</span>
</code></div>
   </div>

   <p class="para">L&#039;exemple ci-dessus va afficher :</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
SIGHUP
</pre></div>
   </div>
  </div>
 </div>

 <div class="sect2" id="migration71.new-features.http2-server-push-support-in-ext-curl">
  <h3 class="title">Support des push serveur HTTP/2 dans ext/curl</h3>

  <p class="para">
   Suport pour les push serveur a été ajouté à l&#039;extension CURL (nécessite
   la version 7.46 ou ultérieur). Ceci peut être exploité à travers la
   fonction <span class="function"><a href="function.curl-multi-setopt.html" class="function">curl_multi_setopt()</a></span> avec la nouvelle
   constante <strong><code>CURLMOPT_PUSHFUNCTION</code></strong>. Les constantes
   <strong><code>CURL_PUSH_OK</code></strong> et <strong><code>CURL_PUSH_DENY</code></strong>
   ont aussi été ajouté pour que l&#039;exécution de la fonction de rappel du
   push serveur peuvent être approuvé ou refusé.
  </p>
 </div>

 <div class="sect2" id="migration71.new-features.stream-context-options">
  <h3 class="title">Options du Contexte de Flux (Stream Context Options)</h3>

  <p class="para">
   L&#039;option du contexte de flux <a href="context.socket.html#context.socket.tcp_nodelay" class="link">tcp_nodelay</a>
   a été ajouté.
  </p>
 </div>

</div></div></div></body></html>