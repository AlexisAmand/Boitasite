<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Convertit une image en couleurs vraies en image &agrave; palette</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imagesy.html">« imagesy</a></li>
      <li style="float: right;"><a href="function.imagettfbbox.html">imagettfbbox »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">Fonctions GD et images</a></li>
    <li>Convertit une image en couleurs vraies en image &agrave; palette</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagetruecolortopalette" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagetruecolortopalette</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">imagetruecolortopalette</span> &mdash; <span class="dc-title">Convertit une image en couleurs vraies en image à palette</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagetruecolortopalette-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imagetruecolortopalette</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$dither</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$ncolors</code></span>
   ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagetruecolortopalette()</strong></span> convertit l&#039;image
   en vraies couleurs <code class="parameter">image</code> en image à palette.
   Le code de cette fonction est directement tiré de la bibliothèque du
   <code class="literal">Independent JPEG Group</code>, qui est tout simplement génial.
   Le code a été modifié pour préserver l&#039;essentiel du canal alpha dans la nouvelle
   palette, en plus de conserver les couleurs du mieux possible. Mais
   cela ne fonctionne pas toujours comme voulu. Il est alors préférable
   de générer un résultat en vraies couleurs, ce qui donne toujours le
   meilleur rendu.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.imagetruecolortopalette-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    <dt>
<code class="parameter">
    image</code></dt>
<dd>
<p class="para">Une ressource d&#039;image, retournée
    par une des fonctions de création d&#039;images, comme <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.
</p></dd>

    
     <dt>
<code class="parameter">dither</code></dt>

     <dd>

      <p class="para">
       Indique si l&#039;image doit être granuleuse - si défini à <strong><code>TRUE</code></strong>,
       alors l&#039;image sera un peu plus granuleuse mais l&#039;approximation
       des couleurs sera meilleure.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ncolors</code></dt>

     <dd>

      <p class="para">
       Le nombre maximal de couleurs dans la palette finale.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.imagetruecolortopalette-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Cette fonction retourne <strong><code>TRUE</code></strong> en cas de succès ou <strong><code>FALSE</code></strong> si une erreur survient.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.imagetruecolortopalette-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-3363">
    <p><strong>Exemple #1 Convertion d&#039;une image truecolor en une palette</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Création&nbsp;d'une&nbsp;image&nbsp;truecolor<br /></span><span style="color: #0000BB">$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Conversion&nbsp;en&nbsp;palette&nbsp;de&nbsp;255&nbsp;couleurs<br /></span><span style="color: #0000BB">imagetruecolortopalette</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Sauvegarde&nbsp;de&nbsp;l'image<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./paletteimage.png'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
</div></div></div></body></html>