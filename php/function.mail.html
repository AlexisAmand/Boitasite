<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Envoi de mail</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.ezmlm-hash.html">« ezmlm_hash</a></li>
      <li style="float: right;"><a href="book.mailparse.html">Mailparse »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.mail.html">Fonctions Mail</a></li>
    <li>Envoi de mail</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.mail" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mail</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">mail</span> &mdash; <span class="dc-title">Envoi de mail</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.mail-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mail</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$to</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$subject</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$message</code></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$additional_headers</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$additional_parameters</code></span>
  ]] ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Envoie un mail.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.mail-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">to</code></dt>

     <dd>

      <p class="para">
       Le ou les destinataires du mail.
      </p>
      <p class="para">
       Le formatage de cette chaîne doit correspondre avec la 
       <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&raquo;&nbsp;RFC 2822</a>. Voici quelques exemples :
       <ul class="simplelist">
        <li class="member">destinataire@example.com</li>
        <li class="member">destinataire@example.com, autre_destinataire@example.com</li>
        <li class="member">Destinataire &lt;destinataire@example.com&gt;</li>
        <li class="member">Destinataire &lt;destinataire@example.com&gt;, Autre destinataire &lt;autre_destinataire@example.com&gt;</li>
       </ul>
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">subject</code></dt>

     <dd>

      <p class="para">
       Sujet du mail à envoyer.
      </p>
      <div class="caution"><strong class="caution">Attention</strong>
       <p class="para">
        Le sujet doit satisfaire à la <a href="http://www.faqs.org/rfcs/rfc2047" class="link external">&raquo;&nbsp;RFC 2047</a>.
       </p>
      </div>
     </dd>

    
    
     <dt>
<code class="parameter">message</code></dt>

     <dd>

      <p class="para">
       Message à envoyer.
      </p>
      <p class="para">
       Chaque ligne doit être séparée par un caractère <code class="literal">CRLF</code>
       (<code class="literal">\r\n</code>). Les lignes ne doivent pas comporter plus de 70 caractères.
      </p>
      <div class="caution"><strong class="caution">Attention</strong>
       <p class="para">
        (Windows uniquement) Lorsque PHP discute directement avec un serveur
        SMTP, si un point est trouvé en début de ligne, il sera supprimé.
        Pour éviter ce comportement, remplacez ces occurrences par un double
        point.
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">"\n."</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n.."</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

       </p>
      </div>
     </dd>

    
    
     <dt>
<code class="parameter">additional_headers</code> (optionnel)</dt>

     <dd>

      <p class="para">
       <span class="type"><a href="language.types.string.html" class="type String">String</a></span> ou <span class="type"><a href="language.types.array.html" class="type array">array</a></span> à insérer à la fin des en-têtes du mail.
      </p>
      <p class="para">
       Ce paramètre est typiquement utilisé pour ajouter des en-têtes supplémentaires
       (From, Cc et Bcc). Les en-têtes supplémentaires doivent être
       séparés par un caractère <code class="literal">CRLF</code> (<code class="literal">\r\n</code>).
       Si des données externes sont utilisées pour composer cet en-tête, elles doivent
       être d&#039;abord nettoyées afin de ne pas injecter des données non désirées
       dans les en-têtes.
      </p>
      <p class="para">
       Si un <span class="type"><a href="language.types.array.html" class="type array">array</a></span> est passé, ses clés sont les noms d&#039;en-tête et 
       ses valeurs sont les valeurs d&#039;en-tête respectives.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Avant PHP 5.4.42 et 5.5.27, respectivement, 
        <code class="parameter">additional_headers</code> n&#039;avait pas de protection 
        d&#039;injection en-tête de messagerie. Par conséquent, les utilisateurs 
        doivent s&#039;assurer que les en-têtes spécifiés sont sûrs et contiennent 
        uniquement des en-têtes. C&#039;est à dire ne jamais démarrer le corps du 
        courrier en mettant plusieurs sauts.
       </p>
      </p></blockquote> 
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Lors de l&#039;envoi d&#039;un mail, le mail <em class="emphasis">doit</em>
        contenir un en-tête <code class="literal">From</code>. Il peut être
        défini par le paramètre <code class="parameter">additional_headers</code>, 
        ou un par défaut peut être défini dans le <var class="filename">php.ini</var>.
       </p>
       <p class="para">
        Ne pas faire ceci causera un message d&#039;erreur similaire à
        <code class="literal">Warning: mail(): &quot;sendmail_from&quot; not
         set in php.ini or custom &quot;From:&quot; header missing</code>.
        L&#039;en-tête <code class="literal">From</code>, sous Windows, définit également l&#039;en-tête
        <code class="literal">Return-Path</code>.
       </p>
      </p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Si le message n&#039;est pas reçu, essayez d&#039;utiliser uniquement un caractère
        <code class="literal">LF</code> (<code class="literal">\n</code>).
        Quelques agents de transfert de mail Unix (par exemple
        <a href="http://cr.yp.to/qmail.html" class="link external">&raquo;&nbsp;qmail</a>)
        remplacent le caractère <code class="literal">LF</code> par le 
        caractère <code class="literal">CRLF</code> automatiquement
        (ce qui revient à doubler le caractère <code class="literal">CR</code>
        si le caractère <code class="literal">CRLF</code> est utilisé).
        Ceci doit être un dernier recours car cela ne correspond pas
        à la <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&raquo;&nbsp;RFC 2822</a>.
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">additional_parameters</code> (optionnel)</dt>

     <dd>

      <p class="para">
       Le paramètre <code class="parameter">additional_parameters</code>
       peut être utilisé pour passer des drapeaux additionnels comme options
       à la ligne de commande configurée pour être utilisée pour envoyer les
       mails en utilisant le paramètre de configuration <code class="literal">sendmail_path</code>.
       Par exemple, ceci peut être utilisé pour définir l&#039;adresse
       d&#039;expéditeur de l&#039;enveloppe lors de l&#039;utilisation de sendmail avec l&#039;option 
       <code class="literal">-f</code>.
      </p>
      <p class="para">
       Ce paramètre est échappé par la fonction <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span> en interne
       afin de prévenir l&#039;exécution d&#039;une commande. La fonction <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span>
       empêche l&#039;exécution d&#039;une commande, mais autorise l&#039;ajout de paramètres supplémentaires.
       Pour des raisons de sécurité, il est recommandé pour l&#039;utilisateur de nettoyer ce paramètre
       afin d&#039;éviter l&#039;ajout de paramètres non désirés à la commande shell.
      </p>
      <p class="para">
       Depuis que la fonction <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span> est appliquée automatiquement,
       quelques caractères autorisés dans les adresses emails par les RFCs d&#039;internet ne peuvent
       plus être utilisés. La fonction <span class="function"><strong>mail()</strong></span> ne peut autoriser ces caractères,
       aussi, dans les programme où leur utilisation est nécessaire, vous devriez utiliser
       une méthode alternative pour l&#039;envoi des emails (comme l&#039;utilisation d&#039;un framework
       ou d&#039;une librairie.
      </p>
      <p class="para">
       L&#039;utilisateur sous lequel tourne le serveur web doit être ajouté en tant qu&#039;utilisateur de confiance
       dans la configuration de sendmail afin que l&#039;en-tête <code class="literal">X-Warning</code>
       ne soit pas ajouté au message lorsque l&#039;expéditeur de l&#039;enveloppe (-f) est
       défini en utilisant cette méthode. Pour les utilisateurs de sendmail, ce fichier est
       <var class="filename">/etc/mail/trusted-users</var>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.mail-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne <strong><code>TRUE</code></strong> si le mail a été accepté pour livraison, <strong><code>FALSE</code></strong> sinon.
  </p>
  <p class="para">
   Il est important de noter que ce n&#039;est pas parce que le mail a été accepté pour livraison
   qu&#039;il arrivera à destination.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.mail-changelog">
  <h3 class="title">Historique</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.2.0</td>
       <td>
        Le paramètre <code class="parameter">additional_headers</code> accepte maintenant 
        les <span class="type"><a href="language.types.array.html" class="type array">array</a></span>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.mail-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-3678">
    <p><strong>Exemple #1 Envoi d&#039;un mail</strong></p>
    <div class="example-contents"><p>
     Utilisation de la fonction <span class="function"><strong>mail()</strong></span> pour envoyer un mail simple :
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Le&nbsp;message<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Line&nbsp;1\r\nLine&nbsp;2\r\nLine&nbsp;3"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Dans&nbsp;le&nbsp;cas&nbsp;où&nbsp;nos&nbsp;lignes&nbsp;comportent&nbsp;plus&nbsp;de&nbsp;70&nbsp;caractères,&nbsp;nous&nbsp;les&nbsp;coupons&nbsp;en&nbsp;utilisant&nbsp;wordwrap()<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">wordwrap</span><span style="color: #007700">(</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">70</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Envoi&nbsp;du&nbsp;mail<br /></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'caffeinated@example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Mon&nbsp;Sujet'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3679">
    <p><strong>Exemple #2 Envoi d&#039;un mail avec des en-têtes supplémentaires</strong></p>
    <div class="example-contents"><p>
     L&#039;ajout d&#039;en-têtes simples, spécifiant au MUA les adresses
     <code class="literal">&quot;From&quot;</code> et <code class="literal">&quot;Reply-To&quot;</code> :
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'personne@example.com'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$subject&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'le&nbsp;sujet'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Bonjour&nbsp;!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'From:&nbsp;webmaster@example.com'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Reply-To:&nbsp;webmaster@example.com'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\r\n"&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'X-Mailer:&nbsp;PHP/'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">phpversion</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">);<br />&nbsp;</span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3680">
    <p><strong>Exemple #3 Envoi d&#039;un mail avec un <span class="type"><a href="language.types.array.html" class="type array">array</a></span> d&#039;en-têtes supplémentaires</strong></p>
    <div class="example-contents"><p>
     Cet exemple envoie le même courrier que l&#039;exemple ci-dessus, mais passe 
     les en-têtes supplémentaires en tant que tableau (disponible depuis PHP 
     7.2.0).
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'nobody@example.com'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$subject&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'the&nbsp;subject'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hello'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$headers&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'From'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'webmaster@example.com'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Reply-To'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'webmaster@example.com'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'X-Mailer'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'PHP/'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">phpversion</span><span style="color: #007700">()<br />);<br /><br /></span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3681">
    <p><strong>Exemple #4 Envoi d&#039;un mail avec un paramètre de ligne de commande additionnel</strong></p>
    <div class="example-contents"><p>
     Le paramètre <code class="parameter">additional_parameters</code>
     peut être utilisé pour passer un paramètre additionnel au programme configuré
     à être utilisé pour envoyer les mails en utilisant <code class="literal">sendmail_path</code>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mail</span><span style="color: #007700">(</span><span style="color: #DD0000">'personne@example.com'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'le&nbsp;sujet'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'le&nbsp;message'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'-fwebmaster@example.com'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-3682">
    <p><strong>Exemple #5 Envoi de mail HTML</strong></p>
    <div class="example-contents"><p>
     Il est également possible d&#039;envoyer des mails HTML avec la fonction
     <span class="function"><strong>mail()</strong></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Plusieurs&nbsp;destinataires<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$to&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'johny@example.com,&nbsp;sally@example.com'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;notez&nbsp;la&nbsp;virgule<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Sujet<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$subject&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Calendrier&nbsp;des&nbsp;anniversaires&nbsp;pour&nbsp;Août'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;message<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Calendrier&nbsp;des&nbsp;anniversaires&nbsp;pour&nbsp;Août&lt;/title&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Voici&nbsp;les&nbsp;anniversaires&nbsp;à&nbsp;venir&nbsp;au&nbsp;mois&nbsp;d\'Août&nbsp;!&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Personne&lt;/th&gt;&lt;th&gt;Jour&lt;/th&gt;&lt;th&gt;Mois&lt;/th&gt;&lt;th&gt;Année&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Josiane&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;Août&lt;/td&gt;&lt;td&gt;1970&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;Emma&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;Août&lt;/td&gt;&lt;td&gt;1973&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Pour&nbsp;envoyer&nbsp;un&nbsp;mail&nbsp;HTML,&nbsp;l'en-tête&nbsp;Content-type&nbsp;doit&nbsp;être&nbsp;défini<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'MIME-Version:&nbsp;1.0'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Content-type:&nbsp;text/html;&nbsp;charset=iso-8859-1'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;En-têtes&nbsp;additionnels<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'To:&nbsp;Mary&nbsp;&lt;mary@example.com&gt;,&nbsp;Kelly&nbsp;&lt;kelly@example.com&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'From:&nbsp;Anniversaire&nbsp;&lt;anniversaire@example.com&gt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Cc:&nbsp;anniversaire_archive@example.com'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[]&nbsp;=&nbsp;</span><span style="color: #DD0000">'Bcc:&nbsp;anniversaire_verif@example.com'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Envoi<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">mail</span><span style="color: #007700">(</span><span style="color: #0000BB">$to</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$subject</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">"\r\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$headers</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <p class="para">
     Si vous prévoyez d&#039;envoyer des mails HTML ou autrement plus complexes,
     il est recommandé d&#039;utiliser le paquet PEAR <a href="https://pear.php.net/package/Mail_Mime" class="link external">&raquo;&nbsp;PEAR::Mail_Mime</a>.
    </p>
   </p></blockquote>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mail-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    L&#039;implémentation de la fonction <span class="function"><strong>mail()</strong></span> sous Windows
    diffère de manière significative avec l&#039;implémentation Unix. Tout d&#039;abord, il n&#039;utilise
    pas un programme local pour composer les messages, mais opère uniquement et 
    directement sur les sockets, ce qui signifie qu&#039;un <code class="literal">MTA</code>
    est nécessairement à l&#039;écoute sur un socket du réseau (qui peut être soit
    sur le réseau local ou sur une machine distante).
   </p>
   <p class="para">
    Deuxièmement, les en-têtes personnalisés comme
    <code class="literal">From:</code>,
    <code class="literal">Cc:</code>,
    <code class="literal">Bcc:</code> et
    <code class="literal">Date:</code> ne sont
    <em class="emphasis">pas</em> interprétés par le
    <code class="literal">MTA</code> dans un premier temps, mais sont analysés par PHP.
   </p>
   <p class="para">
    De plus, le paramètre <code class="parameter">to</code> ne doit pas être une adresse
    sous la forme <code class="literal">&quot;Quelque chose &lt;quelqu_un@example.com&gt;&quot;</code>. 
    La commande mail n&#039;analysera pas correctement ceci lors de la discussion
    avec le MTA.
   </p>
  </p></blockquote>

  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Il est important de noter que la fonction <span class="function"><strong>mail()</strong></span> 
    n&#039;est pas conseillée pour traiter de gros volumes de mails dans une boucle.
    Cette fonction ouvre et ferme un socket SMTP pour chaque mail, ce qui n&#039;est
    pas très efficace.
   </p>
   <p class="para">
    Pour envoyer de gros volumes de mails, reportez-vous aux paquets
    <a href="https://pear.php.net/package/Mail" class="link external">&raquo;&nbsp;PEAR::Mail</a> et
    <a href="https://pear.php.net/package/Mail_Queue" class="link external">&raquo;&nbsp;PEAR::Mail_Queue</a>.
   </p>
  </p></blockquote>

  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Les RFC suivantes peuvent être utiles :
    <a href="http://www.faqs.org/rfcs/rfc1896" class="link external">&raquo;&nbsp;RFC 1896</a>,
    <a href="http://www.faqs.org/rfcs/rfc2045" class="link external">&raquo;&nbsp;RFC 2045</a>,
    <a href="http://www.faqs.org/rfcs/rfc2046" class="link external">&raquo;&nbsp;RFC 2046</a>,
    <a href="http://www.faqs.org/rfcs/rfc2047" class="link external">&raquo;&nbsp;RFC 2047</a>,
    <a href="http://www.faqs.org/rfcs/rfc2048" class="link external">&raquo;&nbsp;RFC 2048</a>,
    <a href="http://www.faqs.org/rfcs/rfc2049" class="link external">&raquo;&nbsp;RFC 2049</a> et
    <a href="http://www.faqs.org/rfcs/rfc2822" class="link external">&raquo;&nbsp;RFC 2822</a>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mail-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mb-send-mail.html" class="function" rel="rdfs-seeAlso">mb_send_mail()</a> - Envoie un mail encod&eacute;</span></li>
    <li class="member"><span class="function"><a href="function.imap-mail.html" class="function" rel="rdfs-seeAlso">imap_mail()</a> - Envoie un message mail</span></li>
    <li class="member"><a href="https://pear.php.net/package/Mail" class="link external">&raquo;&nbsp;PEAR::Mail</a></li>
    <li class="member"><a href="https://pear.php.net/package/Mail_Mime" class="link external">&raquo;&nbsp;PEAR::Mail_Mime</a></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>