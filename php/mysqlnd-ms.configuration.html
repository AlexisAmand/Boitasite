<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Configuration &agrave; l'ex&eacute;cution</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqlnd-ms.installation.html">« Installation</a></li>
      <li style="float: right;"><a href="mysqlnd-ms.plugin-ini-json.html">Fichier de configuration du plugin (&gt;=1.1.x) »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mysqlnd-ms.setup.html">Installation/Configuration</a></li>
    <li>Configuration &agrave; l'ex&eacute;cution</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqlnd-ms.configuration" class="section">
 <h2 class="title">Configuration à l&#039;exécution</h2>
 <p class="simpara">Le comportement de ces fonctions est
affecté par la configuration dans le fichier <var class="filename">php.ini</var>.</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>Options de configuration Mysqlnd_ms</strong></caption>
   
    <thead>
     <tr>
      <th>Nom</th>
      <th>Défaut</th>
      <th>Modifiable</th>
      <th>Historique</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.enable" class="link">mysqlnd_ms.enable</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.force-config-usage" class="link">mysqlnd_ms.force_config_usage</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.ini-file" class="link">mysqlnd_ms.ini_file</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.config-file" class="link">mysqlnd_ms.config_file</a></td>
      <td>&quot;&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.collect-statistics" class="link">mysqlnd_ms.collect_statistics</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.multi-master" class="link">mysqlnd_ms.multi_master</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

     <tr>
      <td><a href="mysqlnd-ms.configuration.html#ini.mysqlnd-ms.disable-rw-split" class="link">mysqlnd_ms.disable_rw_split</a></td>
      <td>0</td>
      <td>PHP_INI_SYSTEM</td>
      <td></td>
     </tr>

    </tbody>
   
  </table>

 </p>
 
 <p class="para">Voici un éclaircissement sur
l&#039;utilisation des directives de configuration.</p>
 
 <p class="para">
  <dl>

   
   
    <dt id="ini.mysqlnd-ms.enable">
     <code class="parameter">mysqlnd_ms.enable</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Active ou désactive le plugin. Si désactivé, l&#039;extension ne se branchera pas sur
      <a href="book.mysqlnd.html" class="link">mysqlnd</a> au proxy interne des appels API C
      <a href="book.mysqlnd.html" class="link">mysqlnd</a>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mysqlnd-ms.force-config-usage">
     <code class="parameter">mysqlnd_ms.force_config_usage</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Si activé, le plugin vérifiera si la valeur du paramètre de l&#039;hôte (serveur)
      de chaque tentative de connexion correspond à un nom de section du fichier
      de configuration du plugin. Sinon, la tentative de connexion échouera.
     </p>
     <p class="para">
      Cette option n&#039;est pas seulement utile pour restreindre PHP sur certains
      serveurs mais aussi pour déboger les problèmes de fichier de configuration.
      La validité du fichier de configuration est vérifiée à deux niveaux différents.
      La première vérification est effectuée lorsque PHP commence à gérer une
      requête web. A ce moment là, le plugin lit et décode le fichier de configuration.
      Les erreurs envoyées à ce stade du cycle de vie du plugin ne seront pas montrées
      proprement à l&#039;utilisateur. Aussi, le plugin met en attente les erreurs s&#039;il y en
      a, et ensuite, les affiche lorsque la connexion à MySQL est établie. Par défaut,
      une erreur de démarrage mise en attente va émettre une erreur de type
      <code class="literal">E_WARNING</code>. Si <code class="literal">force_config_usage</code> est défini,
      le type d&#039;erreur utilisé sera <code class="literal">E_RECOVERABLE_ERROR</code>.
     </p>
     <p class="para">
      Voir aussi les <a href="mysqlnd-ms.plugin-ini-json.html#mysqlnd-ms.plugin-ini-json.debug_config" class="link">notes de débogage
      du fichier de configuration</a>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mysqlnd-ms.ini-file">
     <code class="parameter">mysqlnd_ms.ini_file</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Fichier de configuration spécifique au plugin.
      Ce paramètre a été renommé en
      <code class="literal">mysqlnd_ms.config_file</code> en version 1.4.0.
     </p>
    </dd>

   

   
    <dt id="ini.mysqlnd-ms.config-file">
     <code class="parameter">mysqlnd_ms.config_file</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Fichier de configuration spécifique au plugin. Ce paramètre
      prévaut par rapport au paramètre
      <code class="literal">mysqlnd_ms.ini_file</code> depuis la version 1.4.0.
     </p>
    </dd>

   
   
   
    <dt id="ini.mysqlnd-ms.collect-statistics">
     <code class="parameter">mysqlnd_ms.collect_statistics</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Active ou désactive la collecte de statistiques. La collecte
      de statistiques est désactivé par défaut pour des raisons de performance.
      Les statistiques sont retournées avec la fonction
      <span class="function"><a href="function.mysqlnd-ms-get-stats.html" class="function">mysqlnd_ms_get_stats()</a></span>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mysqlnd-ms.multi-master">
     <code class="parameter">mysqlnd_ms.multi_master</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Active ou désactive le support de configuration de plusieurs
      maîtres de réplication MySQL. Voir aussi les
      <a href="mysqlnd-ms.supportedclusters.html" class="link">clusters supportés</a>.
     </p>
    </dd>

   
   
   
    <dt id="ini.mysqlnd-ms.disable-rw-split">
     <code class="parameter">mysqlnd_ms.disable_rw_split</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Active ou désactive la séparation des lectures et des écritures internes.
     </p>
     <p class="para">
      Contrôle la façon dont la balance de charge et les connexions
      paresseuses peuvent être utilisés indépendamment de la séparation
      des lectures et des écritures. Si cette séparation est désactivée,
      seuls les serveurs depuis la liste des maîtres seront utilisés
      pour l&#039;exécution de la requête. Tous les serveurs esclaves seront
      ignorés.
     </p>
     <p class="para">
      L&#039;astuce SQL <code class="literal">MYSQLND_MS_USE_SLAVE</code>
      ne sera pas reconnu. Si elle est trouvée, la requête sera redirigée
      vers un maître.
     </p>
     <p class="para">
      Le fait de désactiver la séparation des lectures et des écritures
      impacte la valeur retournée de la fonction
      <span class="function"><a href="function.mysqlnd-ms-query-is-select.html" class="function">mysqlnd_ms_query_is_select()</a></span>.
      La fonction ne proposera plus l&#039;exécution de la requête sur des serveurs
      esclaves.
     </p>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <strong>Plusieurs serveurs maîtres</strong><br />
      <p class="para">
       Veuillez noter que vous devez définir <code class="literal">mysqlnd_ms.multi_master=1</code>
       pour faire que le plugin considère plus d&#039;un seul maître, premier de la liste
       des maîtres.
      </p>
      <p class="para">
       Veuillez voir aussi les
       <a href="mysqlnd-ms.supportedclusters.html" class="link">clusters supportés</a>.
      </p>
     </p></blockquote>
    </dd>

   
   
  </dl>

 </p>
</div></div></div></body></html>