<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Ouvre une connexion SQLite persistante et cr&eacute;e la base si elle n'existe pas</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sqlite-open.html">« sqlite_open</a></li>
      <li style="float: right;"><a href="function.sqlite-query.html">sqlite_query »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sqlite.html">Fonctions SQLite</a></li>
    <li>Ouvre une connexion SQLite persistante et cr&eacute;e la base si elle n'existe pas</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sqlite-popen" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlite_popen</h1>
  <p class="verinfo">(PHP 5 &lt; 5.4.0, PECL sqlite &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">sqlite_popen</span> &mdash; <span class="dc-title">
   Ouvre une connexion SQLite persistante et crée la base si elle n&#039;existe pas
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.sqlite-popen-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>sqlite_popen</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$mode</code><span class="initializer"> = 0666</span></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter reference">&$error_message</code></span>
  ]] ) : <span class="type">resource</span></div>

  <p class="simpara">
   <span class="function"><strong>sqlite_popen()</strong></span> fonctionne exactement comme
   <span class="function"><a href="function.sqlite-open.html" class="function">sqlite_open()</a></span>, hormis le fait qu&#039;elle utilise le mécanisme
   de ressources persistantes de PHP. Pour des détails sur la signification
   des paramètres, voyez la fonction <span class="function"><a href="function.sqlite-open.html" class="function">sqlite_open()</a></span>.
  </p>
  <p class="para">
   <span class="function"><strong>sqlite_popen()</strong></span> va d&#039;abord vérifier qu&#039;il reste une connexion
   persistante déjà ouverte pour le fichier <code class="parameter">filename</code>.
   Si elle peut en trouver une, elle l&#039;utilisera et, sinon, elle ouvrira une nouvelle connexion.
  </p>
  <p class="para">
   L&#039;intérêt de cette méthode est que vous évitez de relire la base, les schémas
   de tables et d&#039;index, pour chaque page exécutée par un serveur web SAPI
   persistant (tous les SAPI, sauf les CGI et CLI).
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Si vous utilisez une connexion persistante et que la base de données est
    modifiée par un autre processus (via une table de cron, par exemple), et
    que le processus recrée la base en l&#039;écrasant, soit par effacement et reconstruction,
    ou par déplacement d&#039;une nouvelle version à la place de l&#039;ancienne,
    vous pourriez obtenir des comportements inattendus lorsque vous utiliserez
    une vielle connexion persistante sur une nouvelle base.
   </span>
   <span class="simpara">
    Pour éviter cette situation, faites en sorte que vos processus parallèles ouvrent
    les bases et fassent leurs modifications dans une transaction.
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.sqlite-popen-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       Le nom du fichier de la base de données SQLite. Si le fichier n&#039;existe
       pas, SQLite tentera de le créer. PHP doit avoir les permissions
       d&#039;écriture du fichier si des données y sont insérées, le schéma de la
       base de données est modifié, ou pour créer une base de données si elle
       n&#039;existe pas.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       Le mode du fichier. Devrait être utilisé pour ouvrir une base de
       données en mode lecture seule. Actuellement, ce paramètre est ignoré
       par la bibliothèque sqlite. La valeur par défaut pour le mode est
       <code class="literal">0666</code> en octal : c&#039;est la valeur recommandée.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">error_message</code></dt>

     <dd>

      <p class="para">
       Passée par référence et est affectée afin de contenir la description du
       message d&#039;erreur qui explique pourquoi la base de données ne pouvait
       pas être ouverte s&#039;il y avait une erreur.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.sqlite-popen-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne une ressource (de base de données) en cas de succès, <strong><code>FALSE</code></strong> en
   cas d&#039;erreur.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.sqlite-popen-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.sqlite-open.html" class="function" rel="rdfs-seeAlso">sqlite_open()</a> - Ouvre une base SQLite et la cr&eacute;e si elle n'existe pas</span></li>
    <li class="member"><span class="function"><a href="function.sqlite-close.html" class="function" rel="rdfs-seeAlso">sqlite_close()</a> - Ferme la connexion &agrave; SQLite</span></li>
    <li class="member"><span class="function"><strong>sqlite_factory()</strong></span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>