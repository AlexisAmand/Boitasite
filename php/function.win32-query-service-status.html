<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Questionne le statut d'un service</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.win32-pause-service.html">« win32_pause_service</a></li>
      <li style="float: right;"><a href="function.win32-send-custom-control.html">win32_send_custom_control »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.win32service.html">Fonctions win32service</a></li>
    <li>Questionne le statut d'un service</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.win32-query-service-status" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">win32_query_service_status</h1>
  <p class="verinfo">(PECL win32service &gt;=0.1.0)</p><p class="refpurpose"><span class="refname">win32_query_service_status</span> &mdash; <span class="dc-title">Questionne le statut d&#039;un service</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.win32-query-service-status-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>win32_query_service_status</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$servicename</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$machine</code></span>
  ] ) : <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Questionne le statut courant pour un service, retournant un tableau
   d&#039;informations.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.win32-query-service-status-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">servicename</code></dt>

     <dd>

      <p class="para">
       Le nom court du service.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">machine</code></dt>

     <dd>

      <p class="para">
       Le nom optionnel de la machine.
       Si oublié, cela utilisera la machine locale.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.win32-query-service-status-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne un tableau contenant les informations suivantes en
   cas de succès, , <strong><code>FALSE</code></strong> if there is a problem with the parameters or a <a href="win32service.constants.errors.html" class="link">Win32 Error Code</a> on failure.
  </p>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">ServiceType</code></dt>

     <dd>

      <p class="para">
       Le dwServiceType. Voir les 
       <a href="win32service.constants.servicetype.html" class="link">masques de type de
       service Win32Service</a>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">CurrentState</code></dt>

     <dd>

      <p class="para">
       Le dwCurrentState. Voir les
       <a href="win32service.constants.servicestatus.html" class="link">constantes de statut
       des services Win32Service</a>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ControlsAccepted</code></dt>

     <dd>

      <p class="para">
       Quels contrôles de service sont acceptés par le service. Voir
       les <a href="win32service.constants.controlsaccepted.html" class="link">masques
       acceptés pour les messages de contrôle de service Win32Service</a>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">Win32ExitCode</code></dt>

     <dd>

      <p class="para">
       Si le service quitte, le code de retour du processus. Cette valeur est égale 
       à <strong><code>WIN32_ERROR_SERVICE_SPECIFIC_ERROR</code></strong> si le mode de 
       sortie n&#039;est pas gracieux. Voir 
       <a href="win32service.constants.errors.html" class="link">codes d&#039;erreur Win32Service</a> 
       et <span class="function"><a href="function.win32-set-service-exit-mode.html" class="function">win32_set_service_exit_mode()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ServiceSpecificExitCode</code></dt>

     <dd>

      <p class="para">
       Si le service quitte avec une condition d&#039;erreur, le code spécifique du
       service qui sera enregistré dans le journal d&#039;évènements est visible ici.
       Cette valeur est égale à la valeur définie par  
       <span class="function"><a href="function.win32-set-service-exit-code.html" class="function">win32_set_service_exit_code()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">CheckPoint</code></dt>

     <dd>

      <p class="para">
       Si le service s&#039;arrête, garde le nombre courant de point de contrôle.
       Ceci est utilisé par SCM comme un genre de battement de coeur pour
       détecter un processus de service arrêté. La valeur du point de contrôle
       est mieux interprétée en conjonction avec la valeur WaitHint.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">WaitHint</code></dt>

     <dd>

      <p class="para">
       Si le service s&#039;arrête, il fixera un WaitHint à une valeur de point de
       contrôle qui indiquera l&#039;exécution 100%. Cela peut être utilisé pour
       implanter un indicateur de progrès.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ProcessId</code></dt>

     <dd>

      <p class="para">
       L&#039;identifiant de processus de fenêtre. Si 0, le processus ne fonctionne
       pas.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">ServiceFlags</code></dt>

     <dd>

      <p class="para">
       Le dwServiceFlags. Voir les
       <a href="win32service.constants.serviceflag.html" class="link">constantes
        utilisées pour les drapeaux des services Win32Service</a>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.win32-query-service-status-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member">Les <a href="win32service.constants.html" class="link">constantes Win32Service prédéfinies</a></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>