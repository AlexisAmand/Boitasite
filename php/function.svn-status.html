<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>R&eacute;cup&egrave;re le statut des fichiers et des dossiers de la copie de travail</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.svn-revert.html">« svn_revert</a></li>
      <li style="float: right;"><a href="function.svn-update.html">svn_update »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.svn.html">Fonctions SVN</a></li>
    <li>R&eacute;cup&egrave;re le statut des fichiers et des dossiers de la copie de travail</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.svn-status" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">svn_status</h1>
  <p class="verinfo">(PECL svn &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">svn_status</span> &mdash; <span class="dc-title">Récupère le statut des fichiers et des dossiers de la copie de travail</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.svn-status-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>svn_status</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
  ] ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   Retourne le statut des fichiers et des dossiers de la copie de travail, en fournissant
   les modifications, les ajouts, les suppressions, ainsi que les autres modifications
   des éléments de la copie de travail.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.svn-status-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       Chemin local vers le fichier ou le dossier dont on souhaite récupérer le statut.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Les chemins relatifs peuvent être résolus
    si le dossier de travail courant est l&#039;un de ceux qui contiennent le binaire PHP.
    Pour utiliser le dossier de travail, utilisez la fonction <span class="function"><a href="function.realpath.html" class="function">realpath()</a></span>,
    ou l&#039;instruction dirname(__FILE__).</span></p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">flags</code></dt>

     <dd>

      <p class="para">
       Toute combinaison de <strong><code>Svn::NON_RECURSIVE</code></strong>,
       <strong><code>Svn::ALL</code></strong> (indépendamment du statut de modification),
       <strong><code>Svn::SHOW_UPDATES</code></strong> (les entrées seront ajoutées pour les éléments
       qui ne sont pas à jour), <strong><code>Svn::NO_IGNORE</code></strong> (néglige les propriétés
       <code class="literal">svn:ignore</code> lors de l&#039;analyse des nouveaux fichiers)
       et <strong><code>Svn::IGNORE_EXTERNALS</code></strong>.
      </p>
     </dd>

    
   </dl>

  </p>

 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.svn-status-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne un tableau indexé numériquement de tableaux associatifs
   détaillant le statut des éléments du référentiel :
  </p>
  <div class="example-contents screen">
<div class="returnvaluescode"><pre class="returnvaluescode">Array (
    [0] =&gt; Array (
        // information sur l&#039;élément
    )
    [1] =&gt; ...
)</pre>
</div>
  </div>
  <p class="para">
   L&#039;information sur un élément est un tableau associatif qui peut contenir
   les clés suivantes :
  </p>
  <dl>

   
    <dt>
<var class="varname">path</var></dt>

     <dd>

      <span class="simpara">
       Chemin vers le fichier/dossier de cette entrée sur le système de fichiers
       local.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">text_status</var></dt>

     <dd>

      <span class="simpara">
       Statut du texte de l&#039;élément. Référez-vous aux
<a href="svn.constants.html#svn.constants.status" class="link">constantes de statut</a> pour les valeurs possibles.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">repos_text_status</var></dt>

     <dd>

      <span class="simpara">
       Statut du texte de l&#039;élément dans le référentiel. Ne survient que si
       <code class="parameter">update</code> est défini à <strong><code>TRUE</code></strong>.
       Référez-vous aux
<a href="svn.constants.html#svn.constants.status" class="link">constantes de statut</a> pour les valeurs possibles.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">prop_status</var></dt>

     <dd>

      <span class="simpara">
       Statut de la propriété de l&#039;élément. Référez-vous aux
<a href="svn.constants.html#svn.constants.status" class="link">constantes de statut</a> pour les valeurs possibles.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">repos_prop_status</var></dt>

     <dd>

      <span class="simpara">
       Statut de la propriété de l&#039;élément dans le référentiel. Ne survient que si
       <code class="parameter">update</code> est défini à <strong><code>TRUE</code></strong>. Référez-vous aux
<a href="svn.constants.html#svn.constants.status" class="link">constantes de statut</a> pour les valeurs possibles.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">locked</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;élément est verrouillé. (Définit que si <strong><code>TRUE</code></strong>.)
      </span>
     </dd>

   
   
    <dt>
<var class="varname">copied</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;élément a été copié ou non (prévu pour l&#039;ajout avec la journalisation).
       (Définit que si <strong><code>TRUE</code></strong>.)
      </span>
     </dd>

   
   
    <dt>
<var class="varname">switched</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;élément a changé de référentiel de référence, 
       en utilisant la commande switch.
       (Définit que si <strong><code>TRUE</code></strong>)
      </span>
     </dd>

   
  </dl>

  <p class="para">
   Ces clés ne sont définies que si l&#039;élément est versionné :
  </p>
  <dl>

   
    <dt>
<var class="varname">name</var></dt>

     <dd>

      <span class="simpara">
       Nom de base de l&#039;élément dans le référentiel.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">url</var></dt>

     <dd>

      <span class="simpara">
       URL de l&#039;élément dans le référentiel.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">repos</var></dt>

     <dd>

      <span class="simpara">
       URL de base du référentiel.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">revision</var></dt>

     <dd>

      <span class="simpara">
       Révision de l&#039;élément dans la copie de travail.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">kind</var></dt>

     <dd>

      <span class="simpara">
       Type de l&#039;élément, i.e. fichier ou dossier. Référez-vous aux <a href="svn.constants.html#svn.constants.type" class="link">constantes de type</a> pour les valeurs possibles.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">schedule</var></dt>

     <dd>

      <span class="simpara">
       Action prévue pour l&#039;élément, i.e. ajout ou suppression.
       Les constantes pour ces nombres magiques ne sont pas disponibles,
       elles peuvent être émulées en utilisant :
      </span>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">defined</span><span style="color: #007700">(</span><span style="color: #DD0000">'svn_wc_schedule_normal'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'svn_wc_schedule_normal'</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;rien&nbsp;de&nbsp;spécial<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'svn_wc_schedule_add'</span><span style="color: #007700">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;élément&nbsp;à&nbsp;ajouté<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'svn_wc_schedule_delete'</span><span style="color: #007700">,&nbsp;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;élément&nbsp;à&nbsp;supprimé<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">define</span><span style="color: #007700">(</span><span style="color: #DD0000">'svn_wc_schedule_replace'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;élément&nbsp;à&nbsp;ajouté&nbsp;et&nbsp;effacé<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </dd>

   
   
    <dt>
<var class="varname">deleted</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;élément a été supprimé, mais les révisions parentes existent toujours
       (Définit que si <strong><code>TRUE</code></strong>.)
      </span>
     </dd>

   
   
    <dt>
<var class="varname">absent</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;élément est absent, mais que Subversion sait qu&#039;il devrait se
       trouver ici. (Définit que si <strong><code>TRUE</code></strong>.)
      </span>
     </dd>

   
   
    <dt>
<var class="varname">incomplete</var></dt>

     <dd>

      <span class="simpara">
       Si l&#039;entrée du fichier pour un dossier est incomplète.
       (Définit que si <strong><code>TRUE</code></strong>.)
      </span>
     </dd>

   
   
    <dt>
<var class="varname">cmt_date</var></dt>

     <dd>

      <span class="simpara">
       Timestamp Unix de la date de la dernière validation.
       (Non-Affecté par le paramètre <code class="parameter">update</code>).
      </span>
     </dd>

   
   
    <dt>
<var class="varname">cmt_rev</var></dt>

     <dd>

      <span class="simpara">
       Révision de la dernière livraison. (Non-Affecté par le paramètre
       <code class="parameter">update</code>).
      </span>
     </dd>

   
   
    <dt>
<var class="varname">cmt_author</var></dt>

     <dd>

      <span class="simpara">
       Nom de l&#039;auteur de la dernière livraison. (Non-Affecté par le
       paramètre <code class="parameter">update</code>).
      </span>
     </dd>

   
   
    <dt>
<var class="varname">prop_time</var></dt>

     <dd>

      <span class="simpara">
       Timestamp Unix représentant la date/heure de la dernière mise à jour
       des propriétés.
      </span>
     </dd>

   
   
    <dt>
<var class="varname">text_time</var></dt>

     <dd>

      <span class="simpara">
       Timestamp Unix représentant la date/heure de la dernière mise à jour
       du texte.
      </span>
     </dd>

   
  </dl>

 </div>


 <div class="refsect1 notes" id="refsect1-function.svn-status-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Avertissement</strong><p class="simpara">
 Cette fonction est <em class="emphasis">EXPERIMENTALE</em>. Le comportement de cette fonction, son nom, et toute la
 documentation autour de cette fonction peut changer sans préavis dans une prochaine version de PHP.
 Cette fonction doit être utilisée à vos risques et périls.
</p></div>
 </div>


 <div class="refsect1 examples" id="refsect1-function.svn-status-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-5252">
    <p><strong>Exemple #1 Exemple d&#039;utilisation</strong></p>
    <div class="example-contents"><p>
     Cet exemple montre une utilisation basique de cette fonction.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">svn_status</span><span style="color: #007700">(</span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">'wc'</span><span style="color: #007700">)));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher quelque chose de similaire à :</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array (
    [0] =&gt; Array (
        [path] =&gt; /home/bob/wc/sandwich.txt
        [text_status] =&gt; 8 // l&#039;élément a été modifié
        [repos_text_status] =&gt; 1 // Aucune information disponible, utilisez update
        [prop_status] =&gt; 3 // aucun changement
        [repos_prop_status] =&gt; 1 // Aucune information disponible, utilisez update
        [name] =&gt; sandwich.txt
        [url] =&gt; http://www.example.com/svnroot/deli/trunk/sandwich.txt
        [repos] =&gt; http://www.example.com/svnroot/
        [revision] =&gt; 123
        [kind] =&gt; 1 // fichier
        [schedule] =&gt; 0 // aucune action de prévue
        [cmt_date] =&gt; 1165543135
        [cmt_rev] =&gt; 120
        [cmt_author] =&gt; Alice
        [prop_time] =&gt; 1180201728
        [text_time] =&gt; 1180201729
    )
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.svn-status-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.svn-update.html" class="function" rel="rdfs-seeAlso">svn_update()</a> - Met &agrave; jour la copie de travail</span></li>
    <li class="member"><span class="function"><a href="function.svn-log.html" class="function" rel="rdfs-seeAlso">svn_log()</a> - R&eacute;cup&egrave;re le message d'historisation d'une URL du r&eacute;f&eacute;rentiel</span></li>
    <li class="member"><a href="http://svnbook.red-bean.com/en/1.2/svn.ref.svn.c.status.html" class="link external">&raquo;&nbsp;Documentation SVN de la commande <code class="literal">&quot;svn status&quot;</code></a></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>