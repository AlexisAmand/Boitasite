<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Envoie une requ&ecirc;te pour ex&eacute;cuter une requ&ecirc;te pr&eacute;par&eacute;e avec des param&egrave;tres
   donn&eacute;s, sans attendre le(s) r&eacute;sultat(s)</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.pg-select.html">« pg_select</a></li>
      <li style="float: right;"><a href="function.pg-send-prepare.html">pg_send_prepare »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.pgsql.html">Fonctions PostgreSQL</a></li>
    <li>Envoie une requ&ecirc;te pour ex&eacute;cuter une requ&ecirc;te pr&eacute;par&eacute;e avec des param&egrave;tres
   donn&eacute;s, sans attendre le(s) r&eacute;sultat(s)</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pg-send-execute" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pg_send_execute</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7)</p><p class="refpurpose"><span class="refname">pg_send_execute</span> &mdash; <span class="dc-title">
   Envoie une requête pour exécuter une requête préparée avec des paramètres
   donnés, sans attendre le(s) résultat(s)
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.pg-send-execute-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>pg_send_execute</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$connection</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$stmtname</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$params</code></span>
   ) : <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Envoie une requête pour exécuter une requête préparée avec des paramètres
   donnés, sans attendre le(s) résultat(s).
  </p>
  <p class="para">
   Cette fonction est similaire à <span class="function"><a href="function.pg-send-query-params.html" class="function">pg_send_query_params()</a></span>,
   mais la commande qui sera exécutée est spécifiée en nommant une requête
   préalablement préparée, au lieu de donner une chaîne en tant que requête.
   Les paramètres de la fonctions sont gérés de la même manière que
   <span class="function"><a href="function.pg-execute.html" class="function">pg_execute()</a></span>. Comme <span class="function"><a href="function.pg-execute.html" class="function">pg_execute()</a></span>, la
   fonction ne fonctionnera pas sur les versions antérieures à PostgreSQL 7.4.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pg-send-execute-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">connection</code></dt>

     <dd>

      <p class="para">
       La ressource de connexion de la base de données PostgreSQL. Lorsque
       <code class="parameter">connection</code> n&#039;est pas présent, la connexion par
       défaut est utilisée. La connexion par défaut est la dernière connexion
       faite par <span class="function"><a href="function.pg-connect.html" class="function">pg_connect()</a></span> ou <span class="function"><a href="function.pg-pconnect.html" class="function">pg_pconnect()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">stmtname</code></dt>

     <dd>

      <p class="para">
       Le nom de la requête préparée à exécuter. Si une chaîne vide est
       spécifiée (&quot;&quot;), alors la requête qui n&#039;est pas nommée est exécutée. Le
       nom doit avoir été précédemment préparé en utilisant
       <span class="function"><a href="function.pg-prepare.html" class="function">pg_prepare()</a></span>, <span class="function"><a href="function.pg-send-prepare.html" class="function">pg_send_prepare()</a></span>
       ou une commande SQL <code class="literal">PREPARE</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">params</code></dt>

     <dd>

      <p class="para">
       Un tableau de valeurs de paramètres pour substituer les variables $1, $2, etc.
       dans la requête préparée originale. Le nombre d&#039;éléments présents dans
       le tableau doit concorder avec le nombre de variables à remplacer.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pg-send-execute-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne <strong><code>TRUE</code></strong> en cas de succès, <strong><code>FALSE</code></strong> en cas d&#039;échec. Utilisez
   <span class="function"><a href="function.pg-get-result.html" class="function">pg_get_result()</a></span> pour déterminer le résultat de la
   requête.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.pg-send-execute-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-2536">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>pg_send_execute()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;$dbconn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"dbname=publisher"</span><span style="color: #007700">)&nbsp;or&nbsp;die(</span><span style="color: #DD0000">"Connexion&nbsp;impossible"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Prépare&nbsp;une&nbsp;requête&nbsp;pour&nbsp;l'exécution<br />&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">pg_connection_busy</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pg_send_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;magasins&nbsp;WHERE&nbsp;nom&nbsp;=&nbsp;$1'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_get_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">);<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exécute&nbsp;la&nbsp;requête&nbsp;préparée.&nbsp;Notez&nbsp;qu'il&nbsp;n'est&nbsp;pas&nbsp;nécessaire&nbsp;d'échapper<br />&nbsp;&nbsp;//&nbsp;la&nbsp;chaîne&nbsp;"Joe's&nbsp;Widgets"<br />&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">pg_connection_busy</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pg_send_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"Joe's&nbsp;Widgets"</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_get_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">);<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Exécute&nbsp;la&nbsp;même&nbsp;requête&nbsp;préparée,&nbsp;cette&nbsp;fois&nbsp;avec&nbsp;un&nbsp;paramètre&nbsp;différent<br />&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">pg_connection_busy</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">pg_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"Vêtements&nbsp;Vêtements&nbsp;Vêtements"</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_get_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">);<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.pg-send-execute-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.pg-prepare.html" class="function" rel="rdfs-seeAlso">pg_prepare()</a> - Envoie une requ&ecirc;te pour cr&eacute;er une requ&ecirc;te pr&eacute;par&eacute;e avec les param&egrave;tres
   donn&eacute;s et attend l'ex&eacute;cution</span></li>
    <li class="member"><span class="function"><a href="function.pg-send-prepare.html" class="function" rel="rdfs-seeAlso">pg_send_prepare()</a> - Envoie une requ&ecirc;te pour cr&eacute;er une requ&ecirc;te pr&eacute;par&eacute;e avec les param&egrave;tres
   donn&eacute;s, sans attendre la fin de son ex&eacute;cution</span></li>
    <li class="member"><span class="function"><a href="function.pg-execute.html" class="function" rel="rdfs-seeAlso">pg_execute()</a> - Ex&eacute;cute une requ&ecirc;te pr&eacute;par&eacute;e PostGreSQL</span></li>    
   </ul>
  </p>
 </div>

</div></div></div></body></html>