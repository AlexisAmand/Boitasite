<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Cr&eacute;e un socket</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.socket-create-pair.html">« socket_create_pair</a></li>
      <li style="float: right;"><a href="function.socket-export-stream.html">socket_export_stream »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sockets.html">Fonctions sur les sockets</a></li>
    <li>Cr&eacute;e un socket</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.socket-create" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_create</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7)</p><p class="refpurpose"><span class="refname">socket_create</span> &mdash; <span class="dc-title">Crée un socket</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.socket-create-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>socket_create</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$domain</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$type</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$protocol</code></span>
   ) : <span class="type">resource</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>socket_create()</strong></span> crée un point de communication 
   (une socket) et retourne une ressource de socket. Une connexion 
   typique réseau est composée de deux sockets :
   une qui joue le rôle de client et l&#039;autre celui du serveur.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-create-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">domain</code></dt>

     <dd>

      <p class="para">
       Le paramètre <code class="parameter">domain</code> spécifie la famille
       de protocoles à utiliser par le socket.
      </p>
      <table class="doctable table">
       <caption><strong>Famille d&#039;adresses / protocoles disponibles</strong></caption>
       
        <thead>
         <tr>
          <th>Domaine</th>
          <th>Description</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td><strong><code>AF_INET</code></strong></td>
          <td>
           Protocole basé sur IPv4. TCP et UDP sont les protocoles communs
           de cette famille de protocoles.
          </td>
         </tr>

         <tr>
          <td><strong><code>AF_INET6</code></strong></td>
          <td>
           Protocole basé sur IPv6. TCP et UDP sont les protocoles communs
           de cette famille de protocoles.
           Le support a été ajouté en PHP 5.0.0.
          </td>
         </tr>

         <tr>
          <td><strong><code>AF_UNIX</code></strong></td>
          <td>
           Famille de protocoles locales de communication. Le rendement
           élevé et des moindres coûts supplémentaires lui font une
           grande force d&#039;IPC (<code class="literal">Interprocess Communication</code>).
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
    
     <dt>
<code class="parameter">type</code></dt>

     <dd>

      <p class="para">
       Le paramètre <code class="parameter">type</code> sélectionne le type de
       communication à utiliser par le socket.
      </p>
      <table class="doctable table">
       <caption><strong>Types de sockets disponibles</strong></caption>
       
        <thead>
         <tr>
          <th>Type</th>
          <th>Description</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td><strong><code>SOCK_STREAM</code></strong></td>
          <td>
           Fournit des flux d&#039;octets ordonnancés, fiables, full-duplex,
           raccordés sur la base. Un mécanisme de transmission des données
           &quot;<code class="literal">out-of-band</code>&quot; peut être supporté.
           Le protocole TCP est basé sur ce type de sockets.
          </td>
         </tr>

         <tr>
          <td><strong><code>SOCK_DGRAM</code></strong></td>
          <td>
           Support des datagrammes (moins de connexion, message non garanti
           d&#039;une longueur maximum fixe). Le protocole UDP est basé sur ce
           type de sockets.
          </td>
         </tr>

           <tr>
          <td><strong><code>SOCK_SEQPACKET</code></strong></td>
          <td>
           Fournit un chemin de transmission de données séquentiel, fiable,
           connecté à la base par deux chemins pour les datagrammes de
           longueur maximale fixe ; un consommateur est requis pour lire la
           totalité d&#039;un paquet avec chaque appel à la lecture.
          </td>
         </tr>

         <tr>
          <td><strong><code>SOCK_RAW</code></strong></td>
          <td>
           Fournit l&#039;accès brut de protocole de réseau. Ce type spécial de
           socket peut être utilisé pour construire manuellement tout type
           de protocole. Une utilisation commune de ce type de sockets
           est le traitement des requêtes ICMP (comme le ping).
          </td>
         </tr>

         <tr>
          <td><strong><code>SOCK_RDM</code></strong></td>
          <td>
           Fournit une couche fiable de datagramme qui ne garantit pas
           l&#039;ordre des données. Ce type de socket est le plus susceptible
           de ne pas être implémenté sur votre système d&#039;exploitation.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
    
     <dt>
<code class="parameter">protocol</code></dt>

     <dd>

      <p class="para">
       Le paramètre <code class="parameter">protocol</code> définit le protocole
       spécifique pour le domaine <code class="parameter">domain</code> à utiliser
       lors de communications sur un socket retourné. La valeur appropriée
       peut être retrouvée par son nom en utilisant la fonction
       <span class="function"><a href="function.getprotobyname.html" class="function">getprotobyname()</a></span>. Si le protocole désiré est TCP
       ou UDP, les constantes correspondantes <strong><code>SOL_TCP</code></strong>
       et <strong><code>SOL_UDP</code></strong> peuvent être utilisées.
      </p>
      <table class="doctable table">
       <caption><strong>Protocoles Communs</strong></caption>
       
        <thead>
         <tr>
          <th>Nom</th>
          <th>Description</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td><code class="literal">icmp</code></td>
          <td>
           Le protocole ICMP (<code class="literal">Internet Control Message
            Protocol</code>) est utilisé tout d&#039;abord par les
           passerelles et les hôtes pour reporter les erreurs dans
           des communications de datagramme. La commande
           &quot;<code class="literal">ping</code>&quot; (présente dans les systèmes
           de production modernes) est un exemple d&#039;application
           utilisant le protocole ICMP.
          </td>
         </tr>

         <tr>
          <td><code class="literal">udp</code></td>
          <td>
           Le protocole UDP (<code class="literal">User Datagramm Protocol</code>)
           est un protocole sans connexion, incertain avec les longueurs
           d&#039;enregistrements fixes. De ce fait, <code class="literal">UDP</code>
           requiert une quantité minimum de protocole aérienne.
          </td>
         </tr>

         <tr>
          <td><code class="literal">tcp</code></td>
          <td>
           Le protocole TCP (<code class="literal">Transmission Control Protocol</code>)
           est un protocole fiable, connecté sur la base, orienté flux et
           full-duplex. <code class="literal">TCP</code> garantit que chaque paquet est
           reçu dans l&#039;ordre dans lequel il a été envoyé. Si quelques paquets
           sont perdus pendant la communication, <code class="literal">TCP</code>
           retransmettra ces paquets tant que l&#039;hôte destinataire ne les aura
           pas reçu entièrement. Pour des raisons de fiabilité et de
           performance, l&#039;implémentation <code class="literal">TCP</code>, elle-même,
           décide des frontières appropriées d&#039;octets de la couche fondamentale
           de communication du datagramme. Par conséquent, les applications
           <code class="literal">TCP</code> doivent autoriser la possibilité de
           transmission partielle d&#039;enregistrements.
          </td>
         </tr>

        </tbody>
       
      </table>

     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.socket-create-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   <span class="function"><strong>socket_create()</strong></span> retourne une ressource de
   socket en cas de succès et <strong><code>FALSE</code></strong> sinon. Le code
   d&#039;erreur généré peut être obtenu en appelant la fonction
   <span class="function"><a href="function.socket-last-error.html" class="function">socket_last_error()</a></span>. Ce code d&#039;erreur
   peut être passé à la fonction <span class="function"><a href="function.socket-strerror.html" class="function">socket_strerror()</a></span>
   pour obtenir un message d&#039;erreur humainement lisible.
  </p>
 </div>

  
 <div class="refsect1 errors" id="refsect1-function.socket-create-errors">
  <h3 class="title">Erreurs / Exceptions</h3>
   <p class="para">
    Si une valeur invalide est spécifiée au paramètre <code class="parameter">domain</code> ou
    au paramètre <code class="parameter">type</code>, la fonction <span class="function"><strong>socket_create()</strong></span>
    prendra comme paramètres par défaut respectivement <strong><code>AF_INET</code></strong> et
    <strong><code>SOCK_STREAM</code></strong> et générera un message d&#039;alerte
    (<strong><code>E_WARNING</code></strong>).
   </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.socket-create-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.socket-accept.html" class="function" rel="rdfs-seeAlso">socket_accept()</a> - Accepte une connexion sur un socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-bind.html" class="function" rel="rdfs-seeAlso">socket_bind()</a> - Lie un nom &agrave; un socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-connect.html" class="function" rel="rdfs-seeAlso">socket_connect()</a> - Cr&eacute;e une connexion sur un socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-listen.html" class="function" rel="rdfs-seeAlso">socket_listen()</a> - Attend une connexion sur un socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-last-error.html" class="function" rel="rdfs-seeAlso">socket_last_error()</a> - Lit la derni&egrave;re erreur g&eacute;n&eacute;r&eacute;e par un socket</span></li>
    <li class="member"><span class="function"><a href="function.socket-strerror.html" class="function" rel="rdfs-seeAlso">socket_strerror()</a> - Retourne une cha&icirc;ne d&eacute;crivant un message d'erreur</span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>