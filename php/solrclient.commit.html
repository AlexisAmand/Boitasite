<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Commit tous les ajouts/modifications effectu&eacute;s sur l'index</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="solrclient.adddocuments.html">« SolrClient::addDocuments</a></li>
      <li style="float: right;"><a href="solrclient.construct.html">SolrClient::__construct »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.solrclient.html">SolrClient</a></li>
    <li>Commit tous les ajouts/modifications effectu&eacute;s sur l'index</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="solrclient.commit" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SolrClient::commit</h1>
  <p class="verinfo">(PECL solr &gt;= 0.9.2)</p><p class="refpurpose"><span class="refname">SolrClient::commit</span> &mdash; <span class="dc-title">Commit tous les ajouts/modifications effectués sur l&#039;index</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-solrclient.commit-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>SolrClient::commit</strong></span>
    ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$softCommit</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$waitSearcher</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$expungeDeletes</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
  ]]] ) : <span class="type"><a href="class.solrupdateresponse.html" class="type SolrUpdateResponse">SolrUpdateResponse</a></span></div>

  <p class="para rdfs-comment">
   Commit tous les ajouts/modifications effectués sur l&#039;index.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-solrclient.commit-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">softCommit</code></dt>

     <dd>

      <p class="para">
       Va rafraîchir la vue de l&#039;index d&#039;une façon plus performante,
       mais sans aucune garantie d&#039;être sur le disque. (Solr4.0+)
      </p>
      <p class="para">
       Un commit &quot;soft&quot; est plus rapide sachant qu&#039;il ne modifie que l&#039;index,
       et ne synchronise pas les fichiers d&#039;index, ni n&#039;écrit de nouveaux descripteurs
       d&#039;index. Si le JVM crash ou s&#039;il y a un perte d&#039;énergie, les modificiations
       qui sont survenues après le dernier commit &quot;hard&quot; seront perdues.
       Les collections de recherche, qui ont des besoins proches du temps réel
       (qui nécessitent donc que les modifications soient rapidement visibles)
       doivent avoir des commit soft régulièrement, et moins de commit hard.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">waitSearcher</code></dt>

     <dd>

      <p class="para">
       Attend jusqu&#039;à ce qu&#039;un nouvel objet de recherche soit ouvert
       et enregistré comme objet de recherche principal, rendant visible
       les modifications. 
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">expungeDeletes</code></dt>

     <dd>

      <p class="para">
       Supprime définitivement les effacements. (Solr1.4+)
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-solrclient.commit-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne un objet <a href="class.solrupdateresponse.html" class="classname">SolrUpdateResponse</a> en cas de succès,
   et lance une exception si une erreur survient.
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-solrclient.commit-errors">
  <h3 class="title">Erreurs / Exceptions</h3>
  <p class="para">
   Lance une exception <a href="class.solrclientexception.html" class="classname">SolrClientException</a> si le client a échoué
   ou s&#039;il y a eu un problème avec la connexion.
  </p>
  <p class="para">
   Lance une exception <a href="class.solrserverexception.html" class="classname">SolrServerException</a> si le serveur
   Solr a échoué dans l&#039;exécution de la requête.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-solrclient.commit-changelog">
  <h3 class="title">Historique</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.1.0, 2.0.0</td>
       <td>
        Suppression de l&#039;argument $maxSegments
       </td>
      </tr>

      <tr>
       <td>2.0.0b</td>
       <td>
        Modification de l&#039;API : SolrClient::commit ([ int $maxSegments = 0 [, bool $softCommit = false [, bool $waitSearcher = true[, bool $expungeDeletes = false ]]] )
       </td>
      </tr>

      <tr>
       <td>0.9.2</td>
       <td>
        Signature : SolrClient::commit ([ int $maxSegments = 1 [, bool $waitFlush = true [, bool $waitSearcher = true ]]] ). 
        $waitFlush : bloc tant que les modifications de l&#039;index ne sont pas écrites sur le disque.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 notes" id="refsect1-solrclient.commit-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Avertissement</strong>
   <p class="para">
    PECL Solr &gt;= 2.0 ne supporte que le serveur Solr &gt;= 4.0 
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-solrclient.commit-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="methodname"><a href="solrclient.optimize.html" class="methodname" rel="rdfs-seeAlso">SolrClient::optimize()</a> - D&eacute;fragmente l'index</span></li>
    <li class="member"><span class="methodname"><a href="solrclient.rollback.html" class="methodname" rel="rdfs-seeAlso">SolrClient::rollback()</a> - Annule les ajouts/effacements effectu&eacute;s sur l'index depuis le dernier commit</span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>