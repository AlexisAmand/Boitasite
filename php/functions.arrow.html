<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Fonction Fl&eacute;ch&eacute;e</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="functions.anonymous.html">« Fonctions anonymes</a></li>
      <li style="float: right;"><a href="language.oop5.html">Les classes et les objets »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.functions.html">Les fonctions</a></li>
    <li>Fonction Fl&eacute;ch&eacute;e</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="functions.arrow" class="sect1">
   <h2 class="title">Fonction Fléchée</h2>

   <p class="simpara">
    Les fonctions fléchées ont été introduit en PHP 7.4 en tant que syntaxe
    plus concise pour les
    <a href="functions.anonymous.html" class="link">fonctions anonymes</a>.
   </p>
   <p class="simpara">
    Les fonctions anonymes comme les fonctions fléchées sontimplémenté en
    utilisant la classe
    <a href="class.closure.html" class="link"><a href="class.closure.html" class="classname">Closure</a></a>.
   </p>

   <p class="simpara">
    Les fonctions fléchée ont la forme basique
    <code class="code">fn (argument_list) =&gt; expr</code>.
   </p>

   <p class="simpara">
    Les fonctions fléchées supportent les même fonctionalités que les
    <a href="functions.anonymous.html" class="link">fonctions anonymes</a>,
    à l&#039;exception que l&#039;utilisation des variables de la portée parente est
    automatique.
   </p>

   <p class="simpara">
    Quand une variable utilisé dans l&#039;expression est définie dans la portée
    parente, elle sera implicitement capturé par valeur.
    Dans l&#039;exemple suivant, les fonctions <var class="varname">$fn1</var> et
    <var class="varname">$fn2</var> se comportement de façon identique. 
   </p>

   <p class="para">
    <div class="example" id="example-183">
     <p><strong>Exemple #1 Les fonctions fléchées capture les variables par valeur automatiquement</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$y&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;<br /></span><span style="color: #0000BB">$fn1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;equivalent&nbsp;to&nbsp;using&nbsp;$y&nbsp;by&nbsp;value:<br /></span><span style="color: #0000BB">$fn2&nbsp;</span><span style="color: #007700">=&nbsp;function&nbsp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;use&nbsp;(</span><span style="color: #0000BB">$y</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">;<br />};<br /><br /></span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$fn1</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

     <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher :</p></div>
     <div class="example-contents screen">
<div class="cdata"><pre>
4
</pre></div>
      </div>
    </div>
   </p>
   <p class="simpara">
    Ceci fonctionne aussi si les fonctions fléchées sont imbriquées : 
   </p>
   <p class="para">
    <div class="example" id="example-184">
     <p><strong>Exemple #2 Les fonctions fléchées capture les variables par valeur automatiquement, même imbriquée</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$z&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$y</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$z</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Outputs&nbsp;51<br /></span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$fn</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">)(</span><span style="color: #0000BB">10</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    Similairement au fonctions anonymes,
    la syntaxe des fonctions fléchées permet les signature de fonction arbitraire,
    ceci inclus les types de paramètres et de retoure, valeur par défaut, variable,
    aussi bien que le passage et retour par référence.
    Tous les examples suivant sont des des fonctions fléchées valides : 
   </p>
   <p class="para">
    <div class="example" id="example-185">
     <p><strong>Exemple #3 Exemples de fonctions fléchées</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />fn</span><span style="color: #007700">(array&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br />static&nbsp;</span><span style="color: #0000BB">fn</span><span style="color: #007700">():&nbsp;</span><span style="color: #0000BB">int&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">fn</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">fn</span><span style="color: #007700">&amp;(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">fn</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;...</span><span style="color: #0000BB">$rest</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$rest</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    Les fonctions fléchées lie les variables par valeur.
    Ceci est à peu près équivalent à éffectuer un <code class="code">use($x)</code> pour
    chaque variable <var class="varname">$x</var> utilisé à l&#039;intérieur de la fonction
    fléchée.
    Un liage par valeur signifie qu&#039;il n&#039;est pas possible de modifier une
    valeur de la portée extérieure.
    <a href="functions.anonymous.html" class="link">Les fonctions anonymes</a>
    peuvent être utilisé à la place pour des liaison par référence.
   </p>
   <p class="para">
    <div class="example" id="example-186">
     <p><strong>Exemple #4 
      Valeurs de la portée extérieure ne peuvent pas être modifié par les fonctions fléchées
     </strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fn</span><span style="color: #007700">()&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">++;&nbsp;</span><span style="color: #FF8000">//&nbsp;Has&nbsp;no&nbsp;effect<br /></span><span style="color: #0000BB">$fn</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Outputs&nbsp;1<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   
   <div class="sect2">
    <h3 class="title">Historique</h3>
    <p class="para">
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Version</th>
         <th>Description</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr>
         <td>7.4.0</td>
         <td>
          Les fonctions fléchées sont désormais disponible.
         </td>
        </tr>

       </tbody>
      
     </table>

    </p>
   </div>

   <div class="sect2">
    <h3 class="title">Notes</h3>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      Il est possible d&#039;utiliser <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>,
      <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span>, et <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span>
      depuis l&#039;intérieur d&#039;une fonction fléchée.
     </span>
    </p></blockquote>
   </div>
  </div></div></div></body></html>