<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Retourne le nombre de lignes affect&eacute;es par une requ&ecirc;te SQL</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.db2-num-fields.html">« db2_num_fields</a></li>
      <li style="float: right;"><a href="function.db2-pclose.html">db2_pclose »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.ibm-db2.html">Fonctions IBM DB2</a></li>
    <li>Retourne le nombre de lignes affect&eacute;es par une requ&ecirc;te SQL</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.db2-num-rows" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">db2_num_rows</h1>
  <p class="verinfo">(PECL ibm_db2 &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">db2_num_rows</span> &mdash; <span class="dc-title">
   Retourne le nombre de lignes affectées par une requête SQL
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.db2-num-rows-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>db2_num_rows</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$stmt</code></span>
   ) : <span class="type">int</span></div>


  <p class="para rdfs-comment">
   Retourne le nombre de lignes supprimées, ajoutées, mises à jour par une
   requête SQL.
  </p>
  <p class="para">
   Afin de déterminer le nombre de lignes que retournera une requête SELECT,
   utilisez la requête SELECT COUNT(*) avec les mêmes attributs lorsque vous
   avez effectué la requête SELECT et la récupération des valeurs.
  </p>
  <p class="para">
   Si la logique de votre application vérifie le nombre de ligne retournée par
   une requête SELECT et effectue le saut si le nombre de ligne est 0,
   modifiez votre application pour tenter de retourner la première ligne avec
   <span class="function"><a href="function.db2-fetch-assoc.html" class="function">db2_fetch_assoc()</a></span>, <span class="function"><a href="function.db2-fetch-both.html" class="function">db2_fetch_both()</a></span>,
   <span class="function"><a href="function.db2-fetch-array.html" class="function">db2_fetch_array()</a></span> ou <span class="function"><a href="function.db2-fetch-row.html" class="function">db2_fetch_row()</a></span>,
   et effectuez le saut si la fonction retourne <strong><code>FALSE</code></strong>.
  </p>

  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Si vous envoyez une requête SELECT avec un curseur flottant,
    <span class="function"><strong>db2_num_rows()</strong></span> retournera le nombre de lignes retournées
    par la requête SELECT. Cependant, le temps système associé avec des
    curseurs flottants dégrade considérablement les performances de votre
    application, alors si cela est la seule raison pour laquelle vous utilisez
    des curseurs flottants, vous devriez utiliser des curseurs à avancement
    seul et de plus appeler SELECT COUNT(*) ou compter sur les valeurs de
    retour des fonctions de type <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span> pour obtenir
    l&#039;équivalent de fonctionnalité avec une performance bien meilleure.
   </p>
  </p></blockquote>

 </div>

 <div class="refsect1 parameters" id="refsect1-function.db2-num-rows-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">stmt</code></dt>

     <dd>

      <p class="para">
       Une ressource <code class="literal">stmt</code> valide contenant le jeu de
       résultats.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.db2-num-rows-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne le nombre de lignes affectées par la dernière requête SQL envoyée
   par une fonction qui exécute les requêtes SQL.
  </p>
 </div>


</div></div></div></body></html>