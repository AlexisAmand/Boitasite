<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>R&eacute;cup&egrave;re une ligne de r&eacute;sultat dans un tableau num&eacute;rique, associatif ou les deux</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.maxdb-execute.html">« maxdb_execute</a></li>
      <li style="float: right;"><a href="function.maxdb-fetch-assoc.html">maxdb_fetch_assoc »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.maxdb.html">Fonctions MaxDB</a></li>
    <li>R&eacute;cup&egrave;re une ligne de r&eacute;sultat dans un tableau num&eacute;rique, associatif ou les deux</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.maxdb-fetch-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">maxdb_fetch_array</h1>
  <h1 class="refname">maxdb_result::fetch_array</h1>
  <p class="verinfo">(PECL maxdb &gt;= 1.0)</p><p class="refpurpose"><span class="refname">maxdb_fetch_array</span> -- <span class="refname">maxdb_result::fetch_array</span> &mdash; <span class="dc-title">Récupère une ligne de résultat dans un tableau numérique, associatif ou les deux</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.maxdb-fetch-array-description">
  <h3 class="title">Description</h3>
  <p class="para">Style procédural</p>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>maxdb_fetch_array</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$result</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$resulttype</code></span>
  ] ) : <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">Style orienté objet</p>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>maxdb_result::fetch_array</strong></span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$resulttype</code></span>
  ] ) : <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Retourne un tableau qui correspond à la ligne récupérée ou
   <strong><code>NULL</code></strong> s&#039;il n&#039;y a plus de lignes pour le jeu de résultats
   représenté par le paramètre <code class="parameter">result</code>.
  </p>
  <p class="para">
   <span class="function"><strong>maxdb_fetch_array()</strong></span> est une version 
   étendue de la fonction <span class="function"><a href="function.maxdb-fetch-row.html" class="function">maxdb_fetch_row()</a></span>.
   En plus de stocker les données dans un tableau de résultats aux
   indices numériques , la fonction 
   <span class="function"><strong>maxdb_fetch_array()</strong></span> peut également
   stocker les données dans des indices associatifs, en utilisant
   les noms de champs du résultat en tant que clés.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Les noms des champs retournés par
    cette fonction sont <em class="emphasis">sensibles à la casse</em>.</span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Cette fonction définit les champs NULL à la
    valeur PHP <strong><code>NULL</code></strong>.</span></p></blockquote>
  <p class="para">
   Si deux colonnes ou plus du résultats ont les mêmes noms de
   champs, la dernière colonne aura la priorité et effacera les données 
   précédentes. Pour accéder aux autres colonnes du même nom, 
   la version indexée numériquement de la ligne doit être
   utilisée.
  </p>
  <p class="para">
   Le second argument optionnel <code class="parameter">resulttype</code> est une
   constante indiquant quel type de tableau doit être produit pour les données
   de la ligne courante. Les valeurs possibles pour ce paramètre sont les
   constantes <code class="literal">MAXDB_ASSOC</code>, <code class="literal">MAXDB_ASSOC_UPPER</code>,
   <code class="literal">MAXDB_ASSOC_LOWER</code>, <code class="literal">MAXDB_NUM</code>, ou
   <code class="literal">MAXDB_BOTH</code>. Par défaut, la fonction
   <span class="function"><strong>maxdb_fetch_array()</strong></span> prendra la valeur
   <code class="literal">MAXDB_BOTH</code>, qui est une combinaison de
   <code class="literal">MAXDB_NUM</code> et de <code class="literal">MAXDB_ASSOC</code>,
   pour ce paramètre.
  </p>
  <p class="para">
   En utilisant la constante <code class="literal">MAXDB_ASSOC</code>,
   cette fonction fonctionne de la même manière que la fonction
   <span class="function"><a href="function.maxdb-fetch-assoc.html" class="function">maxdb_fetch_assoc()</a></span>, tandis que
   <code class="literal">MAXDB_NUM</code> fonctionne de la même manière
   que la fonction <span class="function"><a href="function.maxdb-fetch-row.html" class="function">maxdb_fetch_row()</a></span>.
   L&#039;option <code class="literal">MAXDB_BOTH</code> créera un seul
   tableau contenant les deux sortes d&#039;attributs.
  </p>
  <p class="para">
   En utilisant la constante MAXDB_ASSOC_UPPER, le comportement de cette fonction est identique
   à l&#039;utilisation de MAXDB_ASSOC à la seule différence que l&#039;index de la colonne du tableau
   est le nom du champ en majuscule.
  </p>
  <p class="para">
   En utilisant la constante MAXDB_ASSOC_LOWER, le comportement de cette fonction est identique 
   à l&#039;utilisation de MAXDB_ASSOC à la seule différence que l&#039;index de la colonne du tableau
   est le nom du champ en minuscule.
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.maxdb-fetch-array-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne un tableau qui correspond à la ligne récupérée ou
   <strong><code>NULL</code></strong> s&#039;il n&#039;y a plus de lignes de disponibles dans le jeu de
   résultats.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.maxdb-fetch-array-examples">
  <h3 class="title">Exemples</h3>
  <div class="example" id="example-1347">
   <p><strong>Exemple #1 Style orienté objet</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$maxdb&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">maxdb</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"MONA"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RED"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"DEMODB"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Vérification&nbsp;de&nbsp;la&nbsp;connexion&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">maxdb_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Connect&nbsp;failed:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">maxdb_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;name,&nbsp;state&nbsp;FROM&nbsp;hotel.city&nbsp;ORDER&nbsp;by&nbsp;zip"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$maxdb</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;numérique&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MAXDB_NUM</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;associatif&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MAXDB_ASSOC</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"NAME"</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"STATE"</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;associatif&nbsp;et&nbsp;numérique&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">MAXDB_BOTH</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"STATE"</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Libération&nbsp;du&nbsp;jeu&nbsp;de&nbsp;résultats&nbsp;*/<br /></span><span style="color: #0000BB">$result</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;Fermeture&nbsp;de&nbsp;la&nbsp;connexion&nbsp;*/<br /></span><span style="color: #0000BB">$maxdb</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-1348">
   <p><strong>Exemple #2 Style procédural</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">maxdb_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"MONA"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"RED"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"DEMODB"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Vérification&nbsp;de&nbsp;la&nbsp;connexion&nbsp;*/<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">maxdb_connect_errno</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Echec&nbsp;de&nbsp;la&nbsp;connexion&nbsp;:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">maxdb_connect_error</span><span style="color: #007700">());<br />&nbsp;&nbsp;&nbsp;&nbsp;exit();<br />}<br /><br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;name,&nbsp;state&nbsp;FROM&nbsp;hotel.city&nbsp;ORDER&nbsp;by&nbsp;zip"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">maxdb_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;numérique&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">maxdb_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MAXDB_NUM</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;associatif&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">maxdb_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MAXDB_ASSOC</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"NAME"</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"STATE"</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Tableau&nbsp;associatif&nbsp;et&nbsp;numérique&nbsp;*/<br /></span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">maxdb_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MAXDB_BOTH</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf&nbsp;</span><span style="color: #007700">(</span><span style="color: #DD0000">"%s&nbsp;(%s)\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"STATE"</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Libération&nbsp;du&nbsp;jeu&nbsp;de&nbsp;résultats&nbsp;*/<br /></span><span style="color: #0000BB">maxdb_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Fermeture&nbsp;de&nbsp;la&nbsp;connexion&nbsp;*/<br /></span><span style="color: #0000BB">maxdb_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">L&#039;exemple ci-dessus va afficher quelque chose de similaire à :</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
New York (NY)
New York (NY)
Long Island (NY)
</pre></div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.maxdb-fetch-array-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.maxdb-fetch-assoc.html" class="function" rel="rdfs-seeAlso">maxdb_fetch_assoc()</a> - R&eacute;cup&egrave;re une ligne de r&eacute;sultat dans un tableau associatif</span></li>
    <li class="member"><span class="function"><a href="function.maxdb-fetch-row.html" class="function" rel="rdfs-seeAlso">maxdb_fetch_row()</a> - R&eacute;cup&egrave;re une ligne de r&eacute;sultat en tant que tableau &eacute;num&eacute;r&eacute;</span></li>
    <li class="member"><span class="function"><strong>maxdb_fetch_resource()</strong></span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>