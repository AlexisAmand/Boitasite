<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Ex&eacute;cute une requ&ecirc;te pr&eacute;par&eacute;e PostGreSQL</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.pg-escape-string.html">« pg_escape_string</a></li>
      <li style="float: right;"><a href="function.pg-fetch-all-columns.html">pg_fetch_all_columns »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.pgsql.html">Fonctions PostgreSQL</a></li>
    <li>Ex&eacute;cute une requ&ecirc;te pr&eacute;par&eacute;e PostGreSQL</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.pg-execute" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pg_execute</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7)</p><p class="refpurpose"><span class="refname">pg_execute</span> &mdash; <span class="dc-title">
   Exécute une requête préparée PostGreSQL
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.pg-execute-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>pg_execute</strong></span>
    ([ <span class="methodparam"><span class="type">resource</span> <code class="parameter">$connection</code></span>
   ], <span class="methodparam"><span class="type">string</span> <code class="parameter">$stmtname</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$params</code></span>
   ) : <span class="type">resource</span></div>

  <p class="para rdfs-comment">
   Envoie une requête pour exécuter une requête préparée avec les
   paramètres donnés et attend le résultat.
  </p>
  <p class="para">
   <span class="function"><strong>pg_execute()</strong></span> est comme <span class="function"><a href="function.pg-query-params.html" class="function">pg_query_params()</a></span>, 
   mais la commande qui sera exécutée est spécifiée en nommant une requête
   préalablement préparée, au lieu de donner une chaîne en tant que requête.
   Cette caractéristique permet aux commandes qui seront utilisées à
   plusieurs reprises d&#039;être analysées et planifiées qu&#039;une seule fois,
   plutôt que d&#039;être exécutées chaque fois. La requête doit avoir été
   préalablement préparée dans la session courante.
   <span class="function"><strong>pg_execute()</strong></span> est supportée seulement avec les versions
   PostgreSQL 7.4 ou plus récentes; la commande échouera si vous l&#039;utilisez
   avec des versions antérieures.
  </p>
  <p class="para">
   Les paramètres sont identiques à la fonction <span class="function"><a href="function.pg-query-params.html" class="function">pg_query_params()</a></span>
   à l&#039;exception du nom de la requête préparée qui est donnée à la place de la
   requête sous forme de chaîne.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pg-execute-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">connection</code></dt>

     <dd>

      <p class="para">
       La ressource de connexion de la base de données PostgreSQL. Lorsque
       <code class="parameter">connection</code> n&#039;est pas présent, la connexion par
       défaut est utilisée. La connexion par défaut est la dernière connexion
       faite par <span class="function"><a href="function.pg-connect.html" class="function">pg_connect()</a></span> ou <span class="function"><a href="function.pg-pconnect.html" class="function">pg_pconnect()</a></span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">stmtname</code></dt>

     <dd>

      <p class="para">
       Le nom de la requête préparée à exécuter. Si une chaîne vide est
       spécifiée (&quot;&quot;), alors la requête qui n&#039;est pas nommée est exécutée. Le
       nom doit avoir été précédemment préparé en utilisant
       <span class="function"><a href="function.pg-prepare.html" class="function">pg_prepare()</a></span>, <span class="function"><a href="function.pg-send-prepare.html" class="function">pg_send_prepare()</a></span>
       ou une commande SQL <code class="literal">PREPARE</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">params</code></dt>

     <dd>

      <p class="para">
       Un tableau de valeurs de paramètres pour substituer les variables $1, $2, etc.
       dans la requête préparée originale. Le nombre d&#039;éléments présents dans
       le tableau doit concorder avec le nombre de variables à remplacer.
      </p>
      <div class="warning"><strong class="warning">Avertissement</strong>
       <p class="para">
        Les éléments sont convertis en chaînes de caractères en appelant cette
        fonction.
       </p>
      </div>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pg-execute-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Une ressource de résultats en cas de succès ou <strong><code>FALSE</code></strong> si une erreur survient.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.pg-execute-examples">
  <h3 class="title">Exemples</h3>
  <p class="para">
   <div class="example" id="example-2481">
    <p><strong>Exemple #1 Exemple avec <span class="function"><strong>pg_execute()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Connexion&nbsp;à&nbsp;une&nbsp;base&nbsp;de&nbsp;données&nbsp;nommée&nbsp;"marie"<br /></span><span style="color: #0000BB">$dbconn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"dbname=marie"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Prépare&nbsp;une&nbsp;requête&nbsp;pour&nbsp;l'exécution<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_prepare</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;magasins&nbsp;WHERE&nbsp;nom&nbsp;=&nbsp;$1'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Exécute&nbsp;la&nbsp;requête&nbsp;préparée.&nbsp;Notez&nbsp;qu'il&nbsp;n'est&nbsp;pas&nbsp;nécessaire&nbsp;d'échapper<br />//&nbsp;la&nbsp;chaîne&nbsp;"Joe's&nbsp;Widgets"<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"Joe's&nbsp;Widgets"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;Exécute&nbsp;la&nbsp;même&nbsp;requête&nbsp;préparée,&nbsp;cette&nbsp;fois&nbsp;avec&nbsp;un&nbsp;paramètre&nbsp;différent<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_execute</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbconn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"my_query"</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">"Vêtements&nbsp;Vêtements&nbsp;Vêtements"</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.pg-execute-seealso">
  <h3 class="title">Voir aussi</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.pg-prepare.html" class="function" rel="rdfs-seeAlso">pg_prepare()</a> - Envoie une requ&ecirc;te pour cr&eacute;er une requ&ecirc;te pr&eacute;par&eacute;e avec les param&egrave;tres
   donn&eacute;s et attend l'ex&eacute;cution</span></li>
    <li class="member"><span class="function"><a href="function.pg-send-prepare.html" class="function" rel="rdfs-seeAlso">pg_send_prepare()</a> - Envoie une requ&ecirc;te pour cr&eacute;er une requ&ecirc;te pr&eacute;par&eacute;e avec les param&egrave;tres
   donn&eacute;s, sans attendre la fin de son ex&eacute;cution</span></li>
    <li class="member"><span class="function"><a href="function.pg-query-params.html" class="function" rel="rdfs-seeAlso">pg_query_params()</a> - Envoie une commande au serveur et attend le r&eacute;sultat, avec les capacit&eacute;s de
   passer des param&egrave;tres s&eacute;par&eacute;ment de la commande texte SQL</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>