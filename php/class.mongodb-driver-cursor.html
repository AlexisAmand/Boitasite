<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>La classe MongoDB\Driver\Cursor</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongodb-driver-readconcern.unserialize.html">« MongoDB\Driver\ReadConcern::unserialize</a></li>
      <li style="float: right;"><a href="mongodb-driver-cursor.construct.html">MongoDB\Driver\Cursor::__construct »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="book.mongodb.html">MongoDB\Driver</a></li>
    <li>La classe MongoDB\Driver\Cursor</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="class.mongodb-driver-cursor" class="reference">

 <h1 class="title">La classe MongoDB\Driver\Cursor</h1>
 

 <div class="partintro"><p class="verinfo">(mongodb &gt;=1.0.0)</p>


  <div class="section" id="mongodb-driver-cursor.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    La classe <strong class="classname">MongoDB\Driver\Cursor</strong>
    encapsule le résultat d&#039;une commande ou d&#039;une requête MongoDB,
    pouvant être retournée par, respectivement,
    <span class="methodname"><a href="mongodb-driver-manager.executecommand.html" class="methodname">MongoDB\Driver\Manager::executeCommand()</a></span> ou
    <span class="methodname"><a href="mongodb-driver-manager.executequery.html" class="methodname">MongoDB\Driver\Manager::executeQuery()</a></span>.
   </p>
  </div>


  <div class="section" id="mongodb-driver-cursor.synopsis">
   <h2 class="title">Synopsis de la classe</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="modifier">final</span>
     <span class="ooclass">
      <strong class="classname">MongoDB\Driver\Cursor</strong>
     </span>
     
     <span class="oointerface">implements 
      <span class="interfacename"><a href="class.mongodb-driver-cursorinterface.html" class="interfacename">MongoDB\Driver\CursorInterface</a></span>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Méthodes */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">private</span> <span class="methodname"><a href="mongodb-driver-cursor.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-driver-cursor.getid.html" class="methodname">getId</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type"><a href="class.mongodb-driver-cursorid.html" class="type MongoDB\Driver\CursorId">MongoDB\Driver\CursorId</a></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-driver-cursor.getserver.html" class="methodname">getServer</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type"><a href="class.mongodb-driver-server.html" class="type MongoDB\Driver\Server">MongoDB\Driver\Server</a></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-driver-cursor.isdead.html" class="methodname">isDead</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">bool</span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-driver-cursor.settypemap.html" class="methodname">setTypeMap</a></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$typemap</code></span>
   ) : <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><a href="mongodb-driver-cursor.toarray.html" class="methodname">toArray</a></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">array</span></div>

   }</div>


  </div>

  <div class="section">
   <h2 class="title">Historique</h2>
   <p class="para">
    <table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>1.6.0</td>
        <td>
         Iméplémentation de <span class="interfacename"><a href="class.mongodb-driver-cursorinterface.html" class="interfacename">MongoDB\Driver\CursorInterface</a></span>,
         qui étend <span class="interfacename"><a href="class.traversable.html" class="interfacename">Traversable</a></span>.
        </td>
       </tr>

      </tbody>
     
    </table>

   </p>
  </div>

  <div class="section" id="mongodb-driver-cursor.examples">
   <h2 class="title">Exemples</h2>

   <div class="example" id="example-1694">
    <p><strong>Exemple #1 Lecture d&#039;un jeu de résultats</strong></p>
    <div class="example-contents"><p>
     <span class="methodname"><a href="mongodb-driver-manager.executecommand.html" class="methodname">MongoDB\Driver\Manager::executeCommand()</a></span> et
     <span class="methodname"><a href="mongodb-driver-manager.executequery.html" class="methodname">MongoDB\Driver\Manager::executeQuery()</a></span> les deux 
     renvoient leur (s) résultat (s) en tant qu&#039;objet <strong class="classname">MongoDB\Driver\Cursor</strong>.
     Cet objet peut être utilisé pour itérer au sein du jeu de résultats de la 
     commande ou de la requête.
    </p></div>
    <div class="example-contents"><p>
     Parce que <strong class="classname">MongoDB\Driver\Cursor</strong> implémente l&#039;interface
     <span class="interfacename"><a href="class.traversable.html" class="interfacename">Traversable</a></span>, vous pouvez simplement itérer 
     sur le jeu de résultats avec
     <a href="control-structures.foreach.html" class="link"><code class="literal">foreach</code></a>.
    </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$manager&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Manager</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;Insérez&nbsp;des&nbsp;documents&nbsp;afin&nbsp;que&nbsp;notre&nbsp;requête&nbsp;renvoie&nbsp;des&nbsp;informations&nbsp;*/<br /></span><span style="color: #0000BB">$bulkWrite&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">BulkWrite</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bulkWrite</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">([</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Ceres'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">946</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'distance'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2.766</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$bulkWrite</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">([</span><span style="color: #DD0000">'name'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Vesta'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">525</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'distance'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2.362</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeBulkWrite</span><span style="color: #007700">(</span><span style="color: #DD0000">"test.asteroids"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bulkWrite</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Requête&nbsp;pour&nbsp;tous&nbsp;les&nbsp;éléments&nbsp;de&nbsp;la&nbsp;collection&nbsp;*/<br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Query</span><span style="color: #007700">(&nbsp;[]&nbsp;);<br /><br /></span><span style="color: #FF8000">/*&nbsp;Interrogez&nbsp;la&nbsp;collection&nbsp;&nbsp;"asteroids"&nbsp;de&nbsp;la&nbsp;base&nbsp;de&nbsp;données&nbsp;"test"&nbsp;*/<br /></span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeQuery</span><span style="color: #007700">(</span><span style="color: #DD0000">"test.asteroids"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*&nbsp;$cursor&nbsp;contient&nbsp;maintenant&nbsp;un&nbsp;objet&nbsp;qui&nbsp;entoure&nbsp;le&nbsp;jeu&nbsp;de&nbsp;résultats.&nbsp;<br />&nbsp;*&nbsp;Utilisez&nbsp;foreach()&nbsp;pour&nbsp;itérer&nbsp;sur&nbsp;tous&nbsp;les&nbsp;résultats&nbsp;*/<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$document</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$document</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>L&#039;exemple ci-dessus va afficher quelque chose de similaire à :</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
stdClass Object
(
    [_id] =&gt; MongoDB\BSON\ObjectId Object
        (
            [oid] =&gt; 5a4cff2f122d3321565d8cc2
        )

    [name] =&gt; Ceres
    [size] =&gt; 946
    [distance] =&gt; 2.766
)
stdClass Object
(
    [_id] =&gt; MongoDB\BSON\ObjectId Object
        (
            [oid] =&gt; 5a4cff2f122d3321565d8cc3
        )

    [name] =&gt; Vesta
    [size] =&gt; 525
    [distance] =&gt; 2.362
}
</pre></div>
    </div>
   </div>

   <div class="example" id="example-1695">
    <p><strong>Exemple #2 Lecture d&#039;un jeu de résultats pour un curseur à queue</strong></p>
    <div class="example-contents"><p>
     Les <a href="https://docs.mongodb.com/manual/core/tailable-cursors" class="link external">&raquo;&nbsp;curseurs à queue</a>
     sont un type spécial de curseur MongoDB qui permet au client de lire 
     quelques résultats et d&#039;attendre jusqu&#039;à ce que plus de documents 
     deviennent disponibles. Ces curseurs sont principalement utilisés avec
     <a href="https://docs.mongodb.com/manual/core/capped-collections" class="link external">&raquo;&nbsp;Capped Collections</a>
     et <a href="https://docs.mongodb.com/manual/changeStreams" class="link external">&raquo;&nbsp;Change Streams</a>.
    </p></div>
    <div class="example-contents"><p>
     Bien que les curseurs normaux puissent être parcourus une fois avec 
     <code class="literal">foreach</code>, cette approche ne fonctionnera pas avec les 
     curseurs à queue. Lorsque <code class="literal">foreach</code> est utilisé avec un
     curseur à queue, la boucle s&#039;arrêtera à la fin du jeu de résultats initial. 
     Tenter de continuer l&#039;itération sur le curseur avec une seconde 
     <code class="literal">foreach</code> lèverait une exception, car PHP tente de 
     rembobiner le curseur. Comme pour les objets result dans d&#039;autres pilotes 
     de base de données, les curseurs dans MongoDB prennent uniquement en charge 
     l&#039;itération en avant, ce qui signifie qu&#039;ils ne peuvent pas être rembobinés.
    </p></div>
    <div class="example-contents"><p>
     Afin de lire en continu à partir d&#039;un curseur de queue, l&#039;objet Cursor doit 
     être enveloppé avec un <a href="class.iteratoriterator.html" class="classname">IteratorIterator</a>. Cela permet 
     à l&#039;application de contrôler directement l&#039;itération du curseur, d&#039;éviter 
     de rembobiner par inadvertance le curseur et de décider quand attendre les 
     nouveaux résultats ou arrêter complètement l&#039;itération.
    </p></div>
    <div class="example-contents"><p>
     Afin de démontrer un curseur en action, deux scripts seront utilisés: un 
     &quot;Producer&quot; et un &quot;Consumer&quot;. Le script Producer créera une nouvelle collection 
     plafonnée à l&#039;aide de la  commande 
     <a href="https://docs.mongodb.com/manual/reference/command/create" class="link external">&raquo;&nbsp;Create</a> et 
     procédera à l&#039;insertion d&#039;un nouveau document dans cette collection 
     chaque seconde.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$manager&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Manager</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeCommand</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">,&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Command</span><span style="color: #007700">([<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'create'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'asteroids'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'capped'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'size'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1048576</span><span style="color: #007700">,<br />]));<br /><br />while&nbsp;(</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bulkWrite&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">BulkWrite</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bulkWrite</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">([</span><span style="color: #DD0000">'createdAt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">BSON</span><span style="color: #007700">\</span><span style="color: #0000BB">UTCDateTime</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeBulkWrite</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.asteroids'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bulkWrite</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     Avec le script Producer toujours en cours d&#039;exécution, un deuxième script 
     consommateur peut être exécuté pour lire les documents insérés à l&#039;aide 
     d&#039;un curseur de queue, indiqué par les options <code class="literal">tailable</code> 
     et <code class="literal">awaitData</code> à 
     <span class="function"><a href="mongodb-driver-query.construct.html" class="function">MongoDB\Driver\Query::__construct()</a></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$manager&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Manager</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$query&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDB</span><span style="color: #007700">\</span><span style="color: #0000BB">Driver</span><span style="color: #007700">\</span><span style="color: #0000BB">Query</span><span style="color: #007700">([],&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tailable'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'awaitData'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br />]);<br /><br /></span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$manager</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">executeQuery</span><span style="color: #007700">(</span><span style="color: #DD0000">'test.asteroids'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$query</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$iterator&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">IteratorIterator</span><span style="color: #007700">(</span><span style="color: #0000BB">$cursor</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$iterator</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">rewind</span><span style="color: #007700">();<br /><br />while&nbsp;(</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$iterator</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valid</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$document&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$iterator</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">current</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Consumed&nbsp;document&nbsp;created&nbsp;at:&nbsp;%s\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$document</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createdAt</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iterator</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">next</span><span style="color: #007700">();<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     Le script consommateur va commencer par imprimer rapidement tous les 
     documents disponibles dans la collection plafonnée (comme si 
     <code class="literal">foreach</code> avait été utilisé); toutefois, il ne se 
     terminera pas à la fin du jeu de résultats initial. Étant donné que 
     le curseur est en file d&#039;attente, l&#039;appel de 
     <span class="function"><a href="iteratoriterator.next.html" class="function">IteratorIterator::next()</a></span> se bloque et attend des 
     résultats supplémentaires. <span class="function"><a href="iteratoriterator.valid.html" class="function">IteratorIterator::valid()</a></span> 
     est également utilisé pour vérifier s&#039;il y a effectivement des données 
     disponibles à lire à chaque étape.
    </p></div>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      Cet exemple utilise l&#039;option de requête <code class="literal">awaitData</code> pour 
      indiquer au serveur de bloquer pendant une courte période (par exemple une 
      seconde) à la fin du jeu de résultats avant de retourner une réponse au 
      pilote. Ceci est utilisé pour empêcher le pilote d&#039;interroger agressivement 
      le serveur lorsqu&#039;il n&#039;y a aucun résultat disponible. L&#039;option 
      <code class="literal">maxAwaitTimeMS</code> peut être utilisée conjointement avec 
      <code class="literal">tailable</code> et <code class="literal">awaitData</code> pour spécifier 
      la durée pendant laquelle le serveur doit se bloquer lorsqu&#039;il atteint la 
      fin du jeu de résultats.
     </span>
    </p></blockquote>
   </div>
  </div>

  <div class="section">
   <h2 class="title">Erreurs / Exceptions</h2>
   <p class="simpara">
    Lors de l&#039;itération sur l&#039;objet Cursor, les données BSON sont converties en variables PHP. Cette itération peut provoquer les exceptions suivantes:
   </p>
   <ul class="simplelist">
    <li class="member">
     Lèle une exception
     <a href="class.mongodb-driver-exception-invalidargumentexception.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a> si 
     une classe dans le mappage de type ne peut pas être instanciée ou 
     n&#039;implémente pas <span class="interfacename"><a href="class.mongodb-bson-unserializable.html" class="interfacename">MongoDB\BSON\Unserializable</a></span>.
    </li>
    <li class="member">Lance une exception <a href="class.mongodb-driver-exception-unexpectedvalueexception.html" class="classname">MongoDB\Driver\Exception\UnexpectedValueException</a> si l&#039;entrée ne contient pas exactement un document BSON. Les raisons possibles comprennent, mais ne sont pas limitées à, BSON invalide, des données supplémentaires (après avoir lu un document BSON), ou une erreur imprévu de <a href="https://github.com/mongodb/libbson" class="link external">&raquo;&nbsp;libbson</a>.</li>
   </ul>
  </div>
 </div>

 























































<h2>Sommaire</h2><ul class="chunklist chunklist_reference"><li><a href="mongodb-driver-cursor.construct.html">MongoDB\Driver\Cursor::__construct</a> — Cr&eacute;er un nouveau curseur (non utilis&eacute;)</li><li><a href="mongodb-driver-cursor.getid.html">MongoDB\Driver\Cursor::getId</a> — Retourne l'ID de ce curseur</li><li><a href="mongodb-driver-cursor.getserver.html">MongoDB\Driver\Cursor::getServer</a> — Retourne le serveur associ&eacute; &agrave; ce curseur</li><li><a href="mongodb-driver-cursor.isdead.html">MongoDB\Driver\Cursor::isDead</a> — V&eacute;rifie si le curseur est &eacute;puis&eacute; ou peut avoir des r&eacute;sultats suppl&eacute;mentaires</li><li><a href="mongodb-driver-cursor.settypemap.html">MongoDB\Driver\Cursor::setTypeMap</a> — D&eacute;fini un type de carte &agrave; utiliser pour la d&eacute;lin&eacute;arisation BSON</li><li><a href="mongodb-driver-cursor.toarray.html">MongoDB\Driver\Cursor::toArray</a> — Retourne un tableau contenant tous les r&eacute;sultats pour ce curseur</li></ul>
</div>
</div></div></body></html>