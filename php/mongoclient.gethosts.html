<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Met &agrave; jour les statuts de tous les h&ocirc;tes associ&eacute;s</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongoclient.getconnections.html">« MongoClient::getConnections</a></li>
      <li style="float: right;"><a href="mongoclient.getreadpreference.html">MongoClient::getReadPreference »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mongoclient.html">MongoClient</a></li>
    <li>Met &agrave; jour les statuts de tous les h&ocirc;tes associ&eacute;s</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mongoclient.gethosts" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoClient::getHosts</h1>
  <p class="verinfo">(PECL mongo &gt;=1.3.0)</p><p class="refpurpose"><span class="refname">MongoClient::getHosts</span> &mdash; <span class="dc-title">Met à jour les statuts de tous les hôtes associés</span></p>

 </div>

 <div id="mongoclient.gethosts-soft-deprecation-notice" class="soft-deprecation-notice">
  <p class="para">Cette extension, qui définie cette méthode est obsolète.
Veuillez utiliser l&#039;extension <a href="set.mongodb.html" class="link">MongoDB</a> à la place.
Les alertnatives à cette méthode sont :</p>
  <ul class="simplelist">
   <li class="member"><span class="methodname"><a href="mongodb-driver-manager.getservers.html" class="methodname">MongoDB\Driver\Manager::getServers()</a></span></li>
  </ul>
 </div>

 <div class="refsect1 description" id="refsect1-mongoclient.gethosts-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>MongoClient::getHosts</strong></span>
    ( <span class="methodparam">void</span>
   ) : <span class="type">array</span></div>


  <p class="para rdfs-comment">
   Cette méthode est utile uniquement avec une connexion à un jeu de
   réplication. Elle retourne le statut de tous les hôtes du jeu. Sans
   jeu de réplication, elle retournera seulement un tableau avec un
   élément contenant le host auquel vous êtes connecté.
  </p>

  <p class="para">
   Reportez-vous à la <a href="mongo.queries.html" class="link">section sur les requêtes</a>
   de ce manuel pour plus d&#039;informations sur la distribution de lecture aux secondaires.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mongoclient.gethosts-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">Cette fonction ne contient aucun paramètre.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mongoclient.gethosts-returnvalues">
  <h3 class="title">Valeurs de retour</h3>
  <p class="para">
   Retourne un tableau d&#039;informations sur les hôtes du jeu, incluant chaque
   nom d&#039;hôtes, la santé (1 signifie que l&#039;hôte est en bonne santé), l&#039;état
   (1 primaire, 2 secondaire, 3 autre), le temps écoulé pour pinger le serveur
   et quand le dernier ping a eu lieu. Par exemple, pour un jeu de réplication
   contenant 3 membres s&#039;exécutant en local, ces informations ressembleront
   à ceci :
  </p>
  <div class="example-contents screen">
<div class="returnvaluescode"><pre class="returnvaluescode">array(3) {
  [&quot;A:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;A&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(2)
    [&quot;ping&quot;]=&gt;
    int(369)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
  [&quot;B:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;B&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(1)
    [&quot;ping&quot;]=&gt;
    int(139)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
  [&quot;C:27017&quot;]=&gt;
  array(4) {
    [&quot;host&quot;]=&gt;
    &quot;C&quot;
    [&quot;port&quot;]=&gt;
    27017
    [&quot;health&quot;]=&gt;
    int(1)
    [&quot;state&quot;]=&gt;
    int(2)
    [&quot;ping&quot;]=&gt;
    int(1012)
    [&quot;lastPing&quot;]=&gt;
    int(1309470644)
  }
}</pre>
</div>
  </div>
 </div>


 <div class="refsect1 changelog" id="refsect1-mongoclient.gethosts-changelog">
  <h3 class="title">Historique</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.2.10</td>
       <td>
        <p class="para">
         Le support de l&#039;absence de jeu de réplication a été ajouté.
        </p>
        <p class="para">
         Les éléments de tableau retournés incluent à présent également le
         <code class="literal">hostname</code> et le  <code class="literal">port</code>.
        </p>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-mongoclient.gethosts-seealso">
  <h3 class="title">Voir aussi</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="mongoclient.getconnections.html" class="function" rel="rdfs-seeAlso">MongoClient::getConnections()</a> - Retourne des informations sur toutes les connexions ouvertes</span></li>
  </ul>
 </div>

</div></div></div></body></html>