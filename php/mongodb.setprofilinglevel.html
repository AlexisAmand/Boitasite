<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Configure le niveau de profilage de la base de donn&eacute;es</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mongodb.selectcollection.html">« MongoDB::selectCollection</a></li>
      <li style="float: right;"><a href="mongodb.setreadpreference.html">MongoDB::setReadPreference »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mongodb.html">MongoDB</a></li>
    <li>Configure le niveau de profilage de la base de donn&eacute;es</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mongodb.setprofilinglevel" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoDB::setProfilingLevel</h1>
  <p class="verinfo">(PECL mongo &gt;=0.9.0)</p><p class="refpurpose"><span class="refname">MongoDB::setProfilingLevel</span> &mdash; <span class="dc-title">Configure le niveau de profilage de la base de données</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mongodb.setprofilinglevel-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>MongoDB::setProfilingLevel</strong></span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$level</code></span>
   ) : <span class="type">int</span></div>

  <p class="para rdfs-comment">
   Cette méthode modifie le niveau de profilage courant de la
   base de données.
  </p>
  <p class="para">
   Cette fonction est un équivalent à :
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">setProfilingLevel</span><span style="color: #007700">(</span><span style="color: #0000BB">$level</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">command</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'profile'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$level</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </p>
  <p class="para">
   Les options pour le niveau sont 0 (off), 1 (requêtes &gt; 100ms), et 2 (toutes les
   requêtes). Si vous souhaitez profiler les requêtes qui prennent plus de temps
   d&#039;une période donnée, utilisez la commande de base de données et passez là
   dans la seconde option, le nombre de millisecondes. Par exemple, pour profiler
   toutes les requêtes qui prennent plus d&#039;une seconde, exécutez :
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">command</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'profile'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'slowms'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </p>
  <p class="para">
   Le profilage de requêtes apparaissent dans la collection
   <code class="literal">system.profile</code> de la base de données.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-mongodb.setprofilinglevel-parameters">
  <h3 class="title">Liste de paramètres</h3>
  <p class="para">
   <dl>

    
     <dt>

      <code class="parameter">level</code>
     </dt>

     <dd>

      <p class="para">
       Le niveau de profilage.
      </p>
     </dd>

       
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-mongodb.setprofilinglevel-returnvalues">
  <h3 class="title">Valeurs de retour</h3>  
  <p class="para">
   Retourne le niveau de profilage précédent.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-mongodb.setprofilinglevel-seealso">
  <h3 class="title">Voir aussi</h3>
  <ul class="simplelist">
   <li class="member">Documentation MongoDB sur le <a href="https://docs.mongodb.com/manual/tutorial/manage-the-database-profiler/" class="link external">&raquo;&nbsp;profiling</a></li>
   <li class="member"><span class="methodname"><a href="mongodb.getprofilinglevel.html" class="methodname" rel="rdfs-seeAlso">MongoDB::getProfilingLevel()</a> - Lit le niveau de profilage de la base de donn&eacute;es</span></li>
  </ul>
 </div>

 
</div></div></div></body></html>